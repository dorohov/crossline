"use strict";function fecss_ScreenJS(){var t=this;t.screen={w:0,h:0,type:"xs",orientation:"portrait"},t.__resizefunctions={xs:{default:[],portrait:[],landscape:[]},sm:{default:[],portrait:[],landscape:[]},md:{default:[],portrait:[],landscape:[]},"md-h":{default:[],portrait:[],landscape:[]},lg:{default:[],portrait:[],landscape:[]},xl:{default:[],portrait:[],landscape:[]},device:{default:[],portrait:[],landscape:[]},deviceLg:{default:[],portrait:[],landscape:[]},pc:{default:[],portrait:[],landscape:[]},screenLG:{default:[],portrait:[],landscape:[]},xxl:{default:[],portrait:[],landscape:[]}},t.isXS=function(){return t.screen.w<768},t.isSM=function(){return t.screen.w>767&&t.screen.w<1025},t.isMD=function(){return t.screen.w>1024&&t.screen.w<1200},t.isMDH=function(){return t.screen.w>1024&&t.screen.w<1281&&t.screen.h>909},t.deviceLg=function(){return t.screen.w<1200},t.isLG=function(){return t.screen.w>1199&&t.screen.w<1400},t.isXL=function(){return t.screen.w>1399&&t.screen.w<1681},t.isXXL=function(){return t.screen.w>1680},t.device=function(){return t.screen.w<1025},t.deviceLg=function(){return t.screen.w<1200},t.isScreenLg=function(){return t.screen.w>1199},t.isScreen=function(){return t.screen.w>1024},t.screenIs=function(){var e="noname";return t.isXS()?e="xs":t.isSM()?e="sm":t.isMD()?e="md":t.isMDH()?e="md-h":t.isLG()?e="lg":t.isXL()?e="xl":t.device()?e="device":t.isScreen()?e="pc":t.deviceLg()&&(e="deviceLg"),e},t.isPortrait=function(){return t.screen.h>t.screen.w},t.isLandscape=function(){return t.screen.w>t.screen.h},t.orientationIs=function(){var e="noname";return t.isPortrait()?e="portrait":t.isLandscape()&&(e="landscape"),e},t.is=function(e){return e==t.screenIs()||e==t.orientationIs()},t.onResize=function(e,i){if(e.type){var s=t.__resizefunctions[e.type];e.orientation?s[e.orientation].push(i):s.default.push(i)}},t.resizeCall=function(e){if(e.type){if(t.__resizefunctions[e.type].default)for(var i=0;i<t.__resizefunctions[e.type].default.length;i++){var s=t.__resizefunctions[e.type].default[i];s(e)}if(t.__resizefunctions[e.type][e.orientation])for(var i=0;i<t.__resizefunctions[e.type][e.orientation].length;i++){var s=t.__resizefunctions[e.type][e.orientation][i];s(e)}}},t.setScreen=function(){return t.screen.w=$(window).outerWidth(!0),t.screen.h=$(window).outerHeight(!0),t.screen.type=t.screenIs(),t.screen.orientation=t.orientationIs(),t.resizeCall(t.screen),console.log(t.screen),t.screen}}window.onerror=function(t,e,i,s,a){console.log("Error FECSS: "+e+":"+i+":"+s+": "+JSON.stringify(t)+"\n"+JSON.stringify(a))};var screenJS=new fecss_ScreenJS;$(window).on("resize",function(){screenJS.setScreen()}),function(t){var e=jQuery.fn.addClass,i=jQuery.fn.removeClass,s=jQuery.fn.toggleClass;t.fn.addClass=function(){var i=e.apply(this,arguments);return t(this).trigger("changeClass",["add"]),i},t.fn.removeClass=function(){var e=i.apply(this,arguments);return t(this).trigger("changeClass",["remove"]),e},t.fn.toggleClass=function(){var e=s.apply(this,arguments);return t(this).trigger("changeClass",["toggle"]),e}}(jQuery);var Azbn7__API__Request=function(t,e){var i=this;return $.ajax({url:"/api/",type:"POST",dataType:"json",data:t,success:e,error:function(t,e,i){console.warn(e)}}),i};if($(function(){$("form.azbn7__api__form").on("submit",function(t){t.preventDefault()}).on("jqv.form.result",function(t,e){if(t.preventDefault(),e);else{var i=$(this),s=i.clone(),a=i.attr("data-method")||"formsave";s.append($("<input/>",{type:"hidden",name:"method",value:a})),new Azbn7__API__Request(s.serialize(),function(t){s.trigger("reset").empty().remove(),i.trigger("reset"),i.closest(".modal").modal("hide"),$("#modal-message").modal()})}})}),function(t){var e={init:function(i){var s=this;return s.data("jqv")&&null!=s.data("jqv")||(i=e._saveOptions(s,i),t(document).on("click",".formError",function(){t(this).fadeOut(150,function(){t(this).closest(".formError").remove()})})),this},attach:function(i){var s,a=this;return s=i?e._saveOptions(a,i):a.data("jqv"),s.validateAttribute=a.find("[data-validation-engine*=validate]").length?"data-validation-engine":"class",s.binded&&(a.on(s.validationEventTrigger,"["+s.validateAttribute+"*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)",e._onFieldEvent),a.on("click","["+s.validateAttribute+"*=validate][type=checkbox],["+s.validateAttribute+"*=validate][type=radio]",e._onFieldEvent),a.on(s.validationEventTrigger,"["+s.validateAttribute+"*=validate][class*=datepicker]",{delay:300},e._onFieldEvent)),s.autoPositionUpdate&&t(window).bind("resize",{noAnimation:!0,formElem:a},e.updatePromptsPosition),a.on("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",e._submitButtonClick),a.removeData("jqv_submitButton"),a.on("submit",e._onSubmitEvent),this},detach:function(){var i=this,s=i.data("jqv");return i.off(s.validationEventTrigger,"["+s.validateAttribute+"*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)",e._onFieldEvent),i.off("click","["+s.validateAttribute+"*=validate][type=checkbox],["+s.validateAttribute+"*=validate][type=radio]",e._onFieldEvent),i.off(s.validationEventTrigger,"["+s.validateAttribute+"*=validate][class*=datepicker]",e._onFieldEvent),i.off("submit",e._onSubmitEvent),i.removeData("jqv"),i.off("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",e._submitButtonClick),i.removeData("jqv_submitButton"),s.autoPositionUpdate&&t(window).off("resize",e.updatePromptsPosition),this},validate:function(i){var s,a=t(this),o=null;if(a.is("form")||a.hasClass("validationEngineContainer")){if(a.hasClass("validating"))return!1;a.addClass("validating"),s=i?e._saveOptions(a,i):a.data("jqv");var o=e._validateFields(this);setTimeout(function(){a.removeClass("validating")},100),o&&s.onSuccess?s.onSuccess():!o&&s.onFailure&&s.onFailure()}else{if(!a.is("form")&&!a.hasClass("validationEngineContainer")){var n=a.closest("form, .validationEngineContainer");return s=n.data("jqv")?n.data("jqv"):t.validationEngine.defaults,o=e._validateField(a,s),o&&s.onFieldSuccess?s.onFieldSuccess():s.onFieldFailure&&s.InvalidFields.length>0&&s.onFieldFailure(),!o}a.removeClass("validating")}return s.onValidationComplete?!!s.onValidationComplete(n,o):o},updatePromptsPosition:function(i){if(i&&this==window)var s=i.data.formElem,a=i.data.noAnimation;else var s=t(this.closest("form, .validationEngineContainer"));var o=s.data("jqv");return o||(o=e._saveOptions(s,o)),s.find("["+o.validateAttribute+"*=validate]").not(":disabled").each(function(){var i=t(this);o.prettySelect&&i.is(":hidden")&&(i=s.find("#"+o.usePrefix+i.attr("id")+o.useSuffix));var n=e._getPrompt(i),r=t(n).find(".formErrorContent").html();n&&e._updatePrompt(i,t(n),r,void 0,!1,o,a)}),this},showPrompt:function(t,i,s,a){var o=this.closest("form, .validationEngineContainer"),n=o.data("jqv");return n||(n=e._saveOptions(this,n)),s&&(n.promptPosition=s),n.showArrow=1==a,e._showPrompt(this,t,i,!1,n),this},hide:function(){var i=t(this).closest("form, .validationEngineContainer"),s=i.data("jqv");s||(s=e._saveOptions(i,s));var a,o=s&&s.fadeDuration?s.fadeDuration:.3;return a=i.is("form")||i.hasClass("validationEngineContainer")?"parentForm"+e._getClassName(t(i).attr("id")):e._getClassName(t(i).attr("id"))+"formError",t("."+a).fadeTo(o,0,function(){t(this).closest(".formError").remove()}),this},hideAll:function(){var e=this,i=e.data("jqv"),s=i?i.fadeDuration:300;return t(".formError").fadeTo(s,0,function(){t(this).closest(".formError").remove()}),this},_onFieldEvent:function(i){var s=t(this),a=s.closest("form, .validationEngineContainer"),o=a.data("jqv");o||(o=e._saveOptions(a,o)),o.eventTrigger="field",1==o.notEmpty?s.val().length>0&&window.setTimeout(function(){e._validateField(s,o)},i.data?i.data.delay:0):window.setTimeout(function(){e._validateField(s,o)},i.data?i.data.delay:0)},_onSubmitEvent:function(){var i=t(this),s=i.data("jqv");if(i.data("jqv_submitButton")){var a=t("#"+i.data("jqv_submitButton"));if(a&&a.length>0&&(a.hasClass("validate-skip")||"true"==a.attr("data-validation-engine-skip")))return!0}s.eventTrigger="submit";var o=e._validateFields(i);return o&&s.ajaxFormValidation?(e._validateFormWithAjax(i,s),!1):s.onValidationComplete?!!s.onValidationComplete(i,o):o},_checkAjaxStatus:function(e){var i=!0;return t.each(e.ajaxValidCache,function(t,e){if(!e)return i=!1,!1}),i},_checkAjaxFieldStatus:function(t,e){return 1==e.ajaxValidCache[t]},_validateFields:function(i){var s=i.data("jqv"),a=!1;i.trigger("jqv.form.validating");var o=null;if(i.find("["+s.validateAttribute+"*=validate]").not(":disabled").each(function(){var n=t(this),r=[];if(t.inArray(n.attr("name"),r)<0){if(a|=e._validateField(n,s),a&&null==o&&(n.is(":hidden")&&s.prettySelect?o=n=i.find("#"+s.usePrefix+e._jqSelector(n.attr("id"))+s.useSuffix):(n.data("jqv-prompt-at")instanceof jQuery?n=n.data("jqv-prompt-at"):n.data("jqv-prompt-at")&&(n=t(n.data("jqv-prompt-at"))),o=n)),s.doNotShowAllErrosOnSubmit)return!1;if(r.push(n.attr("name")),1==s.showOneMessage&&a)return!1}}),i.trigger("jqv.form.result",[a]),a){if(s.scroll){var n=o.offset().top,r=o.offset().left,l=s.promptPosition;if("string"==typeof l&&l.indexOf(":")!=-1&&(l=l.substring(0,l.indexOf(":"))),"bottomRight"!=l&&"bottomLeft"!=l){var c=e._getPrompt(o);c&&(n=c.offset().top)}if(s.scrollOffset&&(n-=s.scrollOffset),s.isOverflown){var d=t(s.overflownDIV);if(!d.length)return!1;var h=d.scrollTop(),u=-parseInt(d.offset().top);n+=h+u-5;var p=t(s.overflownDIV).filter(":not(:animated)");p.animate({scrollTop:n},1100,function(){s.focusFirstField&&o.focus()})}else t("html, body").animate({scrollTop:n},1100,function(){s.focusFirstField&&o.focus()}),t("html, body").animate({scrollLeft:r},1100)}else s.focusFirstField&&o.focus();return!1}return!0},_validateFormWithAjax:function(i,s){var a=i.serialize(),o=s.ajaxFormValidationMethod?s.ajaxFormValidationMethod:"GET",n=s.ajaxFormValidationURL?s.ajaxFormValidationURL:i.attr("action"),r=s.dataType?s.dataType:"json";t.ajax({type:o,url:n,cache:!1,dataType:r,data:a,form:i,methods:e,options:s,beforeSend:function(){return s.onBeforeAjaxFormValidation(i,s)},error:function(t,i){s.onFailure?s.onFailure(t,i):e._ajaxError(t,i)},success:function(a){if("json"==r&&a!==!0){for(var o=!1,n=0;n<a.length;n++){var l=a[n],c=l[0],d=t(t("#"+c)[0]);if(1==d.length){var h=l[2];if(1==l[1])if(""!=h&&h){if(s.allrules[h]){var u=s.allrules[h].alertTextOk;u&&(h=u)}s.showPrompts&&e._showPrompt(d,h,"pass",!1,s,!0)}else e._closePrompt(d);else{if(o|=!0,s.allrules[h]){var u=s.allrules[h].alertText;u&&(h=u)}s.showPrompts&&e._showPrompt(d,h,"",!1,s,!0)}}}s.onAjaxFormComplete(!o,i,a,s)}else s.onAjaxFormComplete(!0,i,a,s)}})},_validateField:function(i,s,a){if(i.attr("id")||(i.attr("id","form-validation-field-"+t.validationEngine.fieldIdCounter),++t.validationEngine.fieldIdCounter),i.hasClass(s.ignoreFieldsWithClass))return!1;if(!s.validateNonVisibleFields&&(i.is(":hidden")&&!s.prettySelect||i.parent().is(":hidden")))return!1;var o=i.attr(s.validateAttribute),n=/validate\[(.*)\]/.exec(o);if(!n)return!1;var r=n[1],l=r.split(/\[|,|\]/),c=!1,d=i.attr("name"),h="",u="",p=!1,f=!1;s.isError=!1,s.showArrow=1==s.showArrow,s.maxErrorsPerField>0&&(f=!0);for(var m=t(i.closest("form, .validationEngineContainer")),g=0;g<l.length;g++)l[g]=l[g].toString().replace(" ",""),""===l[g]&&delete l[g];for(var g=0,v=0;g<l.length;g++){if(f&&v>=s.maxErrorsPerField){if(!p){var _=t.inArray("required",l);p=_!=-1&&_>=g}break}var w=void 0;switch(l[g]){case"required":p=!0,w=e._getErrorMessage(m,i,l[g],l,g,s,e._required);break;case"custom":w=e._getErrorMessage(m,i,l[g],l,g,s,e._custom);break;case"groupRequired":var x="["+s.validateAttribute+"*="+l[g+1]+"]",b=m.find(x).eq(0);b[0]!=i[0]&&(e._validateField(b,s,a),s.showArrow=!0),w=e._getErrorMessage(m,i,l[g],l,g,s,e._groupRequired),w&&(p=!0),s.showArrow=!1;break;case"ajax":w=e._ajax(i,l,g,s),w&&(u="load");break;case"minSize":w=e._getErrorMessage(m,i,l[g],l,g,s,e._minSize);break;case"maxSize":w=e._getErrorMessage(m,i,l[g],l,g,s,e._maxSize);break;case"min":w=e._getErrorMessage(m,i,l[g],l,g,s,e._min);break;case"max":w=e._getErrorMessage(m,i,l[g],l,g,s,e._max);break;case"past":w=e._getErrorMessage(m,i,l[g],l,g,s,e._past);break;case"future":w=e._getErrorMessage(m,i,l[g],l,g,s,e._future);break;case"dateRange":var x="["+s.validateAttribute+"*="+l[g+1]+"]";s.firstOfGroup=m.find(x).eq(0),s.secondOfGroup=m.find(x).eq(1),(s.firstOfGroup[0].value||s.secondOfGroup[0].value)&&(w=e._getErrorMessage(m,i,l[g],l,g,s,e._dateRange)),w&&(p=!0),s.showArrow=!1;break;case"dateTimeRange":var x="["+s.validateAttribute+"*="+l[g+1]+"]";s.firstOfGroup=m.find(x).eq(0),s.secondOfGroup=m.find(x).eq(1),(s.firstOfGroup[0].value||s.secondOfGroup[0].value)&&(w=e._getErrorMessage(m,i,l[g],l,g,s,e._dateTimeRange)),w&&(p=!0),s.showArrow=!1;break;case"maxCheckbox":i=t(m.find("input[name='"+d+"']")),w=e._getErrorMessage(m,i,l[g],l,g,s,e._maxCheckbox);break;case"minCheckbox":i=t(m.find("input[name='"+d+"']")),w=e._getErrorMessage(m,i,l[g],l,g,s,e._minCheckbox);break;case"equals":w=e._getErrorMessage(m,i,l[g],l,g,s,e._equals);break;case"funcCall":w=e._getErrorMessage(m,i,l[g],l,g,s,e._funcCall);break;case"creditCard":w=e._getErrorMessage(m,i,l[g],l,g,s,e._creditCard);break;case"condRequired":w=e._getErrorMessage(m,i,l[g],l,g,s,e._condRequired),void 0!==w&&(p=!0);break;case"funcCallRequired":w=e._getErrorMessage(m,i,l[g],l,g,s,e._funcCallRequired),void 0!==w&&(p=!0)}var y=!1;if("object"==typeof w)switch(w.status){case"_break":y=!0;break;case"_error":w=w.message;break;case"_error_no_prompt":return!0}if(0==g&&0==r.indexOf("funcCallRequired")&&void 0!==w&&(""!=h&&(h+="<br/>"),h+=w,s.isError=!0,v++,y=!0),y)break;"string"==typeof w&&(""!=h&&(h+="<br/>"),h+=w,s.isError=!0,v++)}!p&&!i.val()&&i.val().length<1&&t.inArray("equals",l)<0&&(s.isError=!1);var C=i.prop("type"),k=i.data("promptPosition")||s.promptPosition;("radio"==C||"checkbox"==C)&&m.find("input[name='"+d+"']").length>1&&(i=t("inline"===k?m.find("input[name='"+d+"'][type!=hidden]:last"):m.find("input[name='"+d+"'][type!=hidden]:first")),s.showArrow=s.showArrowOnRadioAndCheckbox),i.is(":hidden")&&s.prettySelect&&(i=m.find("#"+s.usePrefix+e._jqSelector(i.attr("id"))+s.useSuffix)),s.isError&&s.showPrompts?e._showPrompt(i,h,u,!1,s):c||e._closePrompt(i),c||i.trigger("jqv.field.result",[i,s.isError,h]);var S=t.inArray(i[0],s.InvalidFields);return S==-1?s.isError&&s.InvalidFields.push(i[0]):s.isError||s.InvalidFields.splice(S,1),e._handleStatusCssClasses(i,s),s.isError&&s.onFieldFailure&&s.onFieldFailure(i),!s.isError&&s.onFieldSuccess&&s.onFieldSuccess(i),s.isError},_handleStatusCssClasses:function(t,e){e.addSuccessCssClassToField&&t.removeClass(e.addSuccessCssClassToField),e.addFailureCssClassToField&&t.removeClass(e.addFailureCssClassToField),e.addSuccessCssClassToField&&!e.isError&&t.addClass(e.addSuccessCssClassToField),e.addFailureCssClassToField&&e.isError&&t.addClass(e.addFailureCssClassToField)},_getErrorMessage:function(i,s,a,o,n,r,l){var c=jQuery.inArray(a,o);if("custom"===a||"funcCall"===a||"funcCallRequired"===a){var d=o[c+1];a=a+"["+d+"]",delete o[c]}var h,u=a,p=s.attr("data-validation-engine")?s.attr("data-validation-engine"):s.attr("class"),f=p.split(" ");if(h="future"==a||"past"==a||"maxCheckbox"==a||"minCheckbox"==a?l(i,s,o,n,r):l(s,o,n,r),void 0!=h){var m=e._getCustomErrorMessage(t(s),f,u,r);m&&(h=m)}return h},_getCustomErrorMessage:function(t,i,s,a){var o=!1,n=/^custom\[.*\]$/.test(s)?e._validityProp.custom:e._validityProp[s];if(void 0!=n&&(o=t.attr("data-errormessage-"+n),void 0!=o))return o;if(o=t.attr("data-errormessage"),void 0!=o)return o;var r="#"+t.attr("id");if("undefined"!=typeof a.custom_error_messages[r]&&"undefined"!=typeof a.custom_error_messages[r][s])o=a.custom_error_messages[r][s].message;else if(i.length>0)for(var l=0;l<i.length&&i.length>0;l++){var c="."+i[l];if("undefined"!=typeof a.custom_error_messages[c]&&"undefined"!=typeof a.custom_error_messages[c][s]){o=a.custom_error_messages[c][s].message;break}}return o||"undefined"==typeof a.custom_error_messages[s]||"undefined"==typeof a.custom_error_messages[s].message||(o=a.custom_error_messages[s].message),o},_validityProp:{required:"value-missing",custom:"custom-error",groupRequired:"value-missing",ajax:"custom-error",minSize:"range-underflow",maxSize:"range-overflow",min:"range-underflow",max:"range-overflow",past:"type-mismatch",future:"type-mismatch",dateRange:"type-mismatch",dateTimeRange:"type-mismatch",maxCheckbox:"range-overflow",minCheckbox:"range-underflow",equals:"pattern-mismatch",funcCall:"custom-error",funcCallRequired:"custom-error",creditCard:"pattern-mismatch",condRequired:"value-missing"},_required:function(e,i,s,a,o){switch(e.prop("type")){case"radio":case"checkbox":if(o){if(!e.prop("checked"))return a.allrules[i[s]].alertTextCheckboxMultiple;break}var n=e.closest("form, .validationEngineContainer"),r=e.attr("name");if(0==n.find("input[name='"+r+"']:checked").length)return 1==n.find("input[name='"+r+"']:visible").length?a.allrules[i[s]].alertTextCheckboxe:a.allrules[i[s]].alertTextCheckboxMultiple;break;case"text":case"password":case"textarea":case"file":case"select-one":case"select-multiple":default:var l=t.trim(e.val()),c=t.trim(e.attr("data-validation-placeholder")),d=t.trim(e.attr("placeholder"));if(!l||c&&l==c||d&&l==d)return a.allrules[i[s]].alertText}},_groupRequired:function(i,s,a,o){var n="["+o.validateAttribute+"*="+s[a+1]+"]",r=!1;if(i.closest("form, .validationEngineContainer").find(n).each(function(){if(!e._required(t(this),s,a,o))return r=!0,!1}),!r)return o.allrules[s[a]].alertText},_custom:function(t,e,i,s){var a,o=e[i+1],n=s.allrules[o];if(!n)return void alert("jqv:custom rule not found - "+o);if(n.regex){var r=n.regex;if(!r)return void alert("jqv:custom regex not found - "+o);var l=new RegExp(r);if(!l.test(t.val()))return s.allrules[o].alertText}else{if(!n.func)return void alert("jqv:custom type not allowed "+o);if(a=n.func,"function"!=typeof a)return void alert("jqv:custom parameter 'function' is no function - "+o);if(!a(t,e,i,s))return s.allrules[o].alertText}},_funcCall:function(t,e,i,s){var a,o=e[i+1];if(o.indexOf(".")>-1){for(var n=o.split("."),r=window;n.length;)r=r[n.shift()];a=r}else a=window[o]||s.customFunctions[o];if("function"==typeof a)return a(t,e,i,s)},_funcCallRequired:function(t,i,s,a){return e._funcCall(t,i,s,a)},_equals:function(e,i,s,a){var o=i[s+1];if(e.val()!=t("#"+o).val())return a.allrules.equals.alertText},_maxSize:function(t,e,i,s){var a=e[i+1],o=t.val().length;if(o>a){var n=s.allrules.maxSize;return n.alertText+a+n.alertText2}},_minSize:function(t,e,i,s){var a=e[i+1],o=t.val().length;if(o<a){var n=s.allrules.minSize;return n.alertText+a+n.alertText2}},_min:function(t,e,i,s){var a=parseFloat(e[i+1]),o=parseFloat(t.val());if(o<a){var n=s.allrules.min;return n.alertText2?n.alertText+a+n.alertText2:n.alertText+a}},_max:function(t,e,i,s){var a=parseFloat(e[i+1]),o=parseFloat(t.val());if(o>a){var n=s.allrules.max;return n.alertText2?n.alertText+a+n.alertText2:n.alertText+a}},_past:function(i,s,a,o,n){var r,l=a[o+1],c=t(i.find("*[name='"+l.replace(/^#+/,"")+"']"));if("now"==l.toLowerCase())r=new Date;else if(void 0!=c.val()){if(c.is(":disabled"))return;r=e._parseDate(c.val())}else r=e._parseDate(l);var d=e._parseDate(s.val());if(d>r){var h=n.allrules.past;return h.alertText2?h.alertText+e._dateToString(r)+h.alertText2:h.alertText+e._dateToString(r)}},_future:function(i,s,a,o,n){var r,l=a[o+1],c=t(i.find("*[name='"+l.replace(/^#+/,"")+"']"));if("now"==l.toLowerCase())r=new Date;else if(void 0!=c.val()){if(c.is(":disabled"))return;r=e._parseDate(c.val())}else r=e._parseDate(l);var d=e._parseDate(s.val());if(d<r){var h=n.allrules.future;return h.alertText2?h.alertText+e._dateToString(r)+h.alertText2:h.alertText+e._dateToString(r)}},_isDate:function(t){var e=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);return e.test(t)},_isDateTime:function(t){var e=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);return e.test(t)},_dateCompare:function(t,e){return new Date(t.toString())<new Date(e.toString())},_dateRange:function(t,i,s,a){return!a.firstOfGroup[0].value&&a.secondOfGroup[0].value||a.firstOfGroup[0].value&&!a.secondOfGroup[0].value?a.allrules[i[s]].alertText+a.allrules[i[s]].alertText2:e._isDate(a.firstOfGroup[0].value)&&e._isDate(a.secondOfGroup[0].value)&&e._dateCompare(a.firstOfGroup[0].value,a.secondOfGroup[0].value)?void 0:a.allrules[i[s]].alertText+a.allrules[i[s]].alertText2},_dateTimeRange:function(t,i,s,a){return!a.firstOfGroup[0].value&&a.secondOfGroup[0].value||a.firstOfGroup[0].value&&!a.secondOfGroup[0].value?a.allrules[i[s]].alertText+a.allrules[i[s]].alertText2:e._isDateTime(a.firstOfGroup[0].value)&&e._isDateTime(a.secondOfGroup[0].value)&&e._dateCompare(a.firstOfGroup[0].value,a.secondOfGroup[0].value)?void 0:a.allrules[i[s]].alertText+a.allrules[i[s]].alertText2},_maxCheckbox:function(t,e,i,s,a){var o=i[s+1],n=e.attr("name"),r=t.find("input[name='"+n+"']:checked").length;if(r>o)return a.showArrow=!1,a.allrules.maxCheckbox.alertText2?a.allrules.maxCheckbox.alertText+" "+o+" "+a.allrules.maxCheckbox.alertText2:a.allrules.maxCheckbox.alertText},_minCheckbox:function(t,e,i,s,a){var o=i[s+1],n=e.attr("name"),r=t.find("input[name='"+n+"']:checked").length;if(r<o)return a.showArrow=!1,a.allrules.minCheckbox.alertText+" "+o+" "+a.allrules.minCheckbox.alertText2},_creditCard:function(t,e,i,s){var a=!1,o=t.val().replace(/ +/g,"").replace(/-+/g,""),n=o.length;if(n>=14&&n<=16&&parseInt(o)>0){var r,l=0,i=n-1,c=1,d=new String;do r=parseInt(o.charAt(i)),d+=c++%2==0?2*r:r;while(--i>=0);for(i=0;i<d.length;i++)l+=parseInt(d.charAt(i));a=l%10==0}if(!a)return s.allrules.creditCard.alertText},_ajax:function(i,s,a,o){var n=s[a+1],r=o.allrules[n],l=r.extraData,c=r.extraDataDynamic,d={fieldId:i.attr("id"),fieldValue:i.val()};if("object"==typeof l)t.extend(d,l);else if("string"==typeof l)for(var h=l.split("&"),a=0;a<h.length;a++){var u=h[a].split("=");u[0]&&u[0]&&(d[u[0]]=u[1])}if(c)for(var p=String(c).split(","),a=0;a<p.length;a++){var f=p[a];if(t(f).length){var m=i.closest("form, .validationEngineContainer").find(f).val();f.replace("#","")+"="+escape(m),d[f.replace("#","")]=m}}if("field"==o.eventTrigger&&delete o.ajaxValidCache[i.attr("id")],!o.isError&&!e._checkAjaxFieldStatus(i.attr("id"),o))return t.ajax({type:o.ajaxFormValidationMethod,url:r.url,cache:!1,dataType:"json",data:d,field:i,rule:r,methods:e,options:o,beforeSend:function(){},error:function(t,i){o.onFailure?o.onFailure(t,i):e._ajaxError(t,i)},success:function(s){var a=s[0],n=t("#"+a).eq(0);if(1==n.length){var l=s[1],c=s[2];if(l){if(o.ajaxValidCache[a]=!0,c){if(o.allrules[c]){var d=o.allrules[c].alertTextOk;d&&(c=d)}}else c=r.alertTextOk;o.showPrompts&&(c?e._showPrompt(n,c,"pass",!0,o):e._closePrompt(n)),"submit"==o.eventTrigger&&i.closest("form").submit()}else{if(o.ajaxValidCache[a]=!1,o.isError=!0,c){if(o.allrules[c]){var d=o.allrules[c].alertText;d&&(c=d)}}else c=r.alertText;o.showPrompts&&e._showPrompt(n,c,"",!0,o)}}n.trigger("jqv.field.result",[n,o.isError,c])}}),r.alertTextLoad},_ajaxError:function(t,e){0==t.status&&null==e?alert("The page is not served from a server! ajax call failed"):"undefined"!=typeof console&&console.log("Ajax error: "+t.status+" "+e)},_dateToString:function(t){return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},_parseDate:function(t){var e=t.split("-");return e==t&&(e=t.split("/")),e==t?(e=t.split("."),new Date(e[2],e[1]-1,e[0])):new Date(e[0],e[1]-1,e[2])},_showPrompt:function(i,s,a,o,n,r){i.data("jqv-prompt-at")instanceof jQuery?i=i.data("jqv-prompt-at"):i.data("jqv-prompt-at")&&(i=t(i.data("jqv-prompt-at")));var l=e._getPrompt(i);r&&(l=!1),t.trim(s)&&(l?e._updatePrompt(i,l,s,a,o,n):e._buildPrompt(i,s,a,o,n))},_buildPrompt:function(i,s,a,o,n){var r=t("<div>");switch(r.addClass(e._getClassName(i.attr("id"))+"formError"),r.addClass("parentForm"+e._getClassName(i.closest("form, .validationEngineContainer").attr("id"))),r.addClass("formError"),a){case"pass":r.addClass("greenPopup");break;case"load":r.addClass("blackPopup")}o&&r.addClass("ajaxed");var l=(t("<div>").addClass("formErrorContent").html(s).appendTo(r),i.data("promptPosition")||n.promptPosition);if(n.showArrow){var c=t("<div>").addClass("formErrorArrow");if("string"==typeof l){var d=l.indexOf(":");d!=-1&&(l=l.substring(0,d))}switch(l){case"bottomLeft":case"bottomRight":r.find(".formErrorContent").before(c),c.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":c.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>'),r.append(c)}}n.addPromptClass&&r.addClass(n.addPromptClass);var h=i.attr("data-required-class");if(void 0!==h)r.addClass(h);else if(n.prettySelect&&t("#"+i.attr("id")).next().is("select")){var u=t("#"+i.attr("id").substr(n.usePrefix.length).substring(n.useSuffix.length)).attr("data-required-class");void 0!==u&&r.addClass(u)}r.css({opacity:0}),"inline"===l?(r.addClass("inline"),"undefined"!=typeof i.attr("data-prompt-target")&&t("#"+i.attr("data-prompt-target")).length>0?r.appendTo(t("#"+i.attr("data-prompt-target"))):i.after(r)):i.before(r);var d=e._calculatePosition(i,r,n);return t("body").hasClass("rtl")?r.css({position:"inline"===l?"relative":"absolute",top:d.callerTopPosition,left:"initial",right:d.callerleftPosition,marginTop:d.marginTopSize,opacity:0}).data("callerField",i):r.css({position:"inline"===l?"relative":"absolute",top:d.callerTopPosition,left:d.callerleftPosition,right:"initial",marginTop:d.marginTopSize,opacity:0}).data("callerField",i),n.autoHidePrompt&&setTimeout(function(){r.animate({opacity:0},function(){r.closest(".formError").remove()})},n.autoHideDelay),r.animate({opacity:.87})},_updatePrompt:function(i,s,a,o,n,r,l){if(s){"undefined"!=typeof o&&("pass"==o?s.addClass("greenPopup"):s.removeClass("greenPopup"),"load"==o?s.addClass("blackPopup"):s.removeClass("blackPopup")),n?s.addClass("ajaxed"):s.removeClass("ajaxed"),s.find(".formErrorContent").html(a);var c=e._calculatePosition(i,s,r);if(t("body").hasClass("rtl"))var d={top:c.callerTopPosition,left:"initial",right:c.callerleftPosition,marginTop:c.marginTopSize,opacity:.87};else var d={top:c.callerTopPosition,left:c.callerleftPosition,right:"initial",marginTop:c.marginTopSize,opacity:.87};s.css({opacity:0,display:"block"}),l?s.css(d):s.animate(d)}},_closePrompt:function(t){var i=e._getPrompt(t);i&&i.fadeTo("fast",0,function(){i.closest(".formError").remove()})},closePrompt:function(t){return e._closePrompt(t)},_getPrompt:function(i){var s=t(i).closest("form, .validationEngineContainer").attr("id"),a=e._getClassName(i.attr("id"))+"formError",o=t("."+e._escapeExpression(a)+".parentForm"+e._getClassName(s))[0];if(o)return t(o)},_escapeExpression:function(t){return t.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(e){var i=t(document),s=t("body"),a=e&&e.hasClass("rtl")||e&&"rtl"===(e.attr("dir")||"").toLowerCase()||i.hasClass("rtl")||"rtl"===(i.attr("dir")||"").toLowerCase()||s.hasClass("rtl")||"rtl"===(s.attr("dir")||"").toLowerCase();return Boolean(a)},_calculatePosition:function(t,e,i){var s,a,o,n=t.width(),r=t.position().left,l=t.position().top,c=(t.height(),e.height());s=a=0,o=-c;var d=t.data("promptPosition")||i.promptPosition,h="",u="",p=0,f=0;switch("string"==typeof d&&d.indexOf(":")!=-1&&(h=d.substring(d.indexOf(":")+1),d=d.substring(0,d.indexOf(":")),h.indexOf(",")!=-1&&(u=h.substring(h.indexOf(",")+1),h=h.substring(0,h.indexOf(",")),f=parseInt(u),isNaN(f)&&(f=0)),p=parseInt(h),isNaN(h)&&(h=0)),d){default:case"topRight":a+=r+n-27,s+=l;break;case"topLeft":s+=l,a+=r;break;case"centerRight":s=l+4,o=0,a=r+t.outerWidth(!0)+5;break;case"centerLeft":a=r-(e.width()+2),s=l+4,o=0;break;case"bottomLeft":s=l+t.height()+5,o=0,a=r;break;case"bottomRight":a=r+n-27,s=l+t.height()+5,o=0;break;case"inline":a=0,s=0,o=0}return a+=p,s+=f,{callerTopPosition:s+"px",callerleftPosition:a+"px",marginTopSize:o+"px"}},_saveOptions:function(e,i){if(t.validationEngineLanguage)var s=t.validationEngineLanguage.allRules;else t.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");t.validationEngine.defaults.allrules=s;var a=t.extend(!0,{},t.validationEngine.defaults,i);return e.data("jqv",a),a},_getClassName:function(t){if(t)return t.replace(/:/g,"_").replace(/\./g,"_")},_jqSelector:function(t){return t.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")},_condRequired:function(t,i,s,a){var o,n;for(o=s+1;o<i.length;o++)if(n=jQuery("#"+i[o]).first(),n.length&&void 0==e._required(n,["required"],0,a,!0))return e._required(t,["required"],0,a)},_submitButtonClick:function(e){var i=t(this),s=i.closest("form, .validationEngineContainer");s.data("jqv_submitButton",i.attr("id"))}};t.fn.validationEngine=function(i){var s=t(this);return s[0]?"string"==typeof i&&"_"!=i.charAt(0)&&e[i]?("showPrompt"!=i&&"hide"!=i&&"hideAll"!=i&&e.init.apply(s),e[i].apply(s,Array.prototype.slice.call(arguments,1))):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist in jQuery.validationEngine"):(e.init.apply(s,arguments),e.attach.apply(s)):s},t.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,showPrompts:!0,validateNonVisibleFields:!1,ignoreFieldsWithClass:"ignoreMe",promptPosition:"topRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,ajaxFormValidationMethod:"get",onAjaxFormComplete:t.noop,onBeforeAjaxFormValidation:t.noop,onValidationComplete:!1,doNotShowAllErrosOnSubmit:!1,custom_error_messages:{},binded:!0,notEmpty:!1,showArrow:!0,showArrowOnRadioAndCheckbox:!1,isError:!1,maxErrorsPerField:!1,ajaxValidCache:{},autoPositionUpdate:!1,InvalidFields:[],onFieldSuccess:!1,onFieldFailure:!1,onSuccess:!1,onFailure:!1,validateAttribute:"class",addSuccessCssClassToField:"",addFailureCssClassToField:"",autoHidePrompt:!1,autoHideDelay:1e4,fadeDuration:300,prettySelect:!1,addPromptClass:"",usePrefix:"",useSuffix:"",showOneMessage:!1}},t(function(){t.validationEngine.defaults.promptPosition=e.isRTL()?"topLeft":"topRight"})}(jQuery),function(t){t.fn.validationEngineLanguage=function(){},t.validationEngineLanguage={newLang:function(){t.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* This field is required",alertTextCheckboxMultiple:"* Please select an option",alertTextCheckboxe:"* This checkbox is required",
alertTextDateRange:"* Both date range fields are required"},requiredInFunction:{func:function(t,e,i,s){return"test"==t.val()},alertText:"* Field must equal test"},dateRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Range"},dateTimeRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Time Range"},minSize:{regex:"none",alertText:"* Minimum ",alertText2:" characters required"},maxSize:{regex:"none",alertText:"* Maximum ",alertText2:" characters allowed"},groupRequired:{regex:"none",alertText:"* You must fill one of the following fields",alertTextCheckboxMultiple:"* Please select an option",alertTextCheckboxe:"* This checkbox is required"},min:{regex:"none",alertText:"* Minimum value is "},max:{regex:"none",alertText:"* Maximum value is "},past:{regex:"none",alertText:"* Date prior to "},future:{regex:"none",alertText:"* Date past "},maxCheckbox:{regex:"none",alertText:"* Maximum ",alertText2:" options allowed"},minCheckbox:{regex:"none",alertText:"* Please select ",alertText2:" options"},equals:{regex:"none",alertText:"* Fields do not match"},creditCard:{regex:"none",alertText:"* Invalid credit card number"},phone:{regex:/^([\+][0-9]{1,3}([ \.\-])?)?([\(][0-9]{1,6}[\)])?([0-9 \.\-]{1,32})(([A-Za-z \:]{1,11})?[0-9]{1,4}?)$/,alertText:"* Invalid phone number"},email:{regex:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,alertText:"* Invalid email address"},fullname:{regex:/^([a-zA-Z]+[\'\,\.\-]?[a-zA-Z ]*)+[ ]([a-zA-Z]+[\'\,\.\-]?[a-zA-Z ]+)+$/,alertText:"* Must be first and last name"},zip:{regex:/^\d{5}$|^\d{5}-\d{4}$/,alertText:"* Invalid zip format"},integer:{regex:/^[\-\+]?\d+$/,alertText:"* Not a valid integer"},number:{regex:/^[\-\+]?((([0-9]{1,3})([,][0-9]{3})*)|([0-9]+))?([\.]([0-9]+))?$/,alertText:"* Invalid floating decimal number"},date:{func:function(t){var e=new RegExp(/^(\d{4})[\/\-\.](0?[1-9]|1[012])[\/\-\.](0?[1-9]|[12][0-9]|3[01])$/),i=e.exec(t.val());if(null==i)return!1;var s=i[1],a=1*i[2],o=1*i[3],n=new Date(s,a-1,o);return n.getFullYear()==s&&n.getMonth()==a-1&&n.getDate()==o},alertText:"* Invalid date, must be in YYYY-MM-DD format"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* Invalid IP address"},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* Invalid URL"},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* Numbers only"},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* Letters only"},onlyLetterAccentSp:{regex:/^[a-z\u00C0-\u017F\ ]+$/i,alertText:"* Letters only (accents allowed)"},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* No special characters allowed"},ajaxUserCall:{url:"ajaxValidateFieldUser",extraData:"name=eric",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxUserCallPhp:{url:"phpajax/ajaxValidateFieldUser.php",extraData:"name=eric",alertTextOk:"* This username is available",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxNameCall:{url:"ajaxValidateFieldName",alertText:"* This name is already taken",alertTextOk:"* This name is available",alertTextLoad:"* Validating, please wait"},ajaxNameCallPhp:{url:"phpajax/ajaxValidateFieldName.php",alertText:"* This name is already taken",alertTextLoad:"* Validating, please wait"},validate2fields:{alertText:"* Please input HELLO"},dateFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,alertText:"* Invalid Date"},dateTimeFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,alertText:"* Invalid Date or Date Format",alertText2:"Expected Format: ",alertText3:"mm/dd/yyyy hh:mm:ss AM|PM or ",alertText4:"yyyy-mm-dd hh:mm:ss AM|PM"}}}},t.validationEngineLanguage.newLang()}(jQuery),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e,i=navigator.userAgent,s=/iphone/i.test(i),a=/chrome/i.test(i),o=/android/i.test(i);t.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},t.fn.extend({caret:function(t,e){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof t?(e="number"==typeof e?e:t,this.each(function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select())})):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),t=0-i.duplicate().moveStart("character",-1e5),e=t+i.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(i,n){var r,l,c,d,h,u,p,f;if(!i&&this.length>0){r=t(this[0]);var m=r.data(t.mask.dataName);return m?m():void 0}return n=t.extend({autoclear:t.mask.autoclear,placeholder:t.mask.placeholder,completed:null},n),l=t.mask.definitions,c=[],d=p=i.length,h=null,t.each(i.split(""),function(t,e){"?"==e?(p--,d=t):l[e]?(c.push(new RegExp(l[e])),null===h&&(h=c.length-1),d>t&&(u=c.length-1)):c.push(null)}),this.trigger("unmask").each(function(){function r(){if(n.completed){for(var t=h;u>=t;t++)if(c[t]&&F[t]===m(t))return;n.completed.call($)}}function m(t){return n.placeholder.charAt(t<n.placeholder.length?t:0)}function g(t){for(;++t<p&&!c[t];);return t}function v(t){for(;--t>=0&&!c[t];);return t}function _(t,e){var i,s;if(!(0>t)){for(i=t,s=g(e);p>i;i++)if(c[i]){if(!(p>s&&c[i].test(F[s])))break;F[i]=F[s],F[s]=m(s),s=g(s)}S(),$.caret(Math.max(h,t))}}function w(t){var e,i,s,a;for(e=t,i=m(t);p>e;e++)if(c[e]){if(s=g(e),a=F[e],F[e]=i,!(p>s&&c[s].test(a)))break;i=a}}function x(){var t=$.val(),e=$.caret();if(f&&f.length&&f.length>t.length){for(T(!0);e.begin>0&&!c[e.begin-1];)e.begin--;if(0===e.begin)for(;e.begin<h&&!c[e.begin];)e.begin++;$.caret(e.begin,e.begin)}else{for(T(!0);e.begin<p&&!c[e.begin];)e.begin++;$.caret(e.begin,e.begin)}r()}function b(){T(),$.val()!=M&&$.change()}function y(t){if(!$.prop("readonly")){var e,i,a,o=t.which||t.keyCode;f=$.val(),8===o||46===o||s&&127===o?(e=$.caret(),i=e.begin,a=e.end,a-i===0&&(i=46!==o?v(i):a=g(i-1),a=46===o?g(a):a),k(i,a),_(i,a-1),t.preventDefault()):13===o?b.call(this,t):27===o&&($.val(M),$.caret(0,T()),t.preventDefault())}}function C(e){if(!$.prop("readonly")){var i,s,a,n=e.which||e.keyCode,l=$.caret();if(!(e.ctrlKey||e.altKey||e.metaKey||32>n)&&n&&13!==n){if(l.end-l.begin!==0&&(k(l.begin,l.end),_(l.begin,l.end-1)),i=g(l.begin-1),p>i&&(s=String.fromCharCode(n),c[i].test(s))){if(w(i),F[i]=s,S(),a=g(i),o){var d=function(){t.proxy(t.fn.caret,$,a)()};setTimeout(d,0)}else $.caret(a);l.begin<=u&&r()}e.preventDefault()}}}function k(t,e){var i;for(i=t;e>i&&p>i;i++)c[i]&&(F[i]=m(i))}function S(){$.val(F.join(""))}function T(t){var e,i,s,a=$.val(),o=-1;for(e=0,s=0;p>e;e++)if(c[e]){for(F[e]=m(e);s++<a.length;)if(i=a.charAt(s-1),c[e].test(i)){F[e]=i,o=e;break}if(s>a.length){k(e+1,p);break}}else F[e]===a.charAt(s)&&s++,d>e&&(o=e);return t?S():d>o+1?n.autoclear||F.join("")===D?($.val()&&$.val(""),k(0,p)):S():(S(),$.val($.val().substring(0,o+1))),d?e:h}var $=t(this),F=t.map(i.split(""),function(t,e){return"?"!=t?l[t]?m(e):t:void 0}),D=F.join(""),M=$.val();$.data(t.mask.dataName,function(){return t.map(F,function(t,e){return c[e]&&t!=m(e)?t:null}).join("")}),$.one("unmask",function(){$.off(".mask").removeData(t.mask.dataName)}).on("focus.mask",function(){if(!$.prop("readonly")){clearTimeout(e);var t;M=$.val(),t=T(),e=setTimeout(function(){$.get(0)===document.activeElement&&(S(),t==i.replace("?","").length?$.caret(0,t):$.caret(t))},10)}}).on("blur.mask",b).on("keydown.mask",y).on("keypress.mask",C).on("input.mask paste.mask",function(){$.prop("readonly")||setTimeout(function(){var t=T(!0);$.caret(t),r()},0)}),a&&o&&$.off("input.mask").on("input.mask",x),T()})}})}),"undefined"==typeof jQuery)throw new Error("MDTimePicker: This plugin requires jQuery");+function(t){var e="mdtimepicker",i=120,s=90,a=360,o=30,n=6,r=[9,112,113,114,115,116,117,118,119,120,121,122,123],l=function(e,i){this.hour=e,this.minute=i,this.format=function(e,i){var s=this,a=(e.match(/h/g)||[]).length>1;return t.trim(e.replace(/(hh|h|mm|ss|tt|t)/g,function(t){switch(t.toLowerCase()){case"h":var e=s.getHour(!0);return i&&e<10?"0"+e:e;case"hh":return s.hour<10?"0"+s.hour:s.hour;case"mm":return s.minute<10?"0"+s.minute:s.minute;case"ss":return"00";case"t":return a?"":s.getT().toLowerCase();case"tt":return a?"":s.getT()}}))},this.setHour=function(t){this.hour=t},this.getHour=function(t){return t?0===this.hour||12===this.hour?12:this.hour%12:this.hour},this.invert=function(){"AM"===this.getT()?this.setHour(this.getHour()+12):this.setHour(this.getHour()-12)},this.setMinutes=function(t){this.minute=t},this.getMinutes=function(t){return this.minute},this.getT=function(){return this.hour<12?"AM":"PM"}},c=function(e,i){var s=this;this.visible=!1,this.activeView="hours",this.hTimeout=null,this.mTimeout=null,this.input=t(e),this.config=i,this.time=new l(0,0),this.selected=new l(0,0),this.timepicker={overlay:t('<div class="mdtimepicker hidden"></div>'),wrapper:t('<div class="mdtp__wrapper"></div>'),timeHolder:{wrapper:t('<section class="mdtp__time_holder"></section>'),hour:t('<span class="mdtp__time_h">12</span>'),dots:t('<span class="mdtp__timedots">:</span>'),minute:t('<span class="mdtp__time_m">00</span>'),am_pm:t('<span class="mdtp__ampm">AM</span>')},clockHolder:{wrapper:t('<section class="mdtp__clock_holder"></section>'),am:t('<span class="mdtp__am">AM</span>'),pm:t('<span class="mdtp__pm">PM</span>'),clock:{wrapper:t('<div class="mdtp__clock"></div>'),dot:t('<span class="mdtp__clock_dot"></span>'),hours:t('<div class="mdtp__hour_holder"></div>'),minutes:t('<div class="mdtp__minute_holder"></div>')},buttonsHolder:{wrapper:t('<div class="mdtp__buttons">'),btnOk:t('<span class="mdtp__button ok">Ok</span>'),btnCancel:t('<span class="mdtp__button cancel">Cancel</span>')}}};var a=s.timepicker;if(s.setup(a).appendTo("body"),a.clockHolder.am.click(function(){"AM"!==s.selected.getT()&&s.setT("am")}),a.clockHolder.pm.click(function(){"PM"!==s.selected.getT()&&s.setT("pm")}),a.timeHolder.hour.click(function(){"hours"!==s.activeView&&s.switchView("hours")}),a.timeHolder.minute.click(function(){"minutes"!==s.activeView&&s.switchView("minutes")}),a.clockHolder.buttonsHolder.btnOk.click(function(){s.setValue(s.selected);var e=s.getFormattedTime();s.input.trigger(t.Event("timechanged",{time:e.time,value:e.value})).trigger("onchange"),s.hide()}),a.clockHolder.buttonsHolder.btnCancel.click(function(){s.hide()}),s.input.on("keydown",function(t){return 13===t.keyCode&&s.show(),!(r.indexOf(t.which)<0&&s.config.readOnly)}).on("click",function(){s.show()}).prop("readonly",s.config.readOnly),""!==s.input.val()){var o=s.parseTime(s.input.val(),s.config.format);s.setValue(o)}else{var o=s.getSystemTime();s.time=new l(o.hour,o.minute)}s.resetSelected(),s.switchView(s.activeView)};c.prototype={constructor:c,setup:function(e){if("undefined"==typeof e)throw new Error("Expecting a value.");var r=this,l=e.overlay,c=e.wrapper,d=e.timeHolder,h=e.clockHolder;d.wrapper.append(d.hour).append(d.dots).append(d.minute).append(d.am_pm).appendTo(c);for(var u=0;u<12;u++){var p=u+1,f=(i+u*o)%a,m=t('<div class="mdtp__digit rotate-'+f+'" data-hour="'+p+'"><span>'+p+"</span></div>");m.find("span").click(function(){var e=parseInt(t(this).parent().data("hour")),i=r.selected.getT(),s=(e+("PM"===i||"AM"===i&&12===e?12:0))%24;r.setHour(s),r.switchView("minutes")}),h.clock.hours.append(m)}for(var u=0;u<60;u++){var g=u<10?"0"+u:u,f=(s+u*n)%a,v=t('<div class="mdtp__digit rotate-'+f+'" data-minute="'+u+'"></div>');u%5===0?v.addClass("marker").html("<span>"+g+"</span>"):v.html("<span></span>"),v.find("span").click(function(){r.setMinute(t(this).parent().data("minute"))}),h.clock.minutes.append(v)}switch(h.clock.wrapper.append(h.am).append(h.pm).append(h.clock.dot).append(h.clock.hours).append(h.clock.minutes).appendTo(h.wrapper),h.buttonsHolder.wrapper.append(h.buttonsHolder.btnCancel).append(h.buttonsHolder.btnOk).appendTo(h.wrapper),h.wrapper.appendTo(c),r.config.theme){case"red":case"blue":case"green":case"purple":case"indigo":case"teal":c.attr("data-theme",r.config.theme);break;default:c.attr("data-theme",t.fn.mdtimepicker.defaults.theme)}return c.appendTo(l),l},setHour:function(e){if("undefined"==typeof e)throw new Error("Expecting a value.");var i=this;this.selected.setHour(e),this.timepicker.timeHolder.hour.text(this.selected.getHour(!0)),this.timepicker.clockHolder.clock.hours.children("div").each(function(e,s){var a=t(s),o=a.data("hour");a[o===i.selected.getHour(!0)?"addClass":"removeClass"]("active")})},setMinute:function(e){if("undefined"==typeof e)throw new Error("Expecting a value.");this.selected.setMinutes(e),this.timepicker.timeHolder.minute.text(e<10?"0"+e:e),this.timepicker.clockHolder.clock.minutes.children("div").each(function(i,s){var a=t(s),o=a.data("minute");a[o===e?"addClass":"removeClass"]("active")})},setT:function(t){if("undefined"==typeof t)throw new Error("Expecting a value.");this.selected.getT()!==t.toUpperCase()&&this.selected.invert();var e=this.selected.getT();this.timepicker.timeHolder.am_pm.text(e),this.timepicker.clockHolder.am["AM"===e?"addClass":"removeClass"]("active"),this.timepicker.clockHolder.pm["PM"===e?"addClass":"removeClass"]("active")},setValue:function(t){if("undefined"==typeof t)throw new Error("Expecting a value.");var e="string"==typeof t?this.parseTime(t,this.config.format):t;this.time=new l(e.hour,e.minute);var i=this.getFormattedTime();this.input.val(i.value).attr("data-time",i.time).attr("value",i.value)},resetSelected:function(){this.setHour(this.time.hour),this.setMinute(this.time.minute),this.setT(this.time.getT())},getFormattedTime:function(){var t=this.time.format(this.config.timeFormat,!1),e=this.time.format(this.config.format,this.config.hourPadding);return{time:t,value:e}},getSystemTime:function(){var t=new Date;return new l(t.getHours(),t.getMinutes())},parseTime:function(t,e){var i=this,s="undefined"==typeof e?i.config.format:e,a=(s.match(/h/g)||[]).length,o=a>1,n=((s.match(/m/g)||[]).length,(s.match(/t/g)||[]).length),r=t.length,c=s.indexOf("h"),d=s.lastIndexOf("h"),h="",u="",p="";if(i.config.hourPadding||o)h=t.substr(c,2);else{var f=s.substring(c-1,c),m=s.substring(d+1,d+2);h=d===s.length-1?t.substring(t.indexOf(f,c-1)+1,r):0===c?t.substring(0,t.indexOf(m,c)):t.substring(t.indexOf(f,c-1)+1,t.indexOf(m,c+1))}s=s.replace(/(hh|h)/g,h);var g=s.indexOf("m"),v=s.lastIndexOf("m"),_=s.indexOf("t"),w=s.substring(g-1,g);s.substring(v+1,v+2),u=v===s.length-1?t.substring(t.indexOf(w,g-1)+1,r):0===g?t.substring(0,2):t.substr(g,2),p=o?parseInt(h)>11?n>1?"PM":"pm":n>1?"AM":"am":t.substr(_,2);var x="pm"===p.toLowerCase(),b=new l(parseInt(h),parseInt(u));return(x&&parseInt(h)<12||!x&&12===parseInt(h))&&b.invert(),b},switchView:function(t){var e=this,i=this.timepicker,s=350;"hours"!==t&&"minutes"!==t||(e.activeView=t,i.timeHolder.hour["hours"===t?"addClass":"removeClass"]("active"),i.timeHolder.minute["hours"===t?"removeClass":"addClass"]("active"),i.clockHolder.clock.hours.addClass("animate"),"hours"===t&&i.clockHolder.clock.hours.removeClass("hidden"),clearTimeout(e.hTimeout),e.hTimeout=setTimeout(function(){"hours"!==t&&i.clockHolder.clock.hours.addClass("hidden"),i.clockHolder.clock.hours.removeClass("animate")},"hours"===t?20:s),i.clockHolder.clock.minutes.addClass("animate"),"minutes"===t&&i.clockHolder.clock.minutes.removeClass("hidden"),clearTimeout(e.mTimeout),e.mTimeout=setTimeout(function(){"minutes"!==t&&i.clockHolder.clock.minutes.addClass("hidden"),i.clockHolder.clock.minutes.removeClass("animate")},"minutes"===t?20:s))},show:function(){var e=this;if(""===e.input.val()){var i=e.getSystemTime();this.time=new l(i.hour,i.minute)}e.resetSelected(),t("body").attr("mdtimepicker-display","on"),e.timepicker.wrapper.addClass("animate"),e.timepicker.overlay.removeClass("hidden").addClass("animate"),setTimeout(function(){e.timepicker.overlay.removeClass("animate"),e.timepicker.wrapper.removeClass("animate"),e.visible=!0,e.input.blur()},10)},hide:function(){var e=this;e.timepicker.overlay.addClass("animate"),e.timepicker.wrapper.addClass("animate"),setTimeout(function(){e.switchView("hours"),e.timepicker.overlay.addClass("hidden").removeClass("animate"),e.timepicker.wrapper.removeClass("animate"),t("body").removeAttr("mdtimepicker-display"),e.visible=!1,e.input.focus()},300)},destroy:function(){var t=this;t.input.removeData(e).unbind("keydown").unbind("click").removeProp("readonly"),t.timepicker.overlay.remove()}},t.fn.mdtimepicker=function(i){return t(this).each(function(s,a){var o=this,n=t(this),r=t(this).data(e),l=t.extend({},t.fn.mdtimepicker.defaults,n.data(),"object"==typeof i&&i);r||n.data(e,r=new c(o,l)),"string"==typeof i&&r[i](),t(document).on("keydown",function(t){27===t.keyCode&&r.visible&&r.hide()})})},t.fn.mdtimepicker.defaults={timeFormat:"hh:mm:ss.000",format:"h:mm tt",theme:"green",readOnly:!0,hourPadding:!1}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,document,window,navigator)}):"object"==typeof exports?t(require("jquery"),document,window,navigator):t(jQuery,document,window,navigator)}(function(t,e,i,s,a){var o=0,n=function(){var e,i=s.userAgent,a=/msie\s\d+/i;return i.search(a)>0&&(e=a.exec(i).toString(),e=e.split(" ")[1],e<9)&&(t("html").addClass("lt-ie9"),!0)}();Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,i=[].slice;if("function"!=typeof e)throw new TypeError;var s=i.call(arguments,1),a=function(){if(this instanceof a){var o=function(){};o.prototype=e.prototype;var n=new o,r=e.apply(n,s.concat(i.call(arguments)));return Object(r)===r?r:n}return e.apply(t,s.concat(i.call(arguments)))};return a}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i;if(null==this)throw new TypeError('"this" is null or not defined');var s=Object(this),a=s.length>>>0;if(0===a)return-1;var o=+e||0;if(Math.abs(o)===1/0&&(o=0),o>=a)return-1;for(i=Math.max(o>=0?o:a-Math.abs(o),0);i<a;){if(i in s&&s[i]===t)return i;i++}return-1});var r='<span class="irs"><span class="irs-line" tabindex="0"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span><span class="irs-bar"></span>',l='<span class="irs-bar-edge"></span><span class="irs-shadow shadow-single"></span><span class="irs-slider single"></span>',c='<span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>',d='<span class="irs-disable-mask"></span>',h=function(s,o,n){this.VERSION="2.2.0",this.input=s,this.plugin_count=n,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.has_tab_index=!0,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,o=o||{},this.$cache={win:t(i),body:t(e.body),input:t(s),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var r,l,c,d=this.$cache.input,h=d.prop("value");r={type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!0,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" — ",input_values_separator:";",disable:!1,block:!1,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null},"INPUT"!==d[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",d[0]),l={type:d.data("type"),min:d.data("min"),max:d.data("max"),from:d.data("from"),to:d.data("to"),step:d.data("step"),min_interval:d.data("minInterval"),max_interval:d.data("maxInterval"),drag_interval:d.data("dragInterval"),values:d.data("values"),from_fixed:d.data("fromFixed"),from_min:d.data("fromMin"),from_max:d.data("fromMax"),from_shadow:d.data("fromShadow"),to_fixed:d.data("toFixed"),to_min:d.data("toMin"),to_max:d.data("toMax"),to_shadow:d.data("toShadow"),prettify_enabled:d.data("prettifyEnabled"),prettify_separator:d.data("prettifySeparator"),force_edges:d.data("forceEdges"),keyboard:d.data("keyboard"),grid:d.data("grid"),grid_margin:d.data("gridMargin"),grid_num:d.data("gridNum"),grid_snap:d.data("gridSnap"),hide_min_max:d.data("hideMinMax"),hide_from_to:d.data("hideFromTo"),prefix:d.data("prefix"),postfix:d.data("postfix"),max_postfix:d.data("maxPostfix"),decorate_both:d.data("decorateBoth"),values_separator:d.data("valuesSeparator"),input_values_separator:d.data("inputValuesSeparator"),disable:d.data("disable"),block:d.data("block"),extra_classes:d.data("extraClasses")},l.values=l.values&&l.values.split(",");for(c in l)l.hasOwnProperty(c)&&(l[c]!==a&&""!==l[c]||delete l[c]);h!==a&&""!==h&&(h=h.split(l.input_values_separator||o.input_values_separator||";"),h[0]&&h[0]==+h[0]&&(h[0]=+h[0]),h[1]&&h[1]==+h[1]&&(h[1]=+h[1]),o&&o.values&&o.values.length?(r.from=h[0]&&o.values.indexOf(h[0]),r.to=h[1]&&o.values.indexOf(h[1])):(r.from=h[0]&&+h[0],r.to=h[1]&&+h[1])),t.extend(r,o),t.extend(r,l),this.options=r,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()};h.prototype={init:function(t){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),t?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var t='<span class="irs js-irs-'+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(t),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html(r),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append(l),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append(c),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.input[0].disabled=!1,this.removeDisableMask(),this.bindEvents()),this.options.disable||(this.options.block?this.appendDisableMask():this.removeDisableMask()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var t=this.options.min,e=this.options.max,i=this.options.from,s=this.options.to;i>t&&s===e?this.$cache.s_from.addClass("type_last"):s<e&&this.$cache.s_to.addClass("type_last")},changeLevel:function(t){switch(t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake),this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append(d),this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask"),this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),n&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this)),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),n&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerFocus:function(t){if(!this.target){var e,i;i="single"===this.options.type?this.$cache.single:this.$cache.from,
e=i.offset().left,e+=i.width()/2-1,this.pointerClick("single",{preventDefault:function(){},pageX:e})}},pointerMove:function(t){if(this.dragging){var e=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;this.coords.x_pointer=e-this.coords.x_gap,this.calc()}},pointerUp:function(e){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,n&&t("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(t.contains(this.$cache.cont[0],e.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(e,i){i.preventDefault();var s=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;2!==i.button&&("both"===e&&this.setTempMinInterval(),e||(e=this.target||"from"),this.current_plugin=this.plugin_count,this.target=e,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=s-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(e),n&&t("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(t,e){e.preventDefault();var i=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&(this.current_plugin=this.plugin_count,this.target=t,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(i-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(t,e){if(!(this.current_plugin!==this.plugin_count||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){switch(e.which){case 83:case 65:case 40:case 37:e.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:e.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(t){var e=this.coords.p_pointer,i=(this.options.max-this.options.min)/100;i=this.options.step/i,t?e+=i:e-=i,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*e),this.is_key=!0,this.calc()},setMinMax:function(){if(this.options){if(this.options.hide_min_max)return this.$cache.min[0].style.display="none",void(this.$cache.max[0].style.display="none");if(this.options.values.length)this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]));else{var t=this._prettify(this.options.min),e=this._prettify(this.options.max);this.result.min_pretty=t,this.result.max_pretty=e,this.$cache.min.html(this.decorate(t,this.options.min)),this.$cache.max.html(this.decorate(e,this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setTempMinInterval:function(){var t=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=t},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(t){if(this.options&&(this.calc_count++,(10===this.calc_count||t)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var e=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,e=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,e=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(e)),this.target){case"base":var i=(this.options.max-this.options.min)/100,s=(this.result.from-this.options.min)/i,a=(this.result.to-this.options.min)/i;this.coords.p_single_real=this.toFixed(s),this.coords.p_from_real=this.toFixed(s),this.coords.p_to_real=this.toFixed(a),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(e),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(e),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(e),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;e=this.toFixed(e+.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(e)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(e)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var o=this.convertToRealPercent(e),n=this.result.from_percent,r=this.result.to_percent,l=r-n,c=l/2,d=o-c,h=o+c;d<0&&(d=0,h=d+l),h>100&&(h=100,d=h-l),this.coords.p_from_real=this.calcWithStep(d),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(h),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.result.from_pretty=this._prettify(this.result.from),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.from_pretty=this._prettify(this.result.from),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.result.to_pretty=this._prettify(this.result.to),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){return this.coords.w_rs?(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),void(this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100))):void(this.coords.p_pointer=0)},convertToRealPercent:function(t){var e=100-this.coords.p_handle;return t/e*100},convertToFakePercent:function(t){var e=100-this.coords.p_handle;return t/100*e},getHandleX:function(){var t=100-this.coords.p_handle,e=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return e<0?e=0:e>t&&(e=t),e},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(t){if("single"===this.options.type)return"single";var e=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2;return t>=e?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%",this.$cache.single[0].style.left=this.labels.p_single_left+"%"):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%"),this.$cache.single[0].style.left=this.labels.p_single_left+"%"),this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_key=!1,this.is_click=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){if(this.options){var t,e,i,s,a,o=this.options.values.length,n=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)o?(t=this.decorate(n[this.result.from]),this.$cache.single.html(t)):(s=this._prettify(this.result.from),t=this.decorate(s,this.result.from),this.$cache.single.html(t)),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible";else{o?(this.options.decorate_both?(t=this.decorate(n[this.result.from]),t+=this.options.values_separator,t+=this.decorate(n[this.result.to])):t=this.decorate(n[this.result.from]+this.options.values_separator+n[this.result.to]),e=this.decorate(n[this.result.from]),i=this.decorate(n[this.result.to]),this.$cache.single.html(t),this.$cache.from.html(e),this.$cache.to.html(i)):(s=this._prettify(this.result.from),a=this._prettify(this.result.to),this.options.decorate_both?(t=this.decorate(s,this.result.from),t+=this.options.values_separator,t+=this.decorate(a,this.result.to)):t=this.decorate(s+this.options.values_separator+a,this.result.to),e=this.decorate(s,this.result.from),i=this.decorate(a,this.result.to),this.$cache.single.html(t),this.$cache.from.html(e),this.$cache.to.html(i)),this.calcLabels();var r=Math.min(this.labels.p_single_left,this.labels.p_from_left),l=this.labels.p_single_left+this.labels.p_single_fake,c=this.labels.p_to_left+this.labels.p_to_fake,d=Math.max(l,c);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",d=c):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",d=Math.max(l,c))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),r<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",d>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var t,e,i,s,a=this.options,o=this.$cache,n="number"==typeof a.from_min&&!isNaN(a.from_min),r="number"==typeof a.from_max&&!isNaN(a.from_max),l="number"==typeof a.to_min&&!isNaN(a.to_min),c="number"==typeof a.to_max&&!isNaN(a.to_max);"single"===a.type?a.from_shadow&&(n||r)?(t=this.convertToPercent(n?a.from_min:a.min),e=this.convertToPercent(r?a.from_max:a.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,o.shad_single[0].style.display="block",o.shad_single[0].style.left=t+"%",o.shad_single[0].style.width=e+"%"):o.shad_single[0].style.display="none":(a.from_shadow&&(n||r)?(t=this.convertToPercent(n?a.from_min:a.min),e=this.convertToPercent(r?a.from_max:a.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,o.shad_from[0].style.display="block",o.shad_from[0].style.left=t+"%",o.shad_from[0].style.width=e+"%"):o.shad_from[0].style.display="none",a.to_shadow&&(l||c)?(i=this.convertToPercent(l?a.to_min:a.min),s=this.convertToPercent(c?a.to_max:a.max)-i,i=this.toFixed(i-this.coords.p_handle/100*i),s=this.toFixed(s-this.coords.p_handle/100*s),i+=this.coords.p_handle/2,o.shad_to[0].style.display="block",o.shad_to[0].style.left=i+"%",o.shad_to[0].style.width=s+"%"):o.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&(this.options.scope?this.options.onStart.call(this.options.scope,this.result):this.options.onStart(this.result))},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&(this.options.scope?this.options.onChange.call(this.options.scope,this.result):this.options.onChange(this.result))},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.options.scope?this.options.onFinish.call(this.options.scope,this.result):this.options.onFinish(this.result))},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&(this.options.scope?this.options.onUpdate.call(this.options.scope,this.result):this.options.onUpdate(this.result))},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input"),this.has_tab_index?this.$cache.input.prop("tabindex",-1):this.$cache.input.removeProp("tabindex"),this.has_tab_index=!this.has_tab_index},convertToPercent:function(t,e){var i,s,a=this.options.max-this.options.min,o=a/100;return a?(i=e?t:t-this.options.min,s=i/o,this.toFixed(s)):(this.no_diapason=!0,0)},convertToValue:function(t){var e,i,s=this.options.min,a=this.options.max,o=s.toString().split(".")[1],n=a.toString().split(".")[1],r=0,l=0;if(0===t)return this.options.min;if(100===t)return this.options.max;o&&(e=o.length,r=e),n&&(i=n.length,r=i),e&&i&&(r=e>=i?e:i),s<0&&(l=Math.abs(s),s=+(s+l).toFixed(r),a=+(a+l).toFixed(r));var c,d=(a-s)/100*t+s,h=this.options.step.toString().split(".")[1];return h?d=+d.toFixed(h.length):(d/=this.options.step,d*=this.options.step,d=+d.toFixed(0)),l&&(d-=l),c=h?+d.toFixed(h.length):this.toFixed(d),c<this.options.min?c=this.options.min:c>this.options.max&&(c=this.options.max),c},calcWithStep:function(t){var e=Math.round(t/this.coords.p_step)*this.coords.p_step;return e>100&&(e=100),100===t&&(e=100),this.toFixed(e)},checkMinInterval:function(t,e,i){var s,a,o=this.options;return o.min_interval?(s=this.convertToValue(t),a=this.convertToValue(e),"from"===i?a-s<o.min_interval&&(s=a-o.min_interval):s-a<o.min_interval&&(s=a+o.min_interval),this.convertToPercent(s)):t},checkMaxInterval:function(t,e,i){var s,a,o=this.options;return o.max_interval?(s=this.convertToValue(t),a=this.convertToValue(e),"from"===i?a-s>o.max_interval&&(s=a-o.max_interval):s-a>o.max_interval&&(s=a+o.max_interval),this.convertToPercent(s)):t},checkDiapason:function(t,e,i){var s=this.convertToValue(t),a=this.options;return"number"!=typeof e&&(e=a.min),"number"!=typeof i&&(i=a.max),s<e&&(s=e),s>i&&(s=i),this.convertToPercent(s)},toFixed:function(t){return t=t.toFixed(20),+t},_prettify:function(t){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(t):this.prettify(t):t},prettify:function(t){var e=t.toString();return e.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(t,e){return this.options.force_edges?(t<0?t=0:t>100-e&&(t=100-e),this.toFixed(t)):this.toFixed(t)},validate:function(){var t,e,i=this.options,s=this.result,a=i.values,o=a.length;if("string"==typeof i.min&&(i.min=+i.min),"string"==typeof i.max&&(i.max=+i.max),"string"==typeof i.from&&(i.from=+i.from),"string"==typeof i.to&&(i.to=+i.to),"string"==typeof i.step&&(i.step=+i.step),"string"==typeof i.from_min&&(i.from_min=+i.from_min),"string"==typeof i.from_max&&(i.from_max=+i.from_max),"string"==typeof i.to_min&&(i.to_min=+i.to_min),"string"==typeof i.to_max&&(i.to_max=+i.to_max),"string"==typeof i.grid_num&&(i.grid_num=+i.grid_num),i.max<i.min&&(i.max=i.min),o)for(i.p_values=[],i.min=0,i.max=o-1,i.step=1,i.grid_num=i.max,i.grid_snap=!0,e=0;e<o;e++)t=+a[e],isNaN(t)?t=a[e]:(a[e]=t,t=this._prettify(t)),i.p_values.push(t);("number"!=typeof i.from||isNaN(i.from))&&(i.from=i.min),("number"!=typeof i.to||isNaN(i.to))&&(i.to=i.max),"single"===i.type?(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max)):(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max),i.to<i.min&&(i.to=i.min),i.to>i.max&&(i.to=i.max),this.update_check.from&&(this.update_check.from!==i.from&&i.from>i.to&&(i.from=i.to),this.update_check.to!==i.to&&i.to<i.from&&(i.to=i.from)),i.from>i.to&&(i.from=i.to),i.to<i.from&&(i.to=i.from)),("number"!=typeof i.step||isNaN(i.step)||!i.step||i.step<0)&&(i.step=1),"number"==typeof i.from_min&&i.from<i.from_min&&(i.from=i.from_min),"number"==typeof i.from_max&&i.from>i.from_max&&(i.from=i.from_max),"number"==typeof i.to_min&&i.to<i.to_min&&(i.to=i.to_min),"number"==typeof i.to_max&&i.from>i.to_max&&(i.to=i.to_max),s&&(s.min!==i.min&&(s.min=i.min),s.max!==i.max&&(s.max=i.max),(s.from<s.min||s.from>s.max)&&(s.from=i.from),(s.to<s.min||s.to>s.max)&&(s.to=i.to)),("number"!=typeof i.min_interval||isNaN(i.min_interval)||!i.min_interval||i.min_interval<0)&&(i.min_interval=0),("number"!=typeof i.max_interval||isNaN(i.max_interval)||!i.max_interval||i.max_interval<0)&&(i.max_interval=0),i.min_interval&&i.min_interval>i.max-i.min&&(i.min_interval=i.max-i.min),i.max_interval&&i.max_interval>i.max-i.min&&(i.max_interval=i.max-i.min)},decorate:function(t,e){var i="",s=this.options;return s.prefix&&(i+=s.prefix),i+=t,s.max_postfix&&(s.values.length&&t===s.p_values[s.max]?(i+=s.max_postfix,s.postfix&&(i+=" ")):e===s.max&&(i+=s.max_postfix,s.postfix&&(i+=" "))),s.postfix&&(i+=s.postfix),i},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.result.from_pretty=this._prettify(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.result.to_pretty=this._prettify(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var t,e,i,s,a,o=this.options,n=o.max-o.min,r=o.grid_num,l=0,c=0,d=4,h=0,u="";for(this.calcGridMargin(),o.grid_snap?n>50?(r=50/o.step,l=this.toFixed(o.step/.5)):(r=n/o.step,l=this.toFixed(o.step/(n/100))):l=this.toFixed(100/r),r>4&&(d=3),r>7&&(d=2),r>14&&(d=1),r>28&&(d=0),t=0;t<r+1;t++){for(i=d,c=this.toFixed(l*t),c>100&&(c=100),this.coords.big[t]=c,s=(c-l*(t-1))/(i+1),e=1;e<=i&&0!==c;e++)h=this.toFixed(c-s*e),u+='<span class="irs-grid-pol small" style="left: '+h+'%"></span>';u+='<span class="irs-grid-pol" style="left: '+c+'%"></span>',a=this.convertToValue(c),a=o.values.length?o.p_values[a]:this._prettify(a),u+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+c+'%">'+a+"</span>"}this.coords.big_num=Math.ceil(r+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(u),this.cacheGridLabels()}},cacheGridLabels:function(){var t,e,i=this.coords.big_num;for(e=0;e<i;e++)t=this.$cache.grid.find(".js-grid-text-"+e),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){var t,e,i=[],s=[],a=this.coords.big_num;for(t=0;t<a;t++)this.coords.big_w[t]=this.$cache.grid_labels[t].outerWidth(!1),this.coords.big_p[t]=this.toFixed(this.coords.big_w[t]/this.coords.w_rs*100),this.coords.big_x[t]=this.toFixed(this.coords.big_p[t]/2),i[t]=this.toFixed(this.coords.big[t]-this.coords.big_x[t]),s[t]=this.toFixed(i[t]+this.coords.big_p[t]);for(this.options.force_edges&&(i[0]<-this.coords.grid_gap&&(i[0]=-this.coords.grid_gap,s[0]=this.toFixed(i[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),s[a-1]>100+this.coords.grid_gap&&(s[a-1]=100+this.coords.grid_gap,i[a-1]=this.toFixed(s[a-1]-this.coords.big_p[a-1]),this.coords.big_x[a-1]=this.toFixed(this.coords.big_p[a-1]-this.coords.grid_gap))),this.calcGridCollision(2,i,s),this.calcGridCollision(4,i,s),t=0;t<a;t++)e=this.$cache.grid_labels[t][0],this.coords.big_x[t]!==Number.POSITIVE_INFINITY&&(e.style.marginLeft=-this.coords.big_x[t]+"%")},calcGridCollision:function(t,e,i){var s,a,o,n=this.coords.big_num;for(s=0;s<n&&(a=s+t/2,!(a>=n));s+=t)o=this.$cache.grid_labels[a][0],i[s]<=e[a]?o.style.visibility="visible":o.style.visibility="hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(e){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=t.extend(this.options,e),this.validate(),this.updateResult(e),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),t.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},t.fn.ionRangeSlider=function(e){return this.each(function(){t.data(this,"ionRangeSlider")||t.data(this,"ionRangeSlider",new h(this,e,(o++)))})},function(){for(var t=0,e=["ms","moz","webkit","o"],s=0;s<e.length&&!i.requestAnimationFrame;++s)i.requestAnimationFrame=i[e[s]+"RequestAnimationFrame"],i.cancelAnimationFrame=i[e[s]+"CancelAnimationFrame"]||i[e[s]+"CancelRequestAnimationFrame"];i.requestAnimationFrame||(i.requestAnimationFrame=function(e,s){var a=(new Date).getTime(),o=Math.max(0,16-(a-t)),n=i.setTimeout(function(){e(a+o)},o);return t=a+o,n}),i.cancelAnimationFrame||(i.cancelAnimationFrame=function(t){clearTimeout(t)})}()}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(t){function e(t){return S.call(t).slice(8,-1).toLowerCase()}function i(t){return"string"==typeof t}function s(t){return"number"==typeof t&&!T(t)}function a(t){return"undefined"==typeof t}function o(t){return"date"===e(t)}function n(t,e){for(var i=arguments.length,s=Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];return function(){for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return t.apply(e,s.concat(a))}}function r(t){return'[data-view="'+t+'"]'}function l(t){return t%4===0&&t%100!==0||t%400===0}function c(t,e){return[31,l(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}function d(t,e,i){return Math.min(i,c(t,e))}function h(e){var i=String(e).toLowerCase(),s=i.match($);if(!s||0===s.length)throw new Error("Invalid date format.");return e={source:i,parts:s},t.each(s,function(t,i){switch(i){case"dd":case"d":e.hasDay=!0;break;case"mm":case"m":e.hasMonth=!0;break;case"yyyy":case"yy":e.hasYear=!0}}),e}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t=t&&t.hasOwnProperty("default")?t.default:t;var p={autoShow:!1,autoHide:!1,autoPick:!1,inline:!1,container:null,trigger:null,language:"",format:"mm/dd/yyyy",date:null,startDate:null,endDate:null,startView:0,weekStart:0,yearFirst:!1,yearSuffix:"",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],itemTag:"li",mutedClass:"muted",pickedClass:"picked",disabledClass:"disabled",highlightedClass:"highlighted",template:'<div class="datepicker-container"><div class="datepicker-panel" data-view="years picker"><ul><li data-view="years prev"><span><svg class="icon-svg icon-owl-prev" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/var/static/cl/img/svg/sprite.svg#owl-prev"></use></svg></span></li><li data-view="years current"></li><li data-view="years next"><span><svg class="icon-svg icon-owl-next" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/var/static/cl/img/svg/sprite.svg#owl-next"></use></svg></span></li></ul><ul data-view="years"></ul></div><div class="datepicker-panel" data-view="months picker"><ul><li data-view="year prev"><span><svg class="icon-svg icon-owl-prev" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/var/static/cl/img/svg/sprite.svg#owl-prev"></use></svg></span></li><li data-view="year current"></li><li data-view="year next"><span><svg class="icon-svg icon-owl-next" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/var/static/cl/img/svg/sprite.svg#owl-next"></use></svg></span></li></ul><ul data-view="months"></ul></div><div class="datepicker-panel" data-view="days picker"><ul><li class="month prev" data-view="month prev"><span><svg class="icon-svg icon-owl-prev" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/var/static/cl/img/svg/sprite.svg#owl-prev"></use></svg></span></li><li data-view="month current"></li><li class="month next" data-view="month next"><span><svg class="icon-svg icon-owl-next" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/var/static/cl/img/svg/sprite.svg#owl-next"></use></svg></span></li></ul><ul data-view="week"></ul><ul data-view="days"></ul></div></div>',
offset:10,zIndex:1e3,filter:null,show:null,hide:null,pick:null},f="datepicker",m="click."+f,g="focus."+f,v="hide."+f,_="keyup."+f,w="pick."+f,x="resize."+f,b="show."+f,y=f+"-hide",C={},k={DAYS:0,MONTHS:1,YEARS:2},S=Object.prototype.toString,T=Number.isNaN||window.isNaN,$=/(y|m|d)+/g,F=window,D=F.document,M=t(window),E=t(D),A=/\d+/g,P={show:function(){this.built||this.build(),this.shown||this.trigger(b).isDefaultPrevented()||(this.shown=!0,this.$picker.removeClass(y).on(m,t.proxy(this.click,this)),this.showView(this.options.startView),this.inline||(M.on(x,this.onResize=n(this.place,this)),E.on(m,this.onGlobalClick=n(this.globalClick,this)),E.on(_,this.onGlobalKeyup=n(this.globalKeyup,this)),this.place()))},hide:function(){this.shown&&(this.trigger(v).isDefaultPrevented()||(this.shown=!1,this.$picker.addClass(y).off(m,this.click),this.inline||(M.off(x,this.onResize),E.off(m,this.onGlobalClick),E.off(_,this.onGlobalKeyup))))},toggle:function(){this.shown?this.hide():this.show()},update:function(){var t=this.getValue();t!==this.oldValue&&(this.setDate(t,!0),this.oldValue=t)},pick:function(t){var e=this.$element,i=this.date;this.trigger(w,{view:t||"",date:i}).isDefaultPrevented()||(i=this.formatDate(this.date),this.setValue(i),this.isInput&&(e.trigger("input"),e.trigger("change")))},reset:function(){this.setDate(this.initialDate,!0),this.setValue(this.initialValue),this.shown&&this.showView(this.options.startView)},getMonthName:function(e,i){var o=this.options,n=o.monthsShort,r=o.months;return t.isNumeric(e)?e=Number(e):a(i)&&(i=e),i===!0&&(r=n),r[s(e)?e:this.date.getMonth()]},getDayName:function(e,i,o){var n=this.options,r=n.days;return t.isNumeric(e)?e=Number(e):(a(o)&&(o=i),a(i)&&(i=e)),o?r=n.daysMin:i&&(r=n.daysShort),r[s(e)?e:this.date.getDay()]},getDate:function(t){var e=this.date;return t?this.formatDate(e):new Date(e)},setDate:function(e,s){var a=this.options.filter;if(o(e)||i(e)){if(e=this.parseDate(e),t.isFunction(a)&&a.call(this.$element,e)===!1)return;this.date=e,this.viewDate=new Date(e),s||this.pick(),this.built&&this.render()}},setStartDate:function(t){(o(t)||i(t))&&(this.startDate=this.parseDate(t),this.built&&this.render())},setEndDate:function(t){(o(t)||i(t))&&(this.endDate=this.parseDate(t),this.built&&this.render())},parseDate:function(e){var s=this.format,a=[];if(o(e))return new Date(e.getFullYear(),e.getMonth(),e.getDate());i(e)&&(a=e.match(A)||[]),e=new Date;var n=s.parts.length,r=e.getFullYear(),l=e.getDate(),c=e.getMonth();return a.length===n&&t.each(a,function(t,e){var i=parseInt(e,10)||1;switch(s.parts[t]){case"dd":case"d":l=i;break;case"mm":case"m":c=i-1;break;case"yy":r=2e3+i;break;case"yyyy":r=i}}),new Date(r,c,l)},formatDate:function(e){var i=this.format,s="";if(o(e)){var a=e.getFullYear(),n={d:e.getDate(),m:e.getMonth()+1,yy:a.toString().substring(2),yyyy:a};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,s=i.source,t.each(i.parts,function(t,e){s=s.replace(e,n[e])})}return s},destroy:function(){this.unbind(),this.unbuild(),this.$element.removeData(f)}},O={click:function(e){var i=t(e.target),s=this.options,a=this.viewDate,o=this.format;if(e.stopPropagation(),e.preventDefault(),!i.hasClass("disabled")){var n=i.data("view"),r=a.getFullYear(),l=a.getMonth(),c=a.getDate();switch(n){case"years prev":case"years next":r="years prev"===n?r-10:r+10,this.viewDate=new Date(r,l,d(r,l,c)),this.renderYears();break;case"year prev":case"year next":r="year prev"===n?r-1:r+1,this.viewDate=new Date(r,l,d(r,l,c)),this.renderMonths();break;case"year current":o.hasYear&&this.showView(k.YEARS);break;case"year picked":o.hasMonth?this.showView(k.MONTHS):(i.addClass(s.pickedClass).siblings().removeClass(s.pickedClass),this.hideView()),this.pick("year");break;case"year":r=parseInt(i.text(),10),this.date=new Date(r,l,d(r,l,c)),o.hasMonth?(this.viewDate=new Date(this.date),this.showView(k.MONTHS)):(i.addClass(s.pickedClass).siblings().removeClass(s.pickedClass),this.hideView()),this.pick("year");break;case"month prev":case"month next":l="month prev"===n?l-1:l+1,l<0?(r-=1,l+=12):l>11&&(r+=1,l-=12),this.viewDate=new Date(r,l,d(r,l,c)),this.renderDays();break;case"month current":o.hasMonth&&this.showView(k.MONTHS);break;case"month picked":o.hasDay?this.showView(k.DAYS):(i.addClass(s.pickedClass).siblings().removeClass(s.pickedClass),this.hideView()),this.pick("month");break;case"month":l=t.inArray(i.text(),s.monthsShort),this.date=new Date(r,l,d(r,l,c)),o.hasDay?(this.viewDate=new Date(r,l,d(r,l,c)),this.showView(k.DAYS)):(i.addClass(s.pickedClass).siblings().removeClass(s.pickedClass),this.hideView()),this.pick("month");break;case"day prev":case"day next":case"day":"day prev"===n?l-=1:"day next"===n&&(l+=1),c=parseInt(i.text(),10),this.date=new Date(r,l,c),this.viewDate=new Date(r,l,c),this.renderDays(),"day"===n&&this.hideView(),this.pick("day");break;case"day picked":this.hideView(),this.pick("day")}}},globalClick:function(t){for(var e=t.target,i=this.element,s=this.$trigger,a=s[0],o=!0;e!==document;){if(e===a||e===i){o=!1;break}e=e.parentNode}o&&this.hide()},keyup:function(){this.update()},globalKeyup:function(t){var e=t.target,i=t.key,s=t.keyCode;this.isInput&&e!==this.element&&this.shown&&("Tab"===i||9===s)&&this.hide()}},j={render:function(){this.renderYears(),this.renderMonths(),this.renderDays()},renderWeek:function(){var e=this,i=[],s=this.options,a=s.weekStart,o=s.daysMin;a=parseInt(a,10)%7,o=o.slice(a).concat(o.slice(0,a)),t.each(o,function(t,s){i.push(e.createItem({text:s}))}),this.$week.html(i.join(""))},renderYears:function(){var t=this.options,e=this.startDate,i=this.endDate,s=t.disabledClass,a=t.filter,o=t.yearSuffix,n=this.viewDate.getFullYear(),r=new Date,l=r.getFullYear(),c=this.date.getFullYear(),d=-5,h=6,u=[],p=!1,f=!1,m=void 0;for(m=d;m<=h;m+=1){var g=new Date(n+m,1,1),v=!1;e&&(v=g.getFullYear()<e.getFullYear(),m===d&&(p=v)),!v&&i&&(v=g.getFullYear()>i.getFullYear(),m===h&&(f=v)),!v&&a&&(v=a.call(this.$element,g)===!1);var _=n+m===c,w=_?"year picked":"year";u.push(this.createItem({picked:_,disabled:v,muted:m===d||m===h,text:n+m,view:v?"year disabled":w,highlighted:g.getFullYear()===l}))}this.$yearsPrev.toggleClass(s,p),this.$yearsNext.toggleClass(s,f),this.$yearsCurrent.toggleClass(s,!0).html(n+d+o+" - "+(n+h)+o),this.$years.html(u.join(""))},renderMonths:function(){var e=this.options,i=this.startDate,s=this.endDate,a=this.viewDate,o=e.disabledClass||"",n=e.monthsShort,r=t.isFunction(e.filter)&&e.filter,l=a.getFullYear(),c=new Date,d=c.getFullYear(),h=c.getMonth(),u=this.date.getFullYear(),p=this.date.getMonth(),f=[],m=!1,g=!1,v=void 0;for(v=0;v<=11;v+=1){var _=new Date(l,v,1),w=!1;i&&(m=_.getFullYear()===i.getFullYear(),w=m&&_.getMonth()<i.getMonth()),!w&&s&&(g=_.getFullYear()===s.getFullYear(),w=g&&_.getMonth()>s.getMonth()),!w&&r&&(w=r.call(this.$element,_)===!1);var x=l===u&&v===p,b=x?"month picked":"month";f.push(this.createItem({disabled:w,picked:x,highlighted:l===d&&_.getMonth()===h,index:v,text:n[v],view:w?"month disabled":b}))}this.$yearPrev.toggleClass(o,m),this.$yearNext.toggleClass(o,g),this.$yearCurrent.toggleClass(o,m&&g).html(l+e.yearSuffix||""),this.$months.html(f.join(""))},renderDays:function(){var t=this.$element,e=this.options,i=this.startDate,s=this.endDate,a=this.viewDate,o=this.date,n=e.disabledClass,r=e.filter,l=e.monthsShort,d=e.weekStart,h=e.yearSuffix,u=a.getFullYear(),p=a.getMonth(),f=new Date,m=f.getFullYear(),g=f.getMonth(),v=f.getDate(),_=o.getFullYear(),w=o.getMonth(),x=o.getDate(),b=void 0,y=void 0,C=void 0,k=[],S=u,T=p,$=!1;0===p?(S-=1,T=11):T-=1,b=c(S,T);var F=new Date(u,p,1);for(C=F.getDay()-parseInt(d,10)%7,C<=0&&(C+=7),i&&($=F.getTime()<=i.getTime()),y=b-(C-1);y<=b;y+=1){var D=new Date(S,T,y),M=!1;i&&(M=D.getTime()<i.getTime()),!M&&r&&(M=r.call(t,D)===!1),k.push(this.createItem({disabled:M,highlighted:S===m&&T===g&&D.getDate()===v,muted:!0,picked:S===_&&T===w&&y===x,text:y,view:"day prev"}))}var E=[],A=u,P=p,O=!1;11===p?(A+=1,P=0):P+=1,b=c(u,p),C=42-(k.length+b);var j=new Date(u,p,b);for(s&&(O=j.getTime()>=s.getTime()),y=1;y<=C;y+=1){var I=new Date(A,P,y),B=A===_&&P===w&&y===x,R=!1;s&&(R=I.getTime()>s.getTime()),!R&&r&&(R=r.call(t,I)===!1),E.push(this.createItem({disabled:R,picked:B,highlighted:A===m&&P===g&&I.getDate()===v,muted:!0,text:y,view:"day next"}))}var q=[];for(y=1;y<=b;y+=1){var z=new Date(u,p,y),L=!1;i&&(L=z.getTime()<i.getTime()),!L&&s&&(L=z.getTime()>s.getTime()),!L&&r&&(L=r.call(t,z)===!1);var V=u===_&&p===w&&y===x,N=V?"day picked":"day";q.push(this.createItem({disabled:L,picked:V,highlighted:u===m&&p===g&&z.getDate()===v,text:y,view:L?"day disabled":N}))}this.$monthPrev.toggleClass(n,$),this.$monthNext.toggleClass(n,O),this.$monthCurrent.toggleClass(n,$&&O).html(e.yearFirst?u+h+" "+l[p]:l[p]+" "+u+h),this.$days.html(k.join("")+q.join("")+E.join(""))}},I=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),B=window,R=B.document,q=t(R),z=f+"-top-left",L=f+"-top-right",V=f+"-bottom-left",N=f+"-bottom-right",H=[z,L,V,N].join(" "),W=function(){function e(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,e),this.$element=t(i),this.element=i,this.options=t.extend({},p,C[s.language],s),this.built=!1,this.shown=!1,this.isInput=!1,this.inline=!1,this.initialValue="",this.initialDate=null,this.startDate=null,this.endDate=null,this.init()}return I(e,[{key:"init",value:function(){var e=this.$element,i=this.options,s=i.startDate,a=i.endDate,o=i.date;this.$trigger=t(i.trigger),this.isInput=e.is("input")||e.is("textarea"),this.inline=i.inline&&(i.container||!this.isInput),this.format=h(i.format);var n=this.getValue();this.initialValue=n,this.oldValue=n,o=this.parseDate(o||n),s&&(s=this.parseDate(s),o.getTime()<s.getTime()&&(o=new Date(s)),this.startDate=s),a&&(a=this.parseDate(a),s&&a.getTime()<s.getTime()&&(a=new Date(s)),o.getTime()>a.getTime()&&(o=new Date(a)),this.endDate=a),this.date=o,this.viewDate=new Date(o),this.initialDate=new Date(this.date),this.bind(),(i.autoShow||this.inline)&&this.show(),i.autoPick&&this.pick()}},{key:"build",value:function(){if(!this.built){this.built=!0;var e=this.$element,i=this.options,s=t(i.template);this.$picker=s,this.$week=s.find(r("week")),this.$yearsPicker=s.find(r("years picker")),this.$yearsPrev=s.find(r("years prev")),this.$yearsNext=s.find(r("years next")),this.$yearsCurrent=s.find(r("years current")),this.$years=s.find(r("years")),this.$monthsPicker=s.find(r("months picker")),this.$yearPrev=s.find(r("year prev")),this.$yearNext=s.find(r("year next")),this.$yearCurrent=s.find(r("year current")),this.$months=s.find(r("months")),this.$daysPicker=s.find(r("days picker")),this.$monthPrev=s.find(r("month prev")),this.$monthNext=s.find(r("month next")),this.$monthCurrent=s.find(r("month current")),this.$days=s.find(r("days")),this.inline?t(i.container||e).append(s.addClass(f+"-inline")):(t(R.body).append(s.addClass(f+"-dropdown")),s.addClass(y)),this.renderWeek()}}},{key:"unbuild",value:function(){this.built&&(this.built=!1,this.$picker.remove())}},{key:"bind",value:function(){var e=this.options,i=this.$element;t.isFunction(e.show)&&i.on(b,e.show),t.isFunction(e.hide)&&i.on(v,e.hide),t.isFunction(e.pick)&&i.on(w,e.pick),this.isInput&&i.on(_,t.proxy(this.keyup,this)),this.inline||(e.trigger?this.$trigger.on(m,t.proxy(this.toggle,this)):this.isInput?i.on(g,t.proxy(this.show,this)):i.on(m,t.proxy(this.show,this)))}},{key:"unbind",value:function(){var e=this.$element,i=this.options;t.isFunction(i.show)&&e.off(b,i.show),t.isFunction(i.hide)&&e.off(v,i.hide),t.isFunction(i.pick)&&e.off(w,i.pick),this.isInput&&e.off(_,this.keyup),this.inline||(i.trigger?this.$trigger.off(m,this.toggle):this.isInput?e.off(g,this.show):e.off(m,this.show))}},{key:"showView",value:function(t){var e=this.$yearsPicker,i=this.$monthsPicker,s=this.$daysPicker,a=this.format;if(a.hasYear||a.hasMonth||a.hasDay)switch(Number(t)){case k.YEARS:i.addClass(y),s.addClass(y),a.hasYear?(this.renderYears(),e.removeClass(y),this.place()):this.showView(k.DAYS);break;case k.MONTHS:e.addClass(y),s.addClass(y),a.hasMonth?(this.renderMonths(),i.removeClass(y),this.place()):this.showView(k.YEARS);break;default:e.addClass(y),i.addClass(y),a.hasDay?(this.renderDays(),s.removeClass(y),this.place()):this.showView(k.MONTHS)}}},{key:"hideView",value:function(){!this.inline&&this.options.autoHide&&this.hide()}},{key:"place",value:function(){if(!this.inline){var t=this.$element,e=this.options,i=this.$picker,s=q.outerWidth(),a=q.outerHeight(),o=t.outerWidth(),n=t.outerHeight(),r=i.width(),l=i.height(),c=t.offset(),d=c.left,h=c.top,u=parseFloat(e.offset),p=z;T(u)&&(u=10),h>l&&h+n+l>a?(h-=l+u,p=V):h+=n+u,d+r>s&&(d+=o-r,p=p.replace("left","right")),i.removeClass(H).addClass(p).css({top:h,left:d,zIndex:parseInt(e.zIndex,10)})}}},{key:"trigger",value:function(e,i){var s=t.Event(e,i);return this.$element.trigger(s),s}},{key:"createItem",value:function(e){var i=this.options,s=i.itemTag,a={text:"",view:"",muted:!1,picked:!1,disabled:!1,highlighted:!1},o=[];return t.extend(a,e),a.muted&&o.push(i.mutedClass),a.highlighted&&o.push(i.highlightedClass),a.picked&&o.push(i.pickedClass),a.disabled&&o.push(i.disabledClass),"<"+s+' class="'+o.join(" ")+'" data-view="'+a.view+'">'+a.text+"</"+s+">"}},{key:"getValue",value:function(){var t=this.$element;return this.isInput?t.val():t.text()}},{key:"setValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.$element;this.isInput?e.val(t):e.text(t)}}],[{key:"setDefaults",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.extend(p,C[e.language],e)}}]),e}();t.extend(W.prototype,j,O,P);var Y=t.fn.datepicker;t.fn.datepicker=function(e){for(var i=arguments.length,s=Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];var o=void 0;return this.each(function(){var i=t(this),a=i.data("datepicker");if(!a){if(/destroy/.test(e))return;var n=t.extend({},i.data(),t.isPlainObject(e)&&e);a=new W(this,n),i.data("datepicker",a)}if("string"==typeof e){var r=a[e];t.isFunction(r)&&(o=r.apply(a,s))}}),"undefined"!=typeof o?o:this},t.fn.datepicker.Constructor=W,t.fn.datepicker.languages=C,t.fn.datepicker.setDefaults=W.setDefaults,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=Y,this}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(t){t.fn.datepicker.languages["ru-RU"]={format:"dd.mm.YYYY",days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],weekStart:1,startView:0,yearFirst:!1,yearSuffix:""}}),!function(){$(window).on("load",function(){var t=$(".navbar__hamburger-btn").data("toggle-nav"),e=$(".navbar__hamburger-btn").data("body"),i=$(".navbar__hamburger-btn").data("collapse-nav");$(".navbar__hamburger-btn").on("click",function(){$(e).toggleClass("is--open-navbar"),$(t).toggleClass("is--open"),$(i).toggleClass("is--open"),$(this).toggleClass("is--active")});var s=$(".navbar__hamburger-search-btn").data("toggle-nav"),a=$(".navbar__hamburger-search-btn").data("body"),o=$(".navbar__hamburger-search-btn").data("collapse-nav");$(".navbar__hamburger-search-btn").on("click",function(){$(a).toggleClass("is--open-navbar"),$(s).toggleClass("is--open"),$(o).toggleClass("is--open"),$(this).toggleClass("is--active")})})}(),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=function(){function e(){var e=this,i=function(){var i=["br-wrapper"];""!==e.options.theme&&i.push("br-theme-"+e.options.theme),e.$elem.wrap(t("<div />",{class:i.join(" ")}))},s=function(){e.$elem.unwrap()},a=function(i){return t.isNumeric(i)&&(i=Math.floor(i)),t('option[value="'+i+'"]',e.$elem)},o=function(){var i=e.options.initialRating;return i?a(i):t("option:selected",e.$elem)},n=function(){var i=e.$elem.find('option[value="'+e.options.emptyValue+'"]');return!i.length&&e.options.allowEmpty?(i=t("<option />",{value:e.options.emptyValue}),i.prependTo(e.$elem)):i},r=function(t){var i=e.$elem.data("barrating");return"undefined"!=typeof t?i[t]:i},l=function(t,i){null!==i&&"object"==typeof i?e.$elem.data("barrating",i):e.$elem.data("barrating")[t]=i},c=function(){var t=o(),i=n(),s=t.val(),a=t.data("html")?t.data("html"):t.text(),r=null!==e.options.allowEmpty?e.options.allowEmpty:!!i.length,c=i.length?i.val():null,d=i.length?i.text():null;l(null,{userOptions:e.options,ratingValue:s,ratingText:a,originalRatingValue:s,originalRatingText:a,allowEmpty:r,emptyRatingValue:c,emptyRatingText:d,readOnly:e.options.readonly,ratingMade:!1})},d=function(){e.$elem.removeData("barrating")},h=function(){return r("ratingText")},u=function(){return r("ratingValue")},p=function(){var i=t("<div />",{class:"br-widget"});return e.$elem.find("option").each(function(){var s,a,o,n;s=t(this).val(),s!==r("emptyRatingValue")&&(a=t(this).text(),o=t(this).data("html"),o&&(a=o),n=t("<a />",{href:"#","data-rating-value":s,"data-rating-text":a,html:e.options.showValues?a:""}),i.append(n))}),e.options.showSelectedRating&&i.append(t("<div />",{text:"",class:"br-current-rating"})),e.options.reverse&&i.addClass("br-reverse"),e.options.readonly&&i.addClass("br-readonly"),i},f=function(){return r("userOptions").reverse?"nextAll":"prevAll"},m=function(t){a(t).prop("selected",!0),r("userOptions").triggerChange&&e.$elem.change()},g=function(){t("option",e.$elem).prop("selected",function(){return this.defaultSelected}),r("userOptions").triggerChange&&e.$elem.change()},v=function(t){t=t?t:h(),t==r("emptyRatingText")&&(t=""),e.options.showSelectedRating&&e.$elem.parent().find(".br-current-rating").text(t)},_=function(t){return Math.round(Math.floor(10*t)/10%1*100)},w=function(){e.$widget.find("a").removeClass(function(t,e){return(e.match(/(^|\s)br-\S+/g)||[]).join(" ")})},x=function(){var i,s,a=e.$widget.find('a[data-rating-value="'+u()+'"]'),o=r("userOptions").initialRating,n=t.isNumeric(u())?u():0,l=_(o);if(w(),a.addClass("br-selected br-current")[f()]().addClass("br-selected"),!r("ratingMade")&&t.isNumeric(o)){if(o<=n||!l)return;i=e.$widget.find("a"),s=a.length?a[r("userOptions").reverse?"prev":"next"]():i[r("userOptions").reverse?"last":"first"](),s.addClass("br-fractional"),s.addClass("br-fractional-"+l)}},b=function(t){return!(!r("allowEmpty")||!r("userOptions").deselectable)&&u()==t.attr("data-rating-value")},y=function(i){i.on("click.barrating",function(i){var s,a,o=t(this),n=r("userOptions");return i.preventDefault(),s=o.attr("data-rating-value"),a=o.attr("data-rating-text"),b(o)&&(s=r("emptyRatingValue"),a=r("emptyRatingText")),l("ratingValue",s),l("ratingText",a),l("ratingMade",!0),m(s),v(a),x(),n.onSelect.call(e,u(),h(),i),!1})},C=function(e){e.on("mouseenter.barrating",function(){var e=t(this);w(),e.addClass("br-active")[f()]().addClass("br-active"),v(e.attr("data-rating-text"))})},k=function(t){e.$widget.on("mouseleave.barrating blur.barrating",function(){v(),x()})},S=function(e){e.on("touchstart.barrating",function(e){e.preventDefault(),e.stopPropagation(),t(this).click()})},T=function(t){t.on("click.barrating",function(t){t.preventDefault()})},$=function(t){y(t),e.options.hoverState&&(C(t),k(t))},F=function(t){t.off(".barrating")},D=function(t){var i=e.$widget.find("a");r("userOptions").fastClicks&&S(i),t?(F(i),T(i)):$(i)};this.show=function(){r()||(i(),c(),e.$widget=p(),e.$widget.insertAfter(e.$elem),x(),v(),D(e.options.readonly),e.$elem.hide())},this.readonly=function(t){"boolean"==typeof t&&r("readOnly")!=t&&(D(t),l("readOnly",t),e.$widget.toggleClass("br-readonly"))},this.set=function(t){var i=r("userOptions");0!==e.$elem.find('option[value="'+t+'"]').length&&(l("ratingValue",t),l("ratingText",e.$elem.find('option[value="'+t+'"]').text()),l("ratingMade",!0),m(u()),v(h()),x(),i.silent||i.onSelect.call(this,u(),h()))},this.clear=function(){var t=r("userOptions");l("ratingValue",r("originalRatingValue")),l("ratingText",r("originalRatingText")),l("ratingMade",!1),g(),v(h()),x(),t.onClear.call(this,u(),h())},this.destroy=function(){var t=u(),i=h(),a=r("userOptions");F(e.$widget.find("a")),e.$widget.remove(),d(),s(),e.$elem.show(),a.onDestroy.call(this,t,i)}}return e.prototype.init=function(e,i){return this.$elem=t(i),this.options=t.extend({},t.fn.barrating.defaults,e),this.options},e}();t.fn.barrating=function(i,s){return this.each(function(){var a=new e;if(t(this).is("select")||t.error("Sorry, this plugin only works with select fields."),a.hasOwnProperty(i)){if(a.init(s,this),"show"===i)return a.show(s);if(a.$elem.data("barrating"))return a.$widget=t(this).next(".br-widget"),a[i](s)}else{if("object"==typeof i||!i)return s=i,a.init(s,this),a.show();t.error("Method "+i+" does not exist on jQuery.barrating")}})},t.fn.barrating.defaults={theme:"",initialRating:null,allowEmpty:null,emptyValue:"",showValues:!1,showSelectedRating:!0,deselectable:!0,reverse:!1,readonly:!1,fastClicks:!0,hoverState:!0,silent:!1,triggerChange:!0,onSelect:function(t,e,i){},onClear:function(t,e){},onDestroy:function(t,e){}},t.fn.barrating.BarRating=e}),window.matchMedia||(window.matchMedia=function(){var t=window.styleMedia||window.media;if(!t){var e=document.createElement("style"),i=document.getElementsByTagName("script")[0],s=null;e.type="text/css",e.id="matchmediajs-test",i.parentNode.insertBefore(e,i),s="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,t={matchMedium:function(t){var i="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=i:e.textContent=i,"1px"===s.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(t,e){function i(t){var e,i,s,o,n,r;t=t||{},e=t.elements||a.getAllElements();for(var l=0,c=e.length;c>l;l++)if(i=e[l],s=i.nodeName.toUpperCase(),o=void 0,n=void 0,r=void 0,i[a.ns]||(i[a.ns]={}),t.reevaluate||!i[a.ns].evaluated){if("PICTURE"===s){if(a.removeVideoShim(i),o=a.getMatch(i),o===!1)continue;r=i.getElementsByTagName("img")[0]}else o=void 0,r=i;r&&(r[a.ns]||(r[a.ns]={}),r.srcset&&("PICTURE"===s||r.getAttribute("sizes"))&&a.dodgeSrcset(r),o?(n=a.processSourceSet(o),a.applyBestCandidate(n,r)):(n=a.processSourceSet(r),(void 0===r.srcset||r.getAttribute("sizes")&&r[a.ns].srcset)&&a.applyBestCandidate(n,r)),i[a.ns].evaluated=!0)}}function s(){i();var s=setInterval(function(){return t.picturefill(),/^loaded|^i|^c/.test(e.readyState)?void clearInterval(s):void 0},250);if(t.addEventListener){var a;t.addEventListener("resize",function(){t.clearTimeout(a),a=t.setTimeout(function(){i({reevaluate:!0})},60)},!1)}}if(!t.HTMLPictureElement){e.createElement("picture");var a={};a.ns="picturefill",a.srcsetSupported=void 0!==(new t.Image).srcset,a.trim=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},a.endsWith=function(t,e){return t.endsWith?t.endsWith(e):-1!==t.indexOf(e,t.length-e.length)},a.matchesMedia=function(e){return t.matchMedia&&t.matchMedia(e).matches},a.getDpr=function(){return t.devicePixelRatio||1},a.getWidthFromLength=function(t){return t=t&&parseFloat(t)>0?t:"100vw",t=t.replace("vw","%"),a.lengthEl||(a.lengthEl=e.createElement("div"),e.documentElement.insertBefore(a.lengthEl,e.documentElement.firstChild)),a.lengthEl.style.cssText="position: absolute; left: 0; width: "+t+";",a.lengthEl.offsetWidth},a.types={},a.types["image/jpeg"]=!0,a.types["image/gif"]=!0,a.types["image/png"]=!0,a.types["image/svg+xml"]=e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),a.types["image/webp"]=function(){var e=new t.Image,s="image/webp";e.onerror=function(){a.types[s]=!1,i()},e.onload=function(){a.types[s]=1===e.width,i()},e.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="},a.verifyTypeSupport=function(t){var e=t.getAttribute("type");return null===e||""===e||("function"==typeof a.types[e]?(a.types[e](),"pending"):a.types[e])},a.parseSize=function(t){var e=/(\([^)]+\))?\s*(.+)/g.exec(t);return{media:e&&e[1],length:e&&e[2]}},a.findWidthFromSourceSize=function(t){for(var e,i=a.trim(t).split(/\s*,\s*/),s=0,o=i.length;o>s;s++){var n=i[s],r=a.parseSize(n),l=r.length,c=r.media;if(l&&(!c||a.matchesMedia(c))){e=l;break}}return a.getWidthFromLength(e)},a.getCandidatesFromSourceSet=function(t,e){for(var i=a.trim(t).split(/,\s+/),s=e?a.findWidthFromSourceSize(e):"100%",o=[],n=0,r=i.length;r>n;n++){var l,c=i[n],d=c.split(/\s+/),h=d[1];!h||"w"!==h.slice(-1)&&"x"!==h.slice(-1)||(h=h.slice(0,-1)),l=e?parseFloat(parseInt(h,10)/s):h?parseFloat(h,10):1;var u={url:d[0],resolution:l};o.push(u)}return o},a.dodgeSrcset=function(t){t.srcset&&(t[a.ns].srcset=t.srcset,t.removeAttribute("srcset"))},a.processSourceSet=function(t){var e=t.getAttribute("srcset"),i=t.getAttribute("sizes"),s=[];return"IMG"===t.nodeName.toUpperCase()&&t[a.ns]&&t[a.ns].srcset&&(e=t[a.ns].srcset),e&&(s=a.getCandidatesFromSourceSet(e,i)),s},a.applyBestCandidate=function(t,e){var i,s,o;t.sort(a.ascendingSort),s=t.length,o=t[s-1];for(var n=0;s>n;n++)if(i=t[n],i.resolution>=a.getDpr()){o=i;break}a.endsWith(e.src,o.url)||(e.src=o.url,e.currentSrc=e.src)},a.ascendingSort=function(t,e){return t.resolution-e.resolution},a.removeVideoShim=function(t){var e=t.getElementsByTagName("video");if(e.length){for(var i=e[0],s=i.getElementsByTagName("source");s.length;)t.insertBefore(s[0],i);i.parentNode.removeChild(i)}},a.getAllElements=function(){for(var t=e.getElementsByTagName("picture"),i=[],s=e.getElementsByTagName("img"),o=0,n=t.length+s.length;n>o;o++)if(o<t.length)i[o]=t[o];else{var r=s[o-t.length];"PICTURE"!==r.parentNode.nodeName.toUpperCase()&&(a.srcsetSupported&&r.getAttribute("sizes")||null!==r.getAttribute("srcset"))&&i.push(r)}return i},a.getMatch=function(t){for(var e,i=t.childNodes,s=0,o=i.length;o>s;s++){var n=i[s];if(1===n.nodeType){if("IMG"===n.nodeName.toUpperCase())return e;if("SOURCE"===n.nodeName.toUpperCase()){var r=n.getAttribute("media");if(n.getAttribute("srcset")&&(!r||a.matchesMedia(r))){var l=a.verifyTypeSupport(n);if(l===!0){e=n;break}if("pending"===l)return!1}}}}return e},s(),i._=a,"object"==typeof module&&"object"==typeof module.exports?module.exports=i:"object"==typeof define&&define.amd?define(function(){return i}):"object"==typeof t&&(t.picturefill=i)}}(this,this.document),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t:t(jQuery,window,document)}(function(t){!function(e){var i="function"==typeof define&&define.amd,s="undefined"!=typeof module&&module.exports,a="https:"==document.location.protocol?"https:":"http:",o="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";i||(s?require("jquery-mousewheel")(t):t.event.special.mousewheel||t("head").append(decodeURI("%3Cscript src="+a+"//"+o+"%3E%3C/script%3E"))),e()}(function(){var e,i="mCustomScrollbar",s="mCS",a=".mCustomScrollbar",o={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},n=0,r={},l=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],h={init:function(e){var e=t.extend(!0,{},o,e),i=u.call(this);if(e.live){var l=e.liveSelector||this.selector||a,c=t(l);if("off"===e.live)return void f(l);r[l]=setTimeout(function(){c.mCustomScrollbar(e),"once"===e.live&&c.length&&f(l)},500)}else f(l);return e.setWidth=e.set_width?e.set_width:e.setWidth,e.setHeight=e.set_height?e.set_height:e.setHeight,e.axis=e.horizontalScroll?"x":m(e.axis),e.scrollInertia=e.scrollInertia>0&&e.scrollInertia<17?17:e.scrollInertia,"object"!=typeof e.mouseWheel&&1==e.mouseWheel&&(e.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),e.mouseWheel.scrollAmount=e.mouseWheelPixels?e.mouseWheelPixels:e.mouseWheel.scrollAmount,e.mouseWheel.normalizeDelta=e.advanced.normalizeMouseWheelDelta?e.advanced.normalizeMouseWheelDelta:e.mouseWheel.normalizeDelta,e.scrollButtons.scrollType=g(e.scrollButtons.scrollType),p(e),t(i).each(function(){var i=t(this);if(!i.data(s)){i.data(s,{idx:++n,opt:e,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:i.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var a=i.data(s),o=a.opt,r=i.data("mcs-axis"),l=i.data("mcs-scrollbar-position"),c=i.data("mcs-theme");r&&(o.axis=r),l&&(o.scrollbarPosition=l),c&&(o.theme=c,p(o)),v.call(this),a&&o.callbacks.onCreate&&"function"==typeof o.callbacks.onCreate&&o.callbacks.onCreate.call(this),t("#mCSB_"+a.idx+"_container img:not(."+d[2]+")").addClass(d[2]),h.update.call(null,i)}})},update:function(e,i){var a=e||u.call(this);return t(a).each(function(){var e=t(this);if(e.data(s)){var a=e.data(s),o=a.opt,n=t("#mCSB_"+a.idx+"_container"),r=t("#mCSB_"+a.idx),l=[t("#mCSB_"+a.idx+"_dragger_vertical"),t("#mCSB_"+a.idx+"_dragger_horizontal")];if(!n.length)return;a.tweenRunning&&G(e),i&&a&&o.callbacks.onBeforeUpdate&&"function"==typeof o.callbacks.onBeforeUpdate&&o.callbacks.onBeforeUpdate.call(this),e.hasClass(d[3])&&e.removeClass(d[3]),e.hasClass(d[4])&&e.removeClass(d[4]),r.css("max-height","none"),r.height()!==e.height()&&r.css("max-height",e.height()),w.call(this),"y"===o.axis||o.advanced.autoExpandHorizontalScroll||n.css("width",_(n)),a.overflowed=k.call(this),F.call(this),o.autoDraggerLength&&b.call(this),y.call(this),T.call(this);var c=[Math.abs(n[0].offsetTop),Math.abs(n[0].offsetLeft)];"x"!==o.axis&&(a.overflowed[0]?l[0].height()>l[0].parent().height()?S.call(this):(X(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),a.contentReset.y=null):(S.call(this),"y"===o.axis?$.call(this):"yx"===o.axis&&a.overflowed[1]&&X(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==o.axis&&(a.overflowed[1]?l[1].width()>l[1].parent().width()?S.call(this):(X(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),a.contentReset.x=null):(S.call(this),"x"===o.axis?$.call(this):"yx"===o.axis&&a.overflowed[0]&&X(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),i&&a&&(2===i&&o.callbacks.onImageLoad&&"function"==typeof o.callbacks.onImageLoad?o.callbacks.onImageLoad.call(this):3===i&&o.callbacks.onSelectorChange&&"function"==typeof o.callbacks.onSelectorChange?o.callbacks.onSelectorChange.call(this):o.callbacks.onUpdate&&"function"==typeof o.callbacks.onUpdate&&o.callbacks.onUpdate.call(this)),Y.call(this)}})},scrollTo:function(e,i){if("undefined"!=typeof e&&null!=e){var a=u.call(this);return t(a).each(function(){var a=t(this);if(a.data(s)){var o=a.data(s),n=o.opt,r={trigger:"external",scrollInertia:n.scrollInertia,
scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=t.extend(!0,{},r,i),c=H.call(this,e),d=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;c[0]=W.call(this,c[0],"y"),c[1]=W.call(this,c[1],"x"),l.moveDragger&&(c[0]*=o.scrollRatio.y,c[1]*=o.scrollRatio.x),l.dur=at()?0:d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==n.axis&&o.overflowed[0]&&(l.dir="y",l.overwrite="all",X(a,c[0].toString(),l)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==n.axis&&o.overflowed[1]&&(l.dir="x",l.overwrite="none",X(a,c[1].toString(),l))},l.timeout)}})}},stop:function(){var e=u.call(this);return t(e).each(function(){var e=t(this);e.data(s)&&G(e)})},disable:function(e){var i=u.call(this);return t(i).each(function(){var i=t(this);i.data(s)&&(i.data(s),Y.call(this,"remove"),$.call(this),e&&S.call(this),F.call(this,!0),i.addClass(d[3]))})},destroy:function(){var e=u.call(this);return t(e).each(function(){var a=t(this);if(a.data(s)){var o=a.data(s),n=o.opt,r=t("#mCSB_"+o.idx),l=t("#mCSB_"+o.idx+"_container"),c=t(".mCSB_"+o.idx+"_scrollbar");n.live&&f(n.liveSelector||t(e).selector),Y.call(this,"remove"),$.call(this),S.call(this),a.removeData(s),Z(this,"mcs"),c.remove(),l.find("img."+d[2]).removeClass(d[2]),r.replaceWith(l.contents()),a.removeClass(i+" _"+s+"_"+o.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},u=function(){return"object"!=typeof t(this)||t(this).length<1?a:this},p=function(e){var i=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],s=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],a=["minimal","minimal-dark"],o=["minimal","minimal-dark"],n=["minimal","minimal-dark"];e.autoDraggerLength=!(t.inArray(e.theme,i)>-1)&&e.autoDraggerLength,e.autoExpandScrollbar=!(t.inArray(e.theme,s)>-1)&&e.autoExpandScrollbar,e.scrollButtons.enable=!(t.inArray(e.theme,a)>-1)&&e.scrollButtons.enable,e.autoHideScrollbar=t.inArray(e.theme,o)>-1||e.autoHideScrollbar,e.scrollbarPosition=t.inArray(e.theme,n)>-1?"outside":e.scrollbarPosition},f=function(t){r[t]&&(clearTimeout(r[t]),Z(r,t))},m=function(t){return"yx"===t||"xy"===t||"auto"===t?"yx":"x"===t||"horizontal"===t?"x":"y"},g=function(t){return"stepped"===t||"pixels"===t||"step"===t||"click"===t?"stepped":"stepless"},v=function(){var e=t(this),a=e.data(s),o=a.opt,n=o.autoExpandScrollbar?" "+d[1]+"_expand":"",r=["<div id='mCSB_"+a.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+a.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_vertical"+n+"'><div class='"+d[12]+"'><div id='mCSB_"+a.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+a.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+a.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_horizontal"+n+"'><div class='"+d[12]+"'><div id='mCSB_"+a.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===o.axis?"mCSB_vertical_horizontal":"x"===o.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===o.axis?r[0]+r[1]:"x"===o.axis?r[1]:r[0],h="yx"===o.axis?"<div id='mCSB_"+a.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",u=o.autoHideScrollbar?" "+d[6]:"",p="x"!==o.axis&&"rtl"===a.langDir?" "+d[7]:"";o.setWidth&&e.css("width",o.setWidth),o.setHeight&&e.css("height",o.setHeight),o.setLeft="y"!==o.axis&&"rtl"===a.langDir?"989999px":o.setLeft,e.addClass(i+" _"+s+"_"+a.idx+u+p).wrapInner("<div id='mCSB_"+a.idx+"' class='mCustomScrollBox mCS-"+o.theme+" "+l+"'><div id='mCSB_"+a.idx+"_container' class='mCSB_container' style='position:relative; top:"+o.setTop+"; left:"+o.setLeft+";' dir='"+a.langDir+"' /></div>");var f=t("#mCSB_"+a.idx),m=t("#mCSB_"+a.idx+"_container");"y"===o.axis||o.advanced.autoExpandHorizontalScroll||m.css("width",_(m)),"outside"===o.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),f.addClass("mCSB_outside").after(c)):(f.addClass("mCSB_inside").append(c),m.wrap(h)),x.call(this);var g=[t("#mCSB_"+a.idx+"_dragger_vertical"),t("#mCSB_"+a.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},_=function(e){var i=[e[0].scrollWidth,Math.max.apply(Math,e.children().map(function(){return t(this).outerWidth(!0)}).get())],s=e.parent().width();return i[0]>s?i[0]:i[1]>s?i[1]:"100%"},w=function(){var e=t(this),i=e.data(s),a=i.opt,o=t("#mCSB_"+i.idx+"_container");if(a.advanced.autoExpandHorizontalScroll&&"y"!==a.axis){o.css({width:"auto","min-width":0,"overflow-x":"scroll"});var n=Math.ceil(o[0].scrollWidth);3===a.advanced.autoExpandHorizontalScroll||2!==a.advanced.autoExpandHorizontalScroll&&n>o.parent().width()?o.css({width:n,"min-width":"100%","overflow-x":"inherit"}):o.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(o[0].getBoundingClientRect().right+.4)-Math.floor(o[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},x=function(){var e=t(this),i=e.data(s),a=i.opt,o=t(".mCSB_"+i.idx+"_scrollbar:first"),n=it(a.scrollButtons.tabindex)?"tabindex='"+a.scrollButtons.tabindex+"'":"",r=["<a href='#' class='"+d[13]+"' "+n+" />","<a href='#' class='"+d[14]+"' "+n+" />","<a href='#' class='"+d[15]+"' "+n+" />","<a href='#' class='"+d[16]+"' "+n+" />"],l=["x"===a.axis?r[2]:r[0],"x"===a.axis?r[3]:r[1],r[2],r[3]];a.scrollButtons.enable&&o.prepend(l[0]).append(l[1]).next(".mCSB_scrollTools").prepend(l[2]).append(l[3])},b=function(){var e=t(this),i=e.data(s),a=t("#mCSB_"+i.idx),o=t("#mCSB_"+i.idx+"_container"),n=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")],r=[a.height()/o.outerHeight(!1),a.width()/o.outerWidth(!1)],c=[parseInt(n[0].css("min-height")),Math.round(r[0]*n[0].parent().height()),parseInt(n[1].css("min-width")),Math.round(r[1]*n[1].parent().width())],d=l&&c[1]<c[0]?c[0]:c[1],h=l&&c[3]<c[2]?c[2]:c[3];n[0].css({height:d,"max-height":n[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),n[1].css({width:h,"max-width":n[1].parent().width()-10})},y=function(){var e=t(this),i=e.data(s),a=t("#mCSB_"+i.idx),o=t("#mCSB_"+i.idx+"_container"),n=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")],r=[o.outerHeight(!1)-a.height(),o.outerWidth(!1)-a.width()],l=[r[0]/(n[0].parent().height()-n[0].height()),r[1]/(n[1].parent().width()-n[1].width())];i.scrollRatio={y:l[0],x:l[1]}},C=function(t,e,i){var s=i?d[0]+"_expanded":"",a=t.closest(".mCSB_scrollTools");"active"===e?(t.toggleClass(d[0]+" "+s),a.toggleClass(d[1]),t[0]._draggable=t[0]._draggable?0:1):t[0]._draggable||("hide"===e?(t.removeClass(d[0]),a.removeClass(d[1])):(t.addClass(d[0]),a.addClass(d[1])))},k=function(){var e=t(this),i=e.data(s),a=t("#mCSB_"+i.idx),o=t("#mCSB_"+i.idx+"_container"),n=null==i.overflowed?o.height():o.outerHeight(!1),r=null==i.overflowed?o.width():o.outerWidth(!1),l=o[0].scrollHeight,c=o[0].scrollWidth;return l>n&&(n=l),c>r&&(r=c),[n>a.height(),r>a.width()]},S=function(){var e=t(this),i=e.data(s),a=i.opt,o=t("#mCSB_"+i.idx),n=t("#mCSB_"+i.idx+"_container"),r=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")];if(G(e),("x"!==a.axis&&!i.overflowed[0]||"y"===a.axis&&i.overflowed[0])&&(r[0].add(n).css("top",0),X(e,"_resetY")),"y"!==a.axis&&!i.overflowed[1]||"x"===a.axis&&i.overflowed[1]){var l=dx=0;"rtl"===i.langDir&&(l=o.width()-n.outerWidth(!1),dx=Math.abs(l/i.scrollRatio.x)),n.css("left",l),r[1].css("left",dx),X(e,"_resetX")}},T=function(){function e(){n=setTimeout(function(){t.event.special.mousewheel?(clearTimeout(n),P.call(i[0])):e()},100)}var i=t(this),a=i.data(s),o=a.opt;if(!a.bindEvents){if(M.call(this),o.contentTouchScroll&&E.call(this),A.call(this),o.mouseWheel.enable){var n;e()}R.call(this),z.call(this),o.advanced.autoScrollOnFocus&&q.call(this),o.scrollButtons.enable&&L.call(this),o.keyboard.enable&&V.call(this),a.bindEvents=!0}},$=function(){var e=t(this),i=e.data(s),a=i.opt,o=s+"_"+i.idx,n=".mCSB_"+i.idx+"_scrollbar",r=t("#mCSB_"+i.idx+",#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,"+n+" ."+d[12]+",#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal,"+n+">a"),l=t("#mCSB_"+i.idx+"_container");a.advanced.releaseDraggableSelectors&&r.add(t(a.advanced.releaseDraggableSelectors)),a.advanced.extraDraggableSelectors&&r.add(t(a.advanced.extraDraggableSelectors)),i.bindEvents&&(t(document).add(t(!j()||top.document)).unbind("."+o),r.each(function(){t(this).unbind("."+o)}),clearTimeout(e[0]._focusTimeout),Z(e[0],"_focusTimeout"),clearTimeout(i.sequential.step),Z(i.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),Z(l[0],"onCompleteTimeout"),i.bindEvents=!1)},F=function(e){var i=t(this),a=i.data(s),o=a.opt,n=t("#mCSB_"+a.idx+"_container_wrapper"),r=n.length?n:t("#mCSB_"+a.idx+"_container"),l=[t("#mCSB_"+a.idx+"_scrollbar_vertical"),t("#mCSB_"+a.idx+"_scrollbar_horizontal")],c=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==o.axis&&(a.overflowed[0]&&!e?(l[0].add(c[0]).add(l[0].children("a")).css("display","block"),r.removeClass(d[8]+" "+d[10])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&c[0].css("display","none"),r.removeClass(d[10])):(l[0].css("display","none"),r.addClass(d[10])),r.addClass(d[8]))),"y"!==o.axis&&(a.overflowed[1]&&!e?(l[1].add(c[1]).add(l[1].children("a")).css("display","block"),r.removeClass(d[9]+" "+d[11])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&c[1].css("display","none"),r.removeClass(d[11])):(l[1].css("display","none"),r.addClass(d[11])),r.addClass(d[9]))),a.overflowed[0]||a.overflowed[1]?i.removeClass(d[5]):i.addClass(d[5])},D=function(e){var i=e.type,s=e.target.ownerDocument!==document&&null!==frameElement?[t(frameElement).offset().top,t(frameElement).offset().left]:null,a=j()&&e.target.ownerDocument!==top.document&&null!==frameElement?[t(e.view.frameElement).offset().top,t(e.view.frameElement).offset().left]:[0,0];switch(i){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return s?[e.originalEvent.pageY-s[0]+a[0],e.originalEvent.pageX-s[1]+a[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var o=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],n=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[o.screenY,o.screenX,n>1]:[o.pageY,o.pageX,n>1];default:return s?[e.pageY-s[0]+a[0],e.pageX-s[1]+a[1],!1]:[e.pageY,e.pageX,!1]}},M=function(){function e(t,e,s,a){if(p[0].idleTimer=d.scrollInertia<233?250:0,i.attr("id")===u[1])var o="x",l=(i[0].offsetLeft-e+a)*r.scrollRatio.x;else var o="y",l=(i[0].offsetTop-t+s)*r.scrollRatio.y;X(n,l.toString(),{dir:o,drag:!0})}var i,a,o,n=t(this),r=n.data(s),d=r.opt,h=s+"_"+r.idx,u=["mCSB_"+r.idx+"_dragger_vertical","mCSB_"+r.idx+"_dragger_horizontal"],p=t("#mCSB_"+r.idx+"_container"),f=t("#"+u[0]+",#"+u[1]),m=d.advanced.releaseDraggableSelectors?f.add(t(d.advanced.releaseDraggableSelectors)):f,g=d.advanced.extraDraggableSelectors?t(!j()||top.document).add(t(d.advanced.extraDraggableSelectors)):t(!j()||top.document);f.bind("contextmenu."+h,function(t){t.preventDefault()}).bind("mousedown."+h+" touchstart."+h+" pointerdown."+h+" MSPointerDown."+h,function(e){if(e.stopImmediatePropagation(),e.preventDefault(),tt(e)){c=!0,l&&(document.onselectstart=function(){return!1}),I.call(p,!1),G(n),i=t(this);var s=i.offset(),r=D(e)[0]-s.top,h=D(e)[1]-s.left,u=i.height()+s.top,f=i.width()+s.left;r<u&&r>0&&h<f&&h>0&&(a=r,o=h),C(i,"active",d.autoExpandScrollbar)}}).bind("touchmove."+h,function(t){t.stopImmediatePropagation(),t.preventDefault();var s=i.offset(),n=D(t)[0]-s.top,r=D(t)[1]-s.left;e(a,o,n,r)}),t(document).add(g).bind("mousemove."+h+" pointermove."+h+" MSPointerMove."+h,function(t){if(i){var s=i.offset(),n=D(t)[0]-s.top,r=D(t)[1]-s.left;if(a===n&&o===r)return;e(a,o,n,r)}}).add(m).bind("mouseup."+h+" touchend."+h+" pointerup."+h+" MSPointerUp."+h,function(t){i&&(C(i,"active",d.autoExpandScrollbar),i=null),c=!1,l&&(document.onselectstart=null),I.call(p,!0)})},E=function(){function i(t){if(!et(t)||c||D(t)[2])return void(e=0);e=1,y=0,C=0,d=1,k.removeClass("mCS_touch_action");var i=M.offset();h=D(t)[0]-i.top,u=D(t)[1]-i.left,B=[D(t)[0],D(t)[1]]}function a(t){if(et(t)&&!c&&!D(t)[2]&&(T.documentTouchScroll||t.preventDefault(),t.stopImmediatePropagation(),(!C||y)&&d)){g=K();var e=F.offset(),i=D(t)[0]-e.top,s=D(t)[1]-e.left,a="mcsLinearOut";if(A.push(i),P.push(s),B[2]=Math.abs(D(t)[0]-B[0]),B[3]=Math.abs(D(t)[1]-B[1]),S.overflowed[0])var o=E[0].parent().height()-E[0].height(),n=h-i>0&&i-h>-(o*S.scrollRatio.y)&&(2*B[3]<B[2]||"yx"===T.axis);if(S.overflowed[1])var r=E[1].parent().width()-E[1].width(),p=u-s>0&&s-u>-(r*S.scrollRatio.x)&&(2*B[2]<B[3]||"yx"===T.axis);n||p?(z||t.preventDefault(),y=1):(C=1,k.addClass("mCS_touch_action")),z&&t.preventDefault(),x="yx"===T.axis?[h-i,u-s]:"x"===T.axis?[null,u-s]:[h-i,null],M[0].idleTimer=250,S.overflowed[0]&&l(x[0],O,a,"y","all",!0),S.overflowed[1]&&l(x[1],O,a,"x",I,!0)}}function o(t){if(!et(t)||c||D(t)[2])return void(e=0);e=1,t.stopImmediatePropagation(),G(k),m=K();var i=F.offset();p=D(t)[0]-i.top,f=D(t)[1]-i.left,A=[],P=[]}function n(t){if(et(t)&&!c&&!D(t)[2]){d=0,t.stopImmediatePropagation(),y=0,C=0,v=K();var e=F.offset(),i=D(t)[0]-e.top,s=D(t)[1]-e.left;if(!(v-g>30)){w=1e3/(v-m);var a="mcsEaseOut",o=w<2.5,n=o?[A[A.length-2],P[P.length-2]]:[0,0];_=o?[i-n[0],s-n[1]]:[i-p,s-f];var h=[Math.abs(_[0]),Math.abs(_[1])];w=o?[Math.abs(_[0]/4),Math.abs(_[1]/4)]:[w,w];var u=[Math.abs(M[0].offsetTop)-_[0]*r(h[0]/w[0],w[0]),Math.abs(M[0].offsetLeft)-_[1]*r(h[1]/w[1],w[1])];x="yx"===T.axis?[u[0],u[1]]:"x"===T.axis?[null,u[1]]:[u[0],null],b=[4*h[0]+T.scrollInertia,4*h[1]+T.scrollInertia];var k=parseInt(T.contentTouchScroll)||0;x[0]=h[0]>k?x[0]:0,x[1]=h[1]>k?x[1]:0,S.overflowed[0]&&l(x[0],b[0],a,"y",I,!1),S.overflowed[1]&&l(x[1],b[1],a,"x",I,!1)}}}function r(t,e){var i=[1.5*e,2*e,e/1.5,e/2];return t>90?e>4?i[0]:i[3]:t>60?e>3?i[3]:i[2]:t>30?e>8?i[1]:e>6?i[0]:e>4?e:i[2]:e>8?e:i[3]}function l(t,e,i,s,a,o){t&&X(k,t.toString(),{dur:e,scrollEasing:i,dir:s,overwrite:a,drag:o})}var d,h,u,p,f,m,g,v,_,w,x,b,y,C,k=t(this),S=k.data(s),T=S.opt,$=s+"_"+S.idx,F=t("#mCSB_"+S.idx),M=t("#mCSB_"+S.idx+"_container"),E=[t("#mCSB_"+S.idx+"_dragger_vertical"),t("#mCSB_"+S.idx+"_dragger_horizontal")],A=[],P=[],O=0,I="yx"===T.axis?"none":"all",B=[],R=M.find("iframe"),q=["touchstart."+$+" pointerdown."+$+" MSPointerDown."+$,"touchmove."+$+" pointermove."+$+" MSPointerMove."+$,"touchend."+$+" pointerup."+$+" MSPointerUp."+$],z=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;M.bind(q[0],function(t){i(t)}).bind(q[1],function(t){a(t)}),F.bind(q[0],function(t){o(t)}).bind(q[2],function(t){n(t)}),R.length&&R.each(function(){t(this).bind("load",function(){j(this)&&t(this.contentDocument||this.contentWindow.document).bind(q[0],function(t){i(t),o(t)}).bind(q[1],function(t){a(t)}).bind(q[2],function(t){n(t)})})})},A=function(){function i(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function a(t,e,i){d.type=i&&o?"stepped":"stepless",d.scrollAmount=10,N(n,t,e,"mcsLinearOut",i?60:null)}var o,n=t(this),r=n.data(s),l=r.opt,d=r.sequential,h=s+"_"+r.idx,u=t("#mCSB_"+r.idx+"_container"),p=u.parent();u.bind("mousedown."+h,function(t){e||o||(o=1,c=!0)}).add(document).bind("mousemove."+h,function(t){if(!e&&o&&i()){var s=u.offset(),n=D(t)[0]-s.top+u[0].offsetTop,c=D(t)[1]-s.left+u[0].offsetLeft;n>0&&n<p.height()&&c>0&&c<p.width()?d.step&&a("off",null,"stepped"):("x"!==l.axis&&r.overflowed[0]&&(n<0?a("on",38):n>p.height()&&a("on",40)),"y"!==l.axis&&r.overflowed[1]&&(c<0?a("on",37):c>p.width()&&a("on",39)))}}).bind("mouseup."+h+" dragend."+h,function(t){e||(o&&(o=0,a("off",null)),c=!1)})},P=function(){function e(e,s){if(G(i),!B(i,e.target)){var n="auto"!==o.mouseWheel.deltaFactor?parseInt(o.mouseWheel.deltaFactor):l&&e.deltaFactor<100?100:e.deltaFactor||100,d=o.scrollInertia;if("x"===o.axis||"x"===o.mouseWheel.axis)var h="x",u=[Math.round(n*a.scrollRatio.x),parseInt(o.mouseWheel.scrollAmount)],p="auto"!==o.mouseWheel.scrollAmount?u[1]:u[0]>=r.width()?.9*r.width():u[0],f=Math.abs(t("#mCSB_"+a.idx+"_container")[0].offsetLeft),m=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v="y"===o.mouseWheel.axis?e.deltaY||s:e.deltaX;else var h="y",u=[Math.round(n*a.scrollRatio.y),parseInt(o.mouseWheel.scrollAmount)],p="auto"!==o.mouseWheel.scrollAmount?u[1]:u[0]>=r.height()?.9*r.height():u[0],f=Math.abs(t("#mCSB_"+a.idx+"_container")[0].offsetTop),m=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=e.deltaY||s;"y"===h&&!a.overflowed[0]||"x"===h&&!a.overflowed[1]||((o.mouseWheel.invert||e.webkitDirectionInvertedFromDevice)&&(v=-v),o.mouseWheel.normalizeDelta&&(v=v<0?-1:1),(v>0&&0!==m||v<0&&m!==g||o.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),e.deltaFactor<5&&!o.mouseWheel.normalizeDelta&&(p=e.deltaFactor,d=17),X(i,(f-v*p).toString(),{dir:h,dur:d}))}}if(t(this).data(s)){var i=t(this),a=i.data(s),o=a.opt,n=s+"_"+a.idx,r=t("#mCSB_"+a.idx),c=[t("#mCSB_"+a.idx+"_dragger_vertical"),t("#mCSB_"+a.idx+"_dragger_horizontal")],d=t("#mCSB_"+a.idx+"_container").find("iframe");d.length&&d.each(function(){t(this).bind("load",function(){j(this)&&t(this.contentDocument||this.contentWindow.document).bind("mousewheel."+n,function(t,i){e(t,i)})})}),r.bind("mousewheel."+n,function(t,i){e(t,i)})}},O=new Object,j=function(e){var i=!1,s=!1,a=null;if(void 0===e?s="#empty":void 0!==t(e).attr("id")&&(s=t(e).attr("id")),s!==!1&&void 0!==O[s])return O[s];if(e){try{var o=e.contentDocument||e.contentWindow.document;a=o.body.innerHTML}catch(t){}i=null!==a}else{try{var o=top.document;a=o.body.innerHTML}catch(t){}i=null!==a}return s!==!1&&(O[s]=i),i},I=function(t){var e=this.find("iframe");if(e.length){var i=t?"auto":"none";e.css("pointer-events",i)}},B=function(e,i){var a=i.nodeName.toLowerCase(),o=e.data(s).opt.mouseWheel.disableOver,n=["select","textarea"];return t.inArray(a,o)>-1&&!(t.inArray(a,n)>-1&&!t(i).is(":focus"))},R=function(){var e,i=t(this),a=i.data(s),o=s+"_"+a.idx,n=t("#mCSB_"+a.idx+"_container"),r=n.parent(),l=t(".mCSB_"+a.idx+"_scrollbar ."+d[12]);l.bind("mousedown."+o+" touchstart."+o+" pointerdown."+o+" MSPointerDown."+o,function(i){c=!0,t(i.target).hasClass("mCSB_dragger")||(e=1)}).bind("touchend."+o+" pointerup."+o+" MSPointerUp."+o,function(t){c=!1}).bind("click."+o,function(s){if(e&&(e=0,t(s.target).hasClass(d[12])||t(s.target).hasClass("mCSB_draggerRail"))){G(i);var o=t(this),l=o.find(".mCSB_dragger");if(o.parent(".mCSB_scrollTools_horizontal").length>0){if(!a.overflowed[1])return;var c="x",h=s.pageX>l.offset().left?-1:1,u=Math.abs(n[0].offsetLeft)-h*(.9*r.width())}else{if(!a.overflowed[0])return;var c="y",h=s.pageY>l.offset().top?-1:1,u=Math.abs(n[0].offsetTop)-h*(.9*r.height())}X(i,u.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},q=function(){var e=t(this),i=e.data(s),a=i.opt,o=s+"_"+i.idx,n=t("#mCSB_"+i.idx+"_container"),r=n.parent();n.bind("focusin."+o,function(i){var s=t(document.activeElement),o=n.find(".mCustomScrollBox").length,l=0;s.is(a.advanced.autoScrollOnFocus)&&(G(e),clearTimeout(e[0]._focusTimeout),e[0]._focusTimer=o?(l+17)*o:0,e[0]._focusTimeout=setTimeout(function(){var t=[st(s)[0],st(s)[1]],i=[n[0].offsetTop,n[0].offsetLeft],o=[i[0]+t[0]>=0&&i[0]+t[0]<r.height()-s.outerHeight(!1),i[1]+t[1]>=0&&i[0]+t[1]<r.width()-s.outerWidth(!1)],c="yx"!==a.axis||o[0]||o[1]?"all":"none";"x"===a.axis||o[0]||X(e,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:l}),"y"===a.axis||o[1]||X(e,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:l})},e[0]._focusTimer))})},z=function(){var e=t(this),i=e.data(s),a=s+"_"+i.idx,o=t("#mCSB_"+i.idx+"_container").parent();o.bind("scroll."+a,function(e){0===o.scrollTop()&&0===o.scrollLeft()||t(".mCSB_"+i.idx+"_scrollbar").css("visibility","hidden")})},L=function(){var e=t(this),i=e.data(s),a=i.opt,o=i.sequential,n=s+"_"+i.idx,r=".mCSB_"+i.idx+"_scrollbar",l=t(r+">a");l.bind("contextmenu."+n,function(t){t.preventDefault()}).bind("mousedown."+n+" touchstart."+n+" pointerdown."+n+" MSPointerDown."+n+" mouseup."+n+" touchend."+n+" pointerup."+n+" MSPointerUp."+n+" mouseout."+n+" pointerout."+n+" MSPointerOut."+n+" click."+n,function(s){function n(t,i){o.scrollAmount=a.scrollButtons.scrollAmount,N(e,t,i)}if(s.preventDefault(),tt(s)){var r=t(this).attr("class");switch(o.type=a.scrollButtons.scrollType,s.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===o.type)return;c=!0,i.tweenRunning=!1,n("on",r);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===o.type)return;c=!1,o.dir&&n("off",r);break;case"click":if("stepped"!==o.type||i.tweenRunning)return;n("on",r)}}})},V=function(){function e(e){function s(t,e){n.type=o.keyboard.scrollType,n.scrollAmount=o.keyboard.scrollAmount,"stepped"===n.type&&a.tweenRunning||N(i,t,e)}switch(e.type){case"blur":a.tweenRunning&&n.dir&&s("off",null);break;case"keydown":case"keyup":var r=e.keyCode?e.keyCode:e.which,l="on";if("x"!==o.axis&&(38===r||40===r)||"y"!==o.axis&&(37===r||39===r)){if((38===r||40===r)&&!a.overflowed[0]||(37===r||39===r)&&!a.overflowed[1])return;"keyup"===e.type&&(l="off"),t(document.activeElement).is(h)||(e.preventDefault(),e.stopImmediatePropagation(),s(l,r))}else if(33===r||34===r){if((a.overflowed[0]||a.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type){G(i);var u=34===r?-1:1;if("x"===o.axis||"yx"===o.axis&&a.overflowed[1]&&!a.overflowed[0])var p="x",f=Math.abs(c[0].offsetLeft)-u*(.9*d.width());else var p="y",f=Math.abs(c[0].offsetTop)-u*(.9*d.height());X(i,f.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}else if((35===r||36===r)&&!t(document.activeElement).is(h)&&((a.overflowed[0]||a.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type)){if("x"===o.axis||"yx"===o.axis&&a.overflowed[1]&&!a.overflowed[0])var p="x",f=35===r?Math.abs(d.width()-c.outerWidth(!1)):0;else var p="y",f=35===r?Math.abs(d.height()-c.outerHeight(!1)):0;X(i,f.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}}var i=t(this),a=i.data(s),o=a.opt,n=a.sequential,r=s+"_"+a.idx,l=t("#mCSB_"+a.idx),c=t("#mCSB_"+a.idx+"_container"),d=c.parent(),h="input,textarea,select,datalist,keygen,[contenteditable='true']",u=c.find("iframe"),p=["blur."+r+" keydown."+r+" keyup."+r];u.length&&u.each(function(){t(this).bind("load",function(){j(this)&&t(this.contentDocument||this.contentWindow.document).bind(p[0],function(t){e(t)})})}),l.attr("tabindex","0").bind(p[0],function(t){e(t)})},N=function(e,i,a,o,n){function r(t){h.snapAmount&&(u.scrollAmount=h.snapAmount instanceof Array?"x"===u.dir[0]?h.snapAmount[1]:h.snapAmount[0]:h.snapAmount);var i="stepped"!==u.type,s=n?n:t?i?m/1.5:g:1e3/60,a=t?i?7.5:40:2.5,l=[Math.abs(p[0].offsetTop),Math.abs(p[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],f="x"===u.dir[0]?l[1]+u.dir[1]*(d[1]*a):l[0]+u.dir[1]*(d[0]*a),v="x"===u.dir[0]?l[1]+u.dir[1]*parseInt(u.scrollAmount):l[0]+u.dir[1]*parseInt(u.scrollAmount),_="auto"!==u.scrollAmount?v:f,w=o?o:t?i?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",x=!!t;return t&&s<17&&(_="x"===u.dir[0]?l[1]:l[0]),X(e,_.toString(),{dir:u.dir[0],scrollEasing:w,dur:s,onComplete:x}),t?void(u.dir=!1):(clearTimeout(u.step),void(u.step=setTimeout(function(){r()},s)))}function l(){clearTimeout(u.step),Z(u,"step"),G(e)}var c=e.data(s),h=c.opt,u=c.sequential,p=t("#mCSB_"+c.idx+"_container"),f="stepped"===u.type,m=h.scrollInertia<26?26:h.scrollInertia,g=h.scrollInertia<1?17:h.scrollInertia;switch(i){case"on":if(u.dir=[a===d[16]||a===d[15]||39===a||37===a?"x":"y",a===d[13]||a===d[15]||38===a||37===a?-1:1],G(e),it(a)&&"stepped"===u.type)return;r(f);break;case"off":l(),(f||c.tweenRunning&&u.dir)&&r(!0)}},H=function(e){var i=t(this).data(s).opt,a=[];return"function"==typeof e&&(e=e()),e instanceof Array?a=e.length>1?[e[0],e[1]]:"x"===i.axis?[null,e[0]]:[e[0],null]:(a[0]=e.y?e.y:e.x||"x"===i.axis?null:e,a[1]=e.x?e.x:e.y||"y"===i.axis?null:e),"function"==typeof a[0]&&(a[0]=a[0]()),"function"==typeof a[1]&&(a[1]=a[1]()),a},W=function(e,i){if(null!=e&&"undefined"!=typeof e){var a=t(this),o=a.data(s),n=o.opt,r=t("#mCSB_"+o.idx+"_container"),l=r.parent(),c=typeof e;i||(i="x"===n.axis?"x":"y");var d="x"===i?r.outerWidth(!1)-l.width():r.outerHeight(!1)-l.height(),u="x"===i?r[0].offsetLeft:r[0].offsetTop,p="x"===i?"left":"top";switch(c){case"function":return e();case"object":var f=e.jquery?e:t(e);if(!f.length)return;return"x"===i?st(f)[1]:st(f)[0];case"string":case"number":if(it(e))return Math.abs(e);if(e.indexOf("%")!==-1)return Math.abs(d*parseInt(e)/100);if(e.indexOf("-=")!==-1)return Math.abs(u-parseInt(e.split("-=")[1]));if(e.indexOf("+=")!==-1){var m=u+parseInt(e.split("+=")[1]);return m>=0?0:Math.abs(m)}if(e.indexOf("px")!==-1&&it(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(l.height()-r.outerHeight(!1));if("right"===e)return Math.abs(l.width()-r.outerWidth(!1));if("first"===e||"last"===e){var f=r.find(":"+e);return"x"===i?st(f)[1]:st(f)[0]}return t(e).length?"x"===i?st(t(e))[1]:st(t(e))[0]:(r.css(p,e),void h.update.call(null,a[0]))}}},Y=function(e){function i(){return clearTimeout(u[0].autoUpdate),0===r.parents("html").length?void(r=null):void(u[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(l.poll.change.n=o(),l.poll.change.n!==l.poll.change.o)?(l.poll.change.o=l.poll.change.n,void n(3)):c.advanced.updateOnContentResize&&(l.poll.size.n=r[0].scrollHeight+r[0].scrollWidth+u[0].offsetHeight+r[0].offsetHeight+r[0].offsetWidth,l.poll.size.n!==l.poll.size.o)?(l.poll.size.o=l.poll.size.n,void n(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(l.poll.img.n=u.find("img").length,l.poll.img.n===l.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&i()):(l.poll.img.o=l.poll.img.n,void u.find("img").each(function(){a(this)}))},c.advanced.autoUpdateTimeout))}function a(e){function i(t,e){return function(){return e.apply(t,arguments)}}function s(){this.onload=null,t(e).addClass(d[2]),n(2)}if(t(e).hasClass(d[2]))return void n();var a=new Image;a.onload=i(a,s),a.src=e.src}function o(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange="*");var t=0,e=u.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&e.length>0&&e.each(function(){t+=this.offsetHeight+this.offsetWidth}),t}function n(t){clearTimeout(u[0].autoUpdate),h.update.call(null,r[0],t)}var r=t(this),l=r.data(s),c=l.opt,u=t("#mCSB_"+l.idx+"_container");return e?(clearTimeout(u[0].autoUpdate),void Z(u[0],"autoUpdate")):void i()},U=function(t,e,i){return Math.round(t/e)*e-i},G=function(e){var i=e.data(s),a=t("#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal");a.each(function(){J.call(this)})},X=function(e,i,a){function o(t){return l&&c.callbacks[t]&&"function"==typeof c.callbacks[t]}function n(){return[c.callbacks.alwaysTriggerOffsets||x>=b[0]+k,c.callbacks.alwaysTriggerOffsets||x<=-S]}function r(){var t=[p[0].offsetTop,p[0].offsetLeft],i=[_[0].offsetTop,_[0].offsetLeft],s=[p.outerHeight(!1),p.outerWidth(!1)],o=[u.height(),u.width()];e[0].mcs={content:p,top:t[0],left:t[1],draggerTop:i[0],draggerLeft:i[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(s[0])-o[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(s[1])-o[1])),direction:a.dir}}var l=e.data(s),c=l.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},a=t.extend(d,a),h=[a.dur,a.drag?0:a.dur],u=t("#mCSB_"+l.idx),p=t("#mCSB_"+l.idx+"_container"),f=p.parent(),m=c.callbacks.onTotalScrollOffset?H.call(e,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?H.call(e,c.callbacks.onTotalScrollBackOffset):[0,0];if(l.trigger=a.trigger,0===f.scrollTop()&&0===f.scrollLeft()||(t(".mCSB_"+l.idx+"_scrollbar").css("visibility","visible"),f.scrollTop(0).scrollLeft(0)),"_resetY"!==i||l.contentReset.y||(o("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(e[0]),l.contentReset.y=1),"_resetX"!==i||l.contentReset.x||(o("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(e[0]),l.contentReset.x=1),"_resetY"!==i&&"_resetX"!==i){if(!l.contentReset.y&&e[0].mcs||!l.overflowed[0]||(o("onOverflowY")&&c.callbacks.onOverflowY.call(e[0]),l.contentReset.x=null),!l.contentReset.x&&e[0].mcs||!l.overflowed[1]||(o("onOverflowX")&&c.callbacks.onOverflowX.call(e[0]),l.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?"x"===a.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;i=U(i,v,c.snapOffset)}switch(a.dir){case"x":var _=t("#mCSB_"+l.idx+"_dragger_horizontal"),w="left",x=p[0].offsetLeft,b=[u.width()-p.outerWidth(!1),_.parent().width()-_.width()],y=[i,0===i?0:i/l.scrollRatio.x],k=m[1],S=g[1],T=k>0?k/l.scrollRatio.x:0,$=S>0?S/l.scrollRatio.x:0;break;case"y":var _=t("#mCSB_"+l.idx+"_dragger_vertical"),w="top",x=p[0].offsetTop,b=[u.height()-p.outerHeight(!1),_.parent().height()-_.height()],y=[i,0===i?0:i/l.scrollRatio.y],k=m[0],S=g[0],T=k>0?k/l.scrollRatio.y:0,$=S>0?S/l.scrollRatio.y:0}y[1]<0||0===y[0]&&0===y[1]?y=[0,0]:y[1]>=b[1]?y=[b[0],b[1]]:y[0]=-y[0],e[0].mcs||(r(),o("onInit")&&c.callbacks.onInit.call(e[0])),clearTimeout(p[0].onCompleteTimeout),Q(_[0],w,Math.round(y[1]),h[1],a.scrollEasing),!l.tweenRunning&&(0===x&&y[0]>=0||x===b[0]&&y[0]<=b[0])||Q(p[0],w,Math.round(y[0]),h[0],a.scrollEasing,a.overwrite,{onStart:function(){a.callbacks&&a.onStart&&!l.tweenRunning&&(o("onScrollStart")&&(r(),c.callbacks.onScrollStart.call(e[0])),l.tweenRunning=!0,C(_),l.cbOffsets=n())},onUpdate:function(){a.callbacks&&a.onUpdate&&o("whileScrolling")&&(r(),c.callbacks.whileScrolling.call(e[0]))},onComplete:function(){if(a.callbacks&&a.onComplete){"yx"===c.axis&&clearTimeout(p[0].onCompleteTimeout);var t=p[0].idleTimer||0;p[0].onCompleteTimeout=setTimeout(function(){o("onScroll")&&(r(),c.callbacks.onScroll.call(e[0])),o("onTotalScroll")&&y[1]>=b[1]-T&&l.cbOffsets[0]&&(r(),c.callbacks.onTotalScroll.call(e[0])),o("onTotalScrollBack")&&y[1]<=$&&l.cbOffsets[1]&&(r(),c.callbacks.onTotalScrollBack.call(e[0])),l.tweenRunning=!1,p[0].idleTimer=0,C(_,"hide")},t)}}})}},Q=function(t,e,i,s,a,o,n){function r(){b.stop||(_||f.call(),_=K()-v,l(),_>=b.time&&(b.time=_>b.time?_+u-(_-b.time):_+u-1,b.time<_+1&&(b.time=_+1)),b.time<s?b.id=p(r):g.call())}function l(){s>0?(b.currVal=h(b.time,w,y,s,a),x[e]=Math.round(b.currVal)+"px"):x[e]=i+"px",m.call()}function c(){u=1e3/60,b.time=_+u,p=window.requestAnimationFrame?window.requestAnimationFrame:function(t){return l(),setTimeout(t,.01)},b.id=p(r)}function d(){null!=b.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(b.id):clearTimeout(b.id),b.id=null)}function h(t,e,i,s,a){switch(a){case"linear":case"mcsLinear":return i*t/s+e;case"mcsLinearOut":return t/=s,t--,i*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return t/=s/2,t<1?i/2*t*t+e:(t--,-i/2*(t*(t-2)-1)+e);case"easeInOutStrong":return t/=s/2,t<1?i/2*Math.pow(2,10*(t-1))+e:(t--,i/2*(-Math.pow(2,-10*t)+2)+e);case"easeInOut":case"mcsEaseInOut":return t/=s/2,t<1?i/2*t*t*t+e:(t-=2,i/2*(t*t*t+2)+e);case"easeOutSmooth":return t/=s,t--,-i*(t*t*t*t-1)+e;case"easeOutStrong":
return i*(-Math.pow(2,-10*t/s)+1)+e;case"easeOut":case"mcsEaseOut":default:var o=(t/=s)*t,n=o*t;return e+i*(.499999999999997*n*o+-2.5*o*o+5.5*n+-6.5*o+4*t)}}t._mTween||(t._mTween={top:{},left:{}});var u,p,n=n||{},f=n.onStart||function(){},m=n.onUpdate||function(){},g=n.onComplete||function(){},v=K(),_=0,w=t.offsetTop,x=t.style,b=t._mTween[e];"left"===e&&(w=t.offsetLeft);var y=i-w;b.stop=0,"none"!==o&&d(),c()},K=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},J=function(){var t=this;t._mTween||(t._mTween={top:{},left:{}});for(var e=["top","left"],i=0;i<e.length;i++){var s=e[i];t._mTween[s].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(t._mTween[s].id):clearTimeout(t._mTween[s].id),t._mTween[s].id=null,t._mTween[s].stop=1)}},Z=function(t,e){try{delete t[e]}catch(i){t[e]=null}},tt=function(t){return!(t.which&&1!==t.which)},et=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},it=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},st=function(t){var e=t.parents(".mCSB_container");return[t.offset().top-e.offset().top,t.offset().left-e.offset().left]},at=function(){function t(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}var e=t();return!!e&&document[e]};t.fn[i]=function(e){return h[e]?h[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):h.init.apply(this,arguments)},t[i]=function(e){return h[e]?h[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):h.init.apply(this,arguments)},t[i].defaults=o,window[i]=!0,t(window).bind("load",function(){t(a)[i](),t.extend(t.expr[":"],{mcsInView:t.expr[":"].mcsInView||function(e){var i,s,a=t(e),o=a.parents(".mCSB_container");if(o.length)return i=o.parent(),s=[o[0].offsetTop,o[0].offsetLeft],s[0]+st(a)[0]>=0&&s[0]+st(a)[0]<i.height()-a.outerHeight(!1)&&s[1]+st(a)[1]>=0&&s[1]+st(a)[1]<i.width()-a.outerWidth(!1)},mcsInSight:t.expr[":"].mcsInSight||function(e,i,s){var a,o,n,r,l=t(e),c=l.parents(".mCSB_container"),d="exact"===s[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return a=[l.outerHeight(!1),l.outerWidth(!1)],n=[c[0].offsetTop+st(l)[0],c[0].offsetLeft+st(l)[1]],o=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],r=[a[0]<o[0]?d[0]:d[1],a[1]<o[1]?d[0]:d[1]],n[0]-o[0]*r[0][0]<0&&n[0]+a[0]-o[0]*r[0][1]>=0&&n[1]-o[1]*r[1][0]<0&&n[1]+a[1]-o[1]*r[1][1]>=0},mcsOverflow:t.expr[":"].mcsOverflow||function(e){var i=t(e).data(s);if(i)return i.overflowed[0]||i.overflowed[1]}})})})}),$(function(){$(document.body).on("fecss.default",null,{},function(t){console.log("body trigger:fecss.default")}),$(document.body).on("fecss.init",null,{},function(t){console.log("body trigger:fecss.init");var e=(new Date).getTime();$(document.body).attr("data-created_at",e)}),$(document.body).on("fecss.window.unload",null,{},function(t,e){console.log("body trigger:fecss.window.unload: "+JSON.stringify(e))}),$(document.body).on("fecss.ajax.success",null,{},function(t){console.log("body trigger:fecss.ajax.success")}),$(document.body).on("fecss.keydown",null,{},function(t,e){console.log("body trigger:fecss.keydown: "+JSON.stringify(e))}),$(document.body).on("DOMSubtreeModified",null,{},function(t,e){}),$(document.body).on("wheel mousewheel DOMMouseScroll MozMousePixelScroll",function(t){-t.originalEvent.deltaY||t.originalEvent.detail||t.originalEvent.wheelDelta}),$(document.body).on("changeClass",null,{},function(t,e){$(function(){})}),$(function(){var t="noname-browser",e=navigator.userAgent.toLowerCase();e.indexOf("msie")!=-1&&(t="msie"),e.indexOf("trident")!=-1&&(t="msie"),e.indexOf("konqueror")!=-1&&(t="konqueror"),e.indexOf("firefox")!=-1&&(t="firefox"),e.indexOf("safari")!=-1&&(t="safari"),e.indexOf("chrome")!=-1&&(t="chrome"),e.indexOf("chromium")!=-1&&(t="chromium"),e.indexOf("opera")!=-1&&(t="opera"),e.indexOf("yabrowser")!=-1&&(t="yabrowser"),$("html").eq(0).addClass(t)}),$(function(){$(document.body).on("keydown",function(t){$(document.body).trigger("fecss.keydown",[{alt:t.altKey,ctrl:t.ctrlKey,shift:t.shiftKey,meta:t.metaKey,key:t.which,liter:String.fromCharCode(t.which)}])})}),$(function(){}),$(document.body).on("click.fecss.scrollto",".scrollto",{},function(t){t.preventDefault(),console.log("body trigger:click.fecss.scrollto");var e=$(this),i=$(e.attr("href")).eq(0),s=parseInt(e.attr("data-scrollto-diff"))||0,a=parseInt(e.attr("data-scrollto-speed"))||777;$("html, body").animate({scrollTop:i.offset().top+s},a)}),$(".modal-search__modal").on("show.bs.modal",function(t){$(".navbar__btn-settings").toggleClass("is--open")}),$(".modal-search__modal").on("hidden.bs.modal",function(t){$(".navbar__btn-settings").toggleClass("is--open")}),$(".card-item__close.is--tooltip").on("click",function(t){$(this).parent(".card-item__card.is--tooltip").toggleClass("is--open")}),$(".card-item__like.is--like").on("click",function(){$(this).toggleClass("is--vote")}),$(".form__block").validationEngine("attach",{promptPosition:"bottomLeft",scroll:!1}),$(".form__btn-pass.is--view").on("click",function(){$(this).removeClass("is--active"),$(".form__btn-pass.is--hide").addClass("is--active"),$(".form__control.is--pass").attr("type","text")}),$(".form__btn-pass.is--hide").on("click",function(){$(this).removeClass("is--active"),$(".form__btn-pass.is--view").addClass("is--active"),$(".form__control.is--pass").attr("type","password")});var t=$(".js-time-before"),e=$(".js-time-after");t.mdtimepicker({}),e.mdtimepicker({});var i=$(".js-range-slider"),s=$(".js-radius-slider"),a=16,o=60,n=18,r=25,l=1,c=0,d=10,h=5,u=1;i.ionRangeSlider({type:"double",min:a,max:o,from:n,to:r,step:l}),s.ionRangeSlider({min:c,max:d,from:h,step:u,postfix:"km"}),$('[data-plugin="datepicker-inline"]').datepicker({inline:!0,container:".navbar-category__datepicker"}),$("img").addClass("img-responsive");var p=window.location.pathname;$('.navbar__nav a[href="'+p+'"]').parent().addClass("is--active"),$('.navbar-left__nav a[href="'+p+'"]').parent().addClass("is--active"),$('.navbar__header-link[href="'+p+'"]').addClass("is--active"),$('[data-azbn-toggle="dropdown"]').on("click",function(t){$(".azbn-dropdown").toggleClass("is--open")});var p=window.location.pathname;$('.page-header__btn .btn__item[href="'+p+'"]').addClass("is--active"),$(".star-green-dim").barrating("show",{theme:"star",readonly:!0,hoverState:!1}),$(".people-green").barrating("show",{theme:"people",showValues:!0,readonly:!0}),$(".scroller").mCustomScrollbar({scrollInertia:150});var p=window.location.pathname;$('.tabs__nav.is--group a[href="'+p+'"]').parent().addClass("active"),$(".text__block table").addClass("table table-bordered"),$(".text__block ol").addClass("is--counts"),$(".text__block ul").addClass("is--styled"),$(".text__block .table.table-bordered").wrap('<div class="table-responsive"></div>'),$(window).on("resize",function(t){$(function(){var t={xs:{min:0,max:768},sm:{min:767,max:992},md:{min:991,max:1200},lg:{min:1199,max:1e4}},e={xs:{min:0,max:361},sm:{min:360,max:769},md:{min:768,max:961},lg:{min:960,max:1e4}},i="window-width",s="window-height",a=$(window).outerWidth(!0),o=$(window).outerHeight(!0),n=$("html body").eq(0);a<t.xs.max&&(n.hasClass("window-width-sm")&&n.removeClass("window-width-sm"),n.hasClass("window-width-md")&&n.removeClass("window-width-md"),n.hasClass("window-width-lg")&&n.removeClass("window-width-lg"),i="window-width-xs"),a>t.sm.min&&a<t.sm.max&&(n.hasClass("window-width-xs")&&n.removeClass("window-width-xs"),n.hasClass("window-width-md")&&n.removeClass("window-width-md"),n.hasClass("window-width-lg")&&n.removeClass("window-width-lg"),i="window-width-sm"),a>t.md.min&&a<t.md.max&&(n.hasClass("window-width-xs")&&n.removeClass("window-width-xs"),n.hasClass("window-width-sm")&&n.removeClass("window-width-sm"),n.hasClass("window-width-lg")&&n.removeClass("window-width-lg"),i="window-width-md"),a>t.lg.min&&(n.hasClass("window-width-xs")&&n.removeClass("window-width-xs"),n.hasClass("window-width-sm")&&n.removeClass("window-width-sm"),n.hasClass("window-width-md")&&n.removeClass("window-width-md"),i="window-width-lg"),o<e.xs.max&&(n.hasClass("window-height-sm")&&n.removeClass("window-height-sm"),n.hasClass("window-height-md")&&n.removeClass("window-height-md"),n.hasClass("window-height-lg")&&n.removeClass("window-height-lg"),s="window-height-xs"),o>e.sm.min&&o<e.sm.max&&(n.hasClass("window-height-xs")&&n.removeClass("window-height-xs"),n.hasClass("window-height-md")&&n.removeClass("window-height-md"),n.hasClass("window-height-lg")&&n.removeClass("window-height-lg"),s="window-height-sm"),o>e.md.min&&o<e.md.max&&(n.hasClass("window-height-xs")&&n.removeClass("window-height-xs"),n.hasClass("window-height-sm")&&n.removeClass("window-height-sm"),n.hasClass("window-height-lg")&&n.removeClass("window-height-lg"),s="window-height-md"),o>e.lg.min&&(n.hasClass("window-height-xs")&&n.removeClass("window-height-xs"),n.hasClass("window-height-sm")&&n.removeClass("window-height-sm"),n.hasClass("window-height-md")&&n.removeClass("window-height-md"),s="window-height-lg"),$("html body").eq(0).addClass(i).addClass(s)}),screenJS.deviceLg()&&$(".scroller").mCustomScrollbar("destroy"),screenJS.isScreenLg()&&$(".scroller").mCustomScrollbar()}).trigger("resize"),$(window).on("scroll",function(t){}).trigger("scroll"),window.onbeforeunload=function(t){$("body").trigger("fecss.window.unload",[t])},$(document.body).trigger("fecss.init")});