function fecss_ScreenJS(){var t=this;t.screen={w:0,h:0,type:"xs",orientation:"portrait"},t.__resizefunctions={xs:{default:[],portrait:[],landscape:[]},sm:{default:[],portrait:[],landscape:[]},md:{default:[],portrait:[],landscape:[]},"md-h":{default:[],portrait:[],landscape:[]},lg:{default:[],portrait:[],landscape:[]},xl:{default:[],portrait:[],landscape:[]},device:{default:[],portrait:[],landscape:[]},deviceLg:{default:[],portrait:[],landscape:[]},pc:{default:[],portrait:[],landscape:[]},screenLG:{default:[],portrait:[],landscape:[]},xxl:{default:[],portrait:[],landscape:[]}},t.isXS=function(){return t.screen.w<768},t.isSM=function(){return 767<t.screen.w&&t.screen.w<1025},t.isMD=function(){return 1024<t.screen.w&&t.screen.w<1200},t.isMDH=function(){return 1024<t.screen.w&&t.screen.w<1281&&909<t.screen.h},t.deviceLg=function(){return t.screen.w<1200},t.isLG=function(){return 1199<t.screen.w&&t.screen.w<1400},t.isXL=function(){return 1399<t.screen.w&&t.screen.w<1681},t.isXXL=function(){return 1680<t.screen.w},t.device=function(){return t.screen.w<1025},t.deviceLg=function(){return t.screen.w<1200},t.isScreenLg=function(){return 1199<t.screen.w},t.isScreen=function(){return 1024<t.screen.w},t.screenIs=function(){var e="noname";return t.isXS()?e="xs":t.isSM()?e="sm":t.isMD()?e="md":t.isMDH()?e="md-h":t.isLG()?e="lg":t.isXL()?e="xl":t.device()?e="device":t.isScreen()?e="pc":t.deviceLg()&&(e="deviceLg"),e},t.isPortrait=function(){return t.screen.h>t.screen.w},t.isLandscape=function(){return t.screen.w>t.screen.h},t.orientationIs=function(){var e="noname";return t.isPortrait()?e="portrait":t.isLandscape()&&(e="landscape"),e},t.is=function(e){return e==t.screenIs()||e==t.orientationIs()},t.onResize=function(e,n){if(e.type){var r=t.__resizefunctions[e.type];e.orientation?r[e.orientation].push(n):r.default.push(n)}},t.resizeCall=function(e){if(e.type){if(t.__resizefunctions[e.type].default)for(var n=0;n<t.__resizefunctions[e.type].default.length;n++){(0,t.__resizefunctions[e.type].default[n])(e)}if(t.__resizefunctions[e.type][e.orientation])for(n=0;n<t.__resizefunctions[e.type][e.orientation].length;n++){(0,t.__resizefunctions[e.type][e.orientation][n])(e)}}},t.setScreen=function(){return t.screen.w=$(window).outerWidth(!0),t.screen.h=$(window).outerHeight(!0),t.screen.type=t.screenIs(),t.screen.orientation=t.orientationIs(),t.resizeCall(t.screen),console.log(t.screen),t.screen}}var screenJS=new fecss_ScreenJS;$(window).on("resize",function(){screenJS.setScreen()}),function(n){var r=jQuery.fn.addClass,t=jQuery.fn.removeClass,s=jQuery.fn.toggleClass;n.fn.addClass=function(){var e=r.apply(this,arguments);return n(this).trigger("changeClass",["add"]),e},n.fn.removeClass=function(){var e=t.apply(this,arguments);return n(this).trigger("changeClass",["remove"]),e},n.fn.toggleClass=function(){var e=s.apply(this,arguments);return n(this).trigger("changeClass",["toggle"]),e}}(jQuery);

"use strict";var Azbn7__API__Request=function(t,e){return $.ajax({url:"/api/",type:"POST",dataType:"json",data:t,success:e,error:function(t,e,i){console.warn(e)}}),this};if($(function(){$("form.azbn7__api__form").on("submit",function(t){t.preventDefault()}).on("jqv.form.result",function(t,e){if(t.preventDefault(),e);else{var i=$(this),s=i.clone(),a=i.attr("data-method")||"formsave";s.append($("<input/>",{type:"hidden",name:"method",value:a})),new Azbn7__API__Request(s.serialize(),function(t){s.trigger("reset").empty().remove(),i.trigger("reset"),i.closest(".modal").modal("hide"),$("#modal-message").modal()})}})}),function(k){var F={init:function(t){var e=this;return e.data("jqv")&&null!=e.data("jqv")||(t=F._saveOptions(e,t),k(document).on("click",".formError",function(){k(this).fadeOut(150,function(){k(this).closest(".formError").remove()})})),this},attach:function(t){var e,i=this;return(e=t?F._saveOptions(i,t):i.data("jqv")).validateAttribute=i.find("[data-validation-engine*=validate]").length?"data-validation-engine":"class",e.binded&&(i.on(e.validationEventTrigger,"["+e.validateAttribute+"*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)",F._onFieldEvent),i.on("click","["+e.validateAttribute+"*=validate][type=checkbox],["+e.validateAttribute+"*=validate][type=radio]",F._onFieldEvent),i.on(e.validationEventTrigger,"["+e.validateAttribute+"*=validate][class*=datepicker]",{delay:300},F._onFieldEvent)),e.autoPositionUpdate&&k(window).bind("resize",{noAnimation:!0,formElem:i},F.updatePromptsPosition),i.on("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",F._submitButtonClick),i.removeData("jqv_submitButton"),i.on("submit",F._onSubmitEvent),this},detach:function(){var t=this,e=t.data("jqv");return t.off(e.validationEventTrigger,"["+e.validateAttribute+"*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)",F._onFieldEvent),t.off("click","["+e.validateAttribute+"*=validate][type=checkbox],["+e.validateAttribute+"*=validate][type=radio]",F._onFieldEvent),t.off(e.validationEventTrigger,"["+e.validateAttribute+"*=validate][class*=datepicker]",F._onFieldEvent),t.off("submit",F._onSubmitEvent),t.removeData("jqv"),t.off("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",F._submitButtonClick),t.removeData("jqv_submitButton"),e.autoPositionUpdate&&k(window).off("resize",F.updatePromptsPosition),this},validate:function(t){var e,i=k(this),s=null;if(i.is("form")||i.hasClass("validationEngineContainer")){if(i.hasClass("validating"))return!1;i.addClass("validating"),e=t?F._saveOptions(i,t):i.data("jqv");s=F._validateFields(this);setTimeout(function(){i.removeClass("validating")},100),s&&e.onSuccess?e.onSuccess():!s&&e.onFailure&&e.onFailure()}else{if(!i.is("form")&&!i.hasClass("validationEngineContainer")){var a=i.closest("form, .validationEngineContainer");return e=a.data("jqv")?a.data("jqv"):k.validationEngine.defaults,(s=F._validateField(i,e))&&e.onFieldSuccess?e.onFieldSuccess():e.onFieldFailure&&0<e.InvalidFields.length&&e.onFieldFailure(),!s}i.removeClass("validating")}return e.onValidationComplete?!!e.onValidationComplete(a,s):s},updatePromptsPosition:function(t){if(t&&this==window)var s=t.data.formElem,a=t.data.noAnimation;else s=k(this.closest("form, .validationEngineContainer"));var o=s.data("jqv");return o||(o=F._saveOptions(s,o)),s.find("["+o.validateAttribute+"*=validate]").not(":disabled").each(function(){var t=k(this);o.prettySelect&&t.is(":hidden")&&(t=s.find("#"+o.usePrefix+t.attr("id")+o.useSuffix));var e=F._getPrompt(t),i=k(e).find(".formErrorContent").html();e&&F._updatePrompt(t,k(e),i,void 0,!1,o,a)}),this},showPrompt:function(t,e,i,s){var a=this.closest("form, .validationEngineContainer").data("jqv");return a||(a=F._saveOptions(this,a)),i&&(a.promptPosition=i),a.showArrow=1==s,F._showPrompt(this,t,e,!1,a),this},hide:function(){var t=k(this).closest("form, .validationEngineContainer"),e=t.data("jqv");e||(e=F._saveOptions(t,e));var i,s=e&&e.fadeDuration?e.fadeDuration:.3;return i=t.is("form")||t.hasClass("validationEngineContainer")?"parentForm"+F._getClassName(k(t).attr("id")):F._getClassName(k(t).attr("id"))+"formError",k("."+i).fadeTo(s,0,function(){k(this).closest(".formError").remove()}),this},hideAll:function(){var t=this.data("jqv"),e=t?t.fadeDuration:300;return k(".formError").fadeTo(e,0,function(){k(this).closest(".formError").remove()}),this},_onFieldEvent:function(t){var e=k(this),i=e.closest("form, .validationEngineContainer"),s=i.data("jqv");s||(s=F._saveOptions(i,s)),s.eventTrigger="field",1==s.notEmpty?0<e.val().length&&window.setTimeout(function(){F._validateField(e,s)},t.data?t.data.delay:0):window.setTimeout(function(){F._validateField(e,s)},t.data?t.data.delay:0)},_onSubmitEvent:function(){var t=k(this),e=t.data("jqv");if(t.data("jqv_submitButton")){var i=k("#"+t.data("jqv_submitButton"));if(i&&0<i.length&&(i.hasClass("validate-skip")||"true"==i.attr("data-validation-engine-skip")))return!0}e.eventTrigger="submit";var s=F._validateFields(t);return s&&e.ajaxFormValidation?(F._validateFormWithAjax(t,e),!1):e.onValidationComplete?!!e.onValidationComplete(t,s):s},_checkAjaxStatus:function(t){var i=!0;return k.each(t.ajaxValidCache,function(t,e){if(!e)return i=!1}),i},_checkAjaxFieldStatus:function(t,e){return 1==e.ajaxValidCache[t]},_validateFields:function(i){var s=i.data("jqv"),a=!1;i.trigger("jqv.form.validating");var o=null;if(i.find("["+s.validateAttribute+"*=validate]").not(":disabled").each(function(){var t=k(this),e=[];if(k.inArray(t.attr("name"),e)<0){if((a|=F._validateField(t,s))&&null==o&&(t.is(":hidden")&&s.prettySelect?o=t=i.find("#"+s.usePrefix+F._jqSelector(t.attr("id"))+s.useSuffix):(t.data("jqv-prompt-at")instanceof jQuery?t=t.data("jqv-prompt-at"):t.data("jqv-prompt-at")&&(t=k(t.data("jqv-prompt-at"))),o=t)),s.doNotShowAllErrosOnSubmit)return!1;if(e.push(t.attr("name")),1==s.showOneMessage&&a)return!1}}),i.trigger("jqv.form.result",[a]),a){if(s.scroll){var t=o.offset().top,e=o.offset().left,r=s.promptPosition;if("string"==typeof r&&-1!=r.indexOf(":")&&(r=r.substring(0,r.indexOf(":"))),"bottomRight"!=r&&"bottomLeft"!=r){var n=F._getPrompt(o);n&&(t=n.offset().top)}if(s.scrollOffset&&(t-=s.scrollOffset),s.isOverflown){var l=k(s.overflownDIV);if(!l.length)return!1;t+=l.scrollTop()+-parseInt(l.offset().top)-5,k(s.overflownDIV).filter(":not(:animated)").animate({scrollTop:t},1100,function(){s.focusFirstField&&o.focus()})}else k("html, body").animate({scrollTop:t},1100,function(){s.focusFirstField&&o.focus()}),k("html, body").animate({scrollLeft:e},1100)}else s.focusFirstField&&o.focus();return!1}return!0},_validateFormWithAjax:function(l,h){var t=l.serialize(),e=h.ajaxFormValidationMethod?h.ajaxFormValidationMethod:"GET",i=h.ajaxFormValidationURL?h.ajaxFormValidationURL:l.attr("action"),c=h.dataType?h.dataType:"json";k.ajax({type:e,url:i,cache:!1,dataType:c,data:t,form:l,methods:F,options:h,beforeSend:function(){return h.onBeforeAjaxFormValidation(l,h)},error:function(t,e){h.onFailure?h.onFailure(t,e):F._ajaxError(t,e)},success:function(t){if("json"==c&&!0!==t){for(var e=!1,i=0;i<t.length;i++){var s=t[i],a=s[0],o=k(k("#"+a)[0]);if(1==o.length){var r=s[2];if(1==s[1])if(""!=r&&r){if(h.allrules[r])(n=h.allrules[r].alertTextOk)&&(r=n);h.showPrompts&&F._showPrompt(o,r,"pass",!1,h,!0)}else F._closePrompt(o);else{var n;if(e|=!0,h.allrules[r])(n=h.allrules[r].alertText)&&(r=n);h.showPrompts&&F._showPrompt(o,r,"",!1,h,!0)}}}h.onAjaxFormComplete(!e,l,t,h)}else h.onAjaxFormComplete(!0,l,t,h)}})},_validateField:function(t,e,i){if(t.attr("id")||(t.attr("id","form-validation-field-"+k.validationEngine.fieldIdCounter),++k.validationEngine.fieldIdCounter),t.hasClass(e.ignoreFieldsWithClass))return!1;if(!e.validateNonVisibleFields&&(t.is(":hidden")&&!e.prettySelect||t.parent().is(":hidden")))return!1;var s=t.attr(e.validateAttribute),a=/validate\[(.*)\]/.exec(s);if(!a)return!1;var o=a[1],r=o.split(/\[|,|\]/),n=t.attr("name"),l="",h="",c=!1,d=!1;e.isError=!1,e.showArrow=1==e.showArrow,0<e.maxErrorsPerField&&(d=!0);for(var u=k(t.closest("form, .validationEngineContainer")),p=0;p<r.length;p++)r[p]=r[p].toString().replace(" ",""),""===r[p]&&delete r[p];p=0;for(var m=0;p<r.length;p++){if(d&&m>=e.maxErrorsPerField){if(!c){var f=k.inArray("required",r);c=-1!=f&&p<=f}break}var _=void 0;switch(r[p]){case"required":c=!0,_=F._getErrorMessage(u,t,r[p],r,p,e,F._required);break;case"custom":_=F._getErrorMessage(u,t,r[p],r,p,e,F._custom);break;case"groupRequired":var g="["+e.validateAttribute+"*="+r[p+1]+"]",v=u.find(g).eq(0);v[0]!=t[0]&&(F._validateField(v,e,i),e.showArrow=!0),(_=F._getErrorMessage(u,t,r[p],r,p,e,F._groupRequired))&&(c=!0),e.showArrow=!1;break;case"ajax":(_=F._ajax(t,r,p,e))&&(h="load");break;case"minSize":_=F._getErrorMessage(u,t,r[p],r,p,e,F._minSize);break;case"maxSize":_=F._getErrorMessage(u,t,r[p],r,p,e,F._maxSize);break;case"min":_=F._getErrorMessage(u,t,r[p],r,p,e,F._min);break;case"max":_=F._getErrorMessage(u,t,r[p],r,p,e,F._max);break;case"past":_=F._getErrorMessage(u,t,r[p],r,p,e,F._past);break;case"future":_=F._getErrorMessage(u,t,r[p],r,p,e,F._future);break;case"dateRange":g="["+e.validateAttribute+"*="+r[p+1]+"]";e.firstOfGroup=u.find(g).eq(0),e.secondOfGroup=u.find(g).eq(1),(e.firstOfGroup[0].value||e.secondOfGroup[0].value)&&(_=F._getErrorMessage(u,t,r[p],r,p,e,F._dateRange)),_&&(c=!0),e.showArrow=!1;break;case"dateTimeRange":g="["+e.validateAttribute+"*="+r[p+1]+"]";e.firstOfGroup=u.find(g).eq(0),e.secondOfGroup=u.find(g).eq(1),(e.firstOfGroup[0].value||e.secondOfGroup[0].value)&&(_=F._getErrorMessage(u,t,r[p],r,p,e,F._dateTimeRange)),_&&(c=!0),e.showArrow=!1;break;case"maxCheckbox":t=k(u.find("input[name='"+n+"']")),_=F._getErrorMessage(u,t,r[p],r,p,e,F._maxCheckbox);break;case"minCheckbox":t=k(u.find("input[name='"+n+"']")),_=F._getErrorMessage(u,t,r[p],r,p,e,F._minCheckbox);break;case"equals":_=F._getErrorMessage(u,t,r[p],r,p,e,F._equals);break;case"funcCall":_=F._getErrorMessage(u,t,r[p],r,p,e,F._funcCall);break;case"creditCard":_=F._getErrorMessage(u,t,r[p],r,p,e,F._creditCard);break;case"condRequired":void 0!==(_=F._getErrorMessage(u,t,r[p],r,p,e,F._condRequired))&&(c=!0);break;case"funcCallRequired":void 0!==(_=F._getErrorMessage(u,t,r[p],r,p,e,F._funcCallRequired))&&(c=!0)}var x=!1;if("object"==typeof _)switch(_.status){case"_break":x=!0;break;case"_error":_=_.message;break;case"_error_no_prompt":return!0}if(0==p&&0==o.indexOf("funcCallRequired")&&void 0!==_&&(""!=l&&(l+="<br/>"),l+=_,m++,x=e.isError=!0),x)break;"string"==typeof _&&(""!=l&&(l+="<br/>"),l+=_,e.isError=!0,m++)}!c&&!t.val()&&t.val().length<1&&k.inArray("equals",r)<0&&(e.isError=!1);var b=t.prop("type"),y=t.data("promptPosition")||e.promptPosition;("radio"==b||"checkbox"==b)&&1<u.find("input[name='"+n+"']").length&&(t=k("inline"===y?u.find("input[name='"+n+"'][type!=hidden]:last"):u.find("input[name='"+n+"'][type!=hidden]:first")),e.showArrow=e.showArrowOnRadioAndCheckbox),t.is(":hidden")&&e.prettySelect&&(t=u.find("#"+e.usePrefix+F._jqSelector(t.attr("id"))+e.useSuffix)),e.isError&&e.showPrompts?F._showPrompt(t,l,h,!1,e):F._closePrompt(t),t.trigger("jqv.field.result",[t,e.isError,l]);var w=k.inArray(t[0],e.InvalidFields);return-1==w?e.isError&&e.InvalidFields.push(t[0]):e.isError||e.InvalidFields.splice(w,1),F._handleStatusCssClasses(t,e),e.isError&&e.onFieldFailure&&e.onFieldFailure(t),!e.isError&&e.onFieldSuccess&&e.onFieldSuccess(t),e.isError},_handleStatusCssClasses:function(t,e){e.addSuccessCssClassToField&&t.removeClass(e.addSuccessCssClassToField),e.addFailureCssClassToField&&t.removeClass(e.addFailureCssClassToField),e.addSuccessCssClassToField&&!e.isError&&t.addClass(e.addSuccessCssClassToField),e.addFailureCssClassToField&&e.isError&&t.addClass(e.addFailureCssClassToField)},_getErrorMessage:function(t,e,i,s,a,o,r){var n=jQuery.inArray(i,s);"custom"!==i&&"funcCall"!==i&&"funcCallRequired"!==i||(i=i+"["+s[n+1]+"]",delete s[n]);var l,h=i,c=(e.attr("data-validation-engine")?e.attr("data-validation-engine"):e.attr("class")).split(" ");if(null!=(l="future"==i||"past"==i||"maxCheckbox"==i||"minCheckbox"==i?r(t,e,s,a,o):r(e,s,a,o))){var d=F._getCustomErrorMessage(k(e),c,h,o);d&&(l=d)}return l},_getCustomErrorMessage:function(t,e,i,s){var a=!1,o=/^custom\[.*\]$/.test(i)?F._validityProp.custom:F._validityProp[i];if(null!=o&&null!=(a=t.attr("data-errormessage-"+o)))return a;if(null!=(a=t.attr("data-errormessage")))return a;var r="#"+t.attr("id");if(void 0!==s.custom_error_messages[r]&&void 0!==s.custom_error_messages[r][i])a=s.custom_error_messages[r][i].message;else if(0<e.length)for(var n=0;n<e.length&&0<e.length;n++){var l="."+e[n];if(void 0!==s.custom_error_messages[l]&&void 0!==s.custom_error_messages[l][i]){a=s.custom_error_messages[l][i].message;break}}return a||void 0===s.custom_error_messages[i]||void 0===s.custom_error_messages[i].message||(a=s.custom_error_messages[i].message),a},_validityProp:{required:"value-missing",custom:"custom-error",groupRequired:"value-missing",ajax:"custom-error",minSize:"range-underflow",maxSize:"range-overflow",min:"range-underflow",max:"range-overflow",past:"type-mismatch",future:"type-mismatch",dateRange:"type-mismatch",dateTimeRange:"type-mismatch",maxCheckbox:"range-overflow",minCheckbox:"range-underflow",equals:"pattern-mismatch",funcCall:"custom-error",funcCallRequired:"custom-error",creditCard:"pattern-mismatch",condRequired:"value-missing"},_required:function(t,e,i,s,a){switch(t.prop("type")){case"radio":case"checkbox":if(a){if(!t.prop("checked"))return s.allrules[e[i]].alertTextCheckboxMultiple;break}var o=t.closest("form, .validationEngineContainer"),r=t.attr("name");if(0==o.find("input[name='"+r+"']:checked").length)return 1==o.find("input[name='"+r+"']:visible").length?s.allrules[e[i]].alertTextCheckboxe:s.allrules[e[i]].alertTextCheckboxMultiple;break;case"text":case"password":case"textarea":case"file":case"select-one":case"select-multiple":default:var n=k.trim(t.val()),l=k.trim(t.attr("data-validation-placeholder")),h=k.trim(t.attr("placeholder"));if(!n||l&&n==l||h&&n==h)return s.allrules[e[i]].alertText}},_groupRequired:function(t,e,i,s){var a="["+s.validateAttribute+"*="+e[i+1]+"]",o=!1;if(t.closest("form, .validationEngineContainer").find(a).each(function(){if(!F._required(k(this),e,i,s))return!(o=!0)}),!o)return s.allrules[e[i]].alertText},_custom:function(t,e,i,s){var a,o=e[i+1],r=s.allrules[o];if(r)if(r.regex){var n=r.regex;if(!n)return void alert("jqv:custom regex not found - "+o);if(!new RegExp(n).test(t.val()))return s.allrules[o].alertText}else{if(!r.func)return void alert("jqv:custom type not allowed "+o);if("function"!=typeof(a=r.func))return void alert("jqv:custom parameter 'function' is no function - "+o);if(!a(t,e,i,s))return s.allrules[o].alertText}else alert("jqv:custom rule not found - "+o)},_funcCall:function(t,e,i,s){var a,o=e[i+1];if(-1<o.indexOf(".")){for(var r=o.split("."),n=window;r.length;)n=n[r.shift()];a=n}else a=window[o]||s.customFunctions[o];if("function"==typeof a)return a(t,e,i,s)},_funcCallRequired:function(t,e,i,s){return F._funcCall(t,e,i,s)},_equals:function(t,e,i,s){var a=e[i+1];if(t.val()!=k("#"+a).val())return s.allrules.equals.alertText},_maxSize:function(t,e,i,s){var a=e[i+1];if(a<t.val().length){var o=s.allrules.maxSize;return o.alertText+a+o.alertText2}},_minSize:function(t,e,i,s){var a=e[i+1];if(t.val().length<a){var o=s.allrules.minSize;return o.alertText+a+o.alertText2}},_min:function(t,e,i,s){var a=parseFloat(e[i+1]);if(parseFloat(t.val())<a){var o=s.allrules.min;return o.alertText2?o.alertText+a+o.alertText2:o.alertText+a}},_max:function(t,e,i,s){var a=parseFloat(e[i+1]);if(a<parseFloat(t.val())){var o=s.allrules.max;return o.alertText2?o.alertText+a+o.alertText2:o.alertText+a}},_past:function(t,e,i,s,a){var o,r=i[s+1],n=k(t.find("*[name='"+r.replace(/^#+/,"")+"']"));if("now"==r.toLowerCase())o=new Date;else if(null!=n.val()){if(n.is(":disabled"))return;o=F._parseDate(n.val())}else o=F._parseDate(r);if(o<F._parseDate(e.val())){var l=a.allrules.past;return l.alertText2?l.alertText+F._dateToString(o)+l.alertText2:l.alertText+F._dateToString(o)}},_future:function(t,e,i,s,a){var o,r=i[s+1],n=k(t.find("*[name='"+r.replace(/^#+/,"")+"']"));if("now"==r.toLowerCase())o=new Date;else if(null!=n.val()){if(n.is(":disabled"))return;o=F._parseDate(n.val())}else o=F._parseDate(r);if(F._parseDate(e.val())<o){var l=a.allrules.future;return l.alertText2?l.alertText+F._dateToString(o)+l.alertText2:l.alertText+F._dateToString(o)}},_isDate:function(t){return new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/).test(t)},_isDateTime:function(t){return new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/).test(t)},_dateCompare:function(t,e){return new Date(t.toString())<new Date(e.toString())},_dateRange:function(t,e,i,s){return!s.firstOfGroup[0].value&&s.secondOfGroup[0].value||s.firstOfGroup[0].value&&!s.secondOfGroup[0].value?s.allrules[e[i]].alertText+s.allrules[e[i]].alertText2:F._isDate(s.firstOfGroup[0].value)&&F._isDate(s.secondOfGroup[0].value)&&F._dateCompare(s.firstOfGroup[0].value,s.secondOfGroup[0].value)?void 0:s.allrules[e[i]].alertText+s.allrules[e[i]].alertText2},_dateTimeRange:function(t,e,i,s){return!s.firstOfGroup[0].value&&s.secondOfGroup[0].value||s.firstOfGroup[0].value&&!s.secondOfGroup[0].value?s.allrules[e[i]].alertText+s.allrules[e[i]].alertText2:F._isDateTime(s.firstOfGroup[0].value)&&F._isDateTime(s.secondOfGroup[0].value)&&F._dateCompare(s.firstOfGroup[0].value,s.secondOfGroup[0].value)?void 0:s.allrules[e[i]].alertText+s.allrules[e[i]].alertText2},_maxCheckbox:function(t,e,i,s,a){var o=i[s+1],r=e.attr("name");if(o<t.find("input[name='"+r+"']:checked").length)return a.showArrow=!1,a.allrules.maxCheckbox.alertText2?a.allrules.maxCheckbox.alertText+" "+o+" "+a.allrules.maxCheckbox.alertText2:a.allrules.maxCheckbox.alertText},_minCheckbox:function(t,e,i,s,a){var o=i[s+1],r=e.attr("name");if(t.find("input[name='"+r+"']:checked").length<o)return a.showArrow=!1,a.allrules.minCheckbox.alertText+" "+o+" "+a.allrules.minCheckbox.alertText2},_creditCard:function(t,e,i,s){var a=!1,o=t.val().replace(/ +/g,"").replace(/-+/g,""),r=o.length;if(14<=r&&r<=16&&0<parseInt(o)){for(var n,l=0,h=(i=r-1,1),c=new String;n=parseInt(o.charAt(i)),c+=h++%2==0?2*n:n,0<=--i;);for(i=0;i<c.length;i++)l+=parseInt(c.charAt(i));a=l%10==0}if(!a)return s.allrules.creditCard.alertText},_ajax:function(r,t,e,n){var i=t[e+1],l=n.allrules[i],s=l.extraData,a=l.extraDataDynamic,o={fieldId:r.attr("id"),fieldValue:r.val()};if("object"==typeof s)k.extend(o,s);else if("string"==typeof s){var h=s.split("&");for(e=0;e<h.length;e++){var c=h[e].split("=");c[0]&&c[0]&&(o[c[0]]=c[1])}}if(a){var d=String(a).split(",");for(e=0;e<d.length;e++){var u=d[e];if(k(u).length){var p=r.closest("form, .validationEngineContainer").find(u).val();u.replace("#",""),escape(p);o[u.replace("#","")]=p}}}if("field"==n.eventTrigger&&delete n.ajaxValidCache[r.attr("id")],!n.isError&&!F._checkAjaxFieldStatus(r.attr("id"),n))return k.ajax({type:n.ajaxFormValidationMethod,url:l.url,cache:!1,dataType:"json",data:o,field:r,rule:l,methods:F,options:n,beforeSend:function(){},error:function(t,e){n.onFailure?n.onFailure(t,e):F._ajaxError(t,e)},success:function(t){var e=t[0],i=k("#"+e).eq(0);if(1==i.length){var s=t[1],a=t[2];if(s){if(n.ajaxValidCache[e]=!0,a){if(n.allrules[a])(o=n.allrules[a].alertTextOk)&&(a=o)}else a=l.alertTextOk;n.showPrompts&&(a?F._showPrompt(i,a,"pass",!0,n):F._closePrompt(i)),"submit"==n.eventTrigger&&r.closest("form").submit()}else{var o;if(n.ajaxValidCache[e]=!1,n.isError=!0,a){if(n.allrules[a])(o=n.allrules[a].alertText)&&(a=o)}else a=l.alertText;n.showPrompts&&F._showPrompt(i,a,"",!0,n)}}i.trigger("jqv.field.result",[i,n.isError,a])}}),l.alertTextLoad},_ajaxError:function(t,e){0==t.status&&null==e?alert("The page is not served from a server! ajax call failed"):"undefined"!=typeof console&&console.log("Ajax error: "+t.status+" "+e)},_dateToString:function(t){return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},_parseDate:function(t){var e=t.split("-");return e==t&&(e=t.split("/")),e==t?(e=t.split("."),new Date(e[2],e[1]-1,e[0])):new Date(e[0],e[1]-1,e[2])},_showPrompt:function(t,e,i,s,a,o){t.data("jqv-prompt-at")instanceof jQuery?t=t.data("jqv-prompt-at"):t.data("jqv-prompt-at")&&(t=k(t.data("jqv-prompt-at")));var r=F._getPrompt(t);o&&(r=!1),k.trim(e)&&(r?F._updatePrompt(t,r,e,i,s,a):F._buildPrompt(t,e,i,s,a))},_buildPrompt:function(t,e,i,s,a){var o=k("<div>");switch(o.addClass(F._getClassName(t.attr("id"))+"formError"),o.addClass("parentForm"+F._getClassName(t.closest("form, .validationEngineContainer").attr("id"))),o.addClass("formError"),i){case"pass":o.addClass("greenPopup");break;case"load":o.addClass("blackPopup")}s&&o.addClass("ajaxed");k("<div>").addClass("formErrorContent").html(e).appendTo(o);var r=t.data("promptPosition")||a.promptPosition;if(a.showArrow){var n=k("<div>").addClass("formErrorArrow");if("string"==typeof r)-1!=(c=r.indexOf(":"))&&(r=r.substring(0,c));switch(r){case"bottomLeft":case"bottomRight":o.find(".formErrorContent").before(n),n.addClass("formErrorArrowBottom").html('<div class="line1">\x3c!-- --\x3e</div><div class="line2">\x3c!-- --\x3e</div><div class="line3">\x3c!-- --\x3e</div><div class="line4">\x3c!-- --\x3e</div><div class="line5">\x3c!-- --\x3e</div><div class="line6">\x3c!-- --\x3e</div><div class="line7">\x3c!-- --\x3e</div><div class="line8">\x3c!-- --\x3e</div><div class="line9">\x3c!-- --\x3e</div><div class="line10">\x3c!-- --\x3e</div>');break;case"topLeft":case"topRight":n.html('<div class="line10">\x3c!-- --\x3e</div><div class="line9">\x3c!-- --\x3e</div><div class="line8">\x3c!-- --\x3e</div><div class="line7">\x3c!-- --\x3e</div><div class="line6">\x3c!-- --\x3e</div><div class="line5">\x3c!-- --\x3e</div><div class="line4">\x3c!-- --\x3e</div><div class="line3">\x3c!-- --\x3e</div><div class="line2">\x3c!-- --\x3e</div><div class="line1">\x3c!-- --\x3e</div>'),o.append(n)}}a.addPromptClass&&o.addClass(a.addPromptClass);var l=t.attr("data-required-class");if(void 0!==l)o.addClass(l);else if(a.prettySelect&&k("#"+t.attr("id")).next().is("select")){var h=k("#"+t.attr("id").substr(a.usePrefix.length).substring(a.useSuffix.length)).attr("data-required-class");void 0!==h&&o.addClass(h)}o.css({opacity:0}),"inline"===r?(o.addClass("inline"),void 0!==t.attr("data-prompt-target")&&0<k("#"+t.attr("data-prompt-target")).length?o.appendTo(k("#"+t.attr("data-prompt-target"))):t.after(o)):t.before(o);var c=F._calculatePosition(t,o,a);return k("body").hasClass("rtl")?o.css({position:"inline"===r?"relative":"absolute",top:c.callerTopPosition,left:"initial",right:c.callerleftPosition,marginTop:c.marginTopSize,opacity:0}).data("callerField",t):o.css({position:"inline"===r?"relative":"absolute",top:c.callerTopPosition,left:c.callerleftPosition,right:"initial",marginTop:c.marginTopSize,opacity:0}).data("callerField",t),a.autoHidePrompt&&setTimeout(function(){o.animate({opacity:0},function(){o.closest(".formError").remove()})},a.autoHideDelay),o.animate({opacity:.87})},_updatePrompt:function(t,e,i,s,a,o,r){if(e){void 0!==s&&("pass"==s?e.addClass("greenPopup"):e.removeClass("greenPopup"),"load"==s?e.addClass("blackPopup"):e.removeClass("blackPopup")),a?e.addClass("ajaxed"):e.removeClass("ajaxed"),e.find(".formErrorContent").html(i);var n=F._calculatePosition(t,e,o);if(k("body").hasClass("rtl"))var l={top:n.callerTopPosition,left:"initial",right:n.callerleftPosition,marginTop:n.marginTopSize,opacity:.87};else l={top:n.callerTopPosition,left:n.callerleftPosition,right:"initial",marginTop:n.marginTopSize,opacity:.87};e.css({opacity:0,display:"block"}),r?e.css(l):e.animate(l)}},_closePrompt:function(t){var e=F._getPrompt(t);e&&e.fadeTo("fast",0,function(){e.closest(".formError").remove()})},closePrompt:function(t){return F._closePrompt(t)},_getPrompt:function(t){var e=k(t).closest("form, .validationEngineContainer").attr("id"),i=F._getClassName(t.attr("id"))+"formError",s=k("."+F._escapeExpression(i)+".parentForm"+F._getClassName(e))[0];if(s)return k(s)},_escapeExpression:function(t){return t.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(t){var e=k(document),i=k("body"),s=t&&t.hasClass("rtl")||t&&"rtl"===(t.attr("dir")||"").toLowerCase()||e.hasClass("rtl")||"rtl"===(e.attr("dir")||"").toLowerCase()||i.hasClass("rtl")||"rtl"===(i.attr("dir")||"").toLowerCase();return Boolean(s)},_calculatePosition:function(t,e,i){var s,a,o,r=t.width(),n=t.position().left,l=t.position().top;t.height();s=a=0,o=-e.height();var h=t.data("promptPosition")||i.promptPosition,c="",d="",u=0,p=0;switch("string"==typeof h&&-1!=h.indexOf(":")&&(c=h.substring(h.indexOf(":")+1),h=h.substring(0,h.indexOf(":")),-1!=c.indexOf(",")&&(d=c.substring(c.indexOf(",")+1),c=c.substring(0,c.indexOf(",")),p=parseInt(d),isNaN(p)&&(p=0)),u=parseInt(c),isNaN(c)&&(c=0)),h){default:case"topRight":a+=n+r-27,s+=l;break;case"topLeft":s+=l,a+=n;break;case"centerRight":s=l+4,o=0,a=n+t.outerWidth(!0)+5;break;case"centerLeft":a=n-(e.width()+2),s=l+4,o=0;break;case"bottomLeft":s=l+t.height()+5,o=0,a=n;break;case"bottomRight":a=n+r-27,s=l+t.height()+5,o=0;break;case"inline":o=s=a=0}return{callerTopPosition:(s+=p)+"px",callerleftPosition:(a+=u)+"px",marginTopSize:o+"px"}},_saveOptions:function(t,e){if(k.validationEngineLanguage)var i=k.validationEngineLanguage.allRules;else k.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");k.validationEngine.defaults.allrules=i;var s=k.extend(!0,{},k.validationEngine.defaults,e);return t.data("jqv",s),s},_getClassName:function(t){if(t)return t.replace(/:/g,"_").replace(/\./g,"_")},_jqSelector:function(t){return t.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")},_condRequired:function(t,e,i,s){var a,o;for(a=i+1;a<e.length;a++)if((o=jQuery("#"+e[a]).first()).length&&null==F._required(o,["required"],0,s,!0))return F._required(t,["required"],0,s)},_submitButtonClick:function(t){var e=k(this);e.closest("form, .validationEngineContainer").data("jqv_submitButton",e.attr("id"))}};k.fn.validationEngine=function(t){var e=k(this);return e[0]?"string"==typeof t&&"_"!=t.charAt(0)&&F[t]?("showPrompt"!=t&&"hide"!=t&&"hideAll"!=t&&F.init.apply(e),F[t].apply(e,Array.prototype.slice.call(arguments,1))):"object"!=typeof t&&t?void k.error("Method "+t+" does not exist in jQuery.validationEngine"):(F.init.apply(e,arguments),F.attach.apply(e)):e},k.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,showPrompts:!0,validateNonVisibleFields:!1,ignoreFieldsWithClass:"ignoreMe",promptPosition:"topRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,ajaxFormValidationMethod:"get",onAjaxFormComplete:k.noop,onBeforeAjaxFormValidation:k.noop,onValidationComplete:!1,doNotShowAllErrosOnSubmit:!1,custom_error_messages:{},binded:!0,notEmpty:!1,showArrow:!0,showArrowOnRadioAndCheckbox:!1,isError:!1,maxErrorsPerField:!1,ajaxValidCache:{},autoPositionUpdate:!1,InvalidFields:[],onFieldSuccess:!1,onFieldFailure:!1,onSuccess:!1,onFailure:!1,validateAttribute:"class",addSuccessCssClassToField:"",addFailureCssClassToField:"",autoHidePrompt:!1,autoHideDelay:1e4,fadeDuration:300,prettySelect:!1,addPromptClass:"",usePrefix:"",useSuffix:"",showOneMessage:!1}},k(function(){k.validationEngine.defaults.promptPosition=F.isRTL()?"topLeft":"topRight"})}(jQuery),function(t){t.fn.validationEngineLanguage=function(){},t.validationEngineLanguage={newLang:function(){t.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* This field is required",alertTextCheckboxMultiple:"* Please select an option",alertTextCheckboxe:"* This checkbox is required",alertTextDateRange:"* Both date range fields are required"},requiredInFunction:{func:function(t,e,i,s){return"test"==t.val()},alertText:"* Field must equal test"},dateRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Range"},dateTimeRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Time Range"},minSize:{regex:"none",alertText:"* Minimum ",alertText2:" characters required"},maxSize:{regex:"none",alertText:"* Maximum ",alertText2:" characters allowed"},groupRequired:{regex:"none",alertText:"* You must fill one of the following fields",alertTextCheckboxMultiple:"* Please select an option",alertTextCheckboxe:"* This checkbox is required"},min:{regex:"none",alertText:"* Minimum value is "},max:{regex:"none",alertText:"* Maximum value is "},past:{regex:"none",alertText:"* Date prior to "},future:{regex:"none",alertText:"* Date past "},maxCheckbox:{regex:"none",alertText:"* Maximum ",alertText2:" options allowed"},minCheckbox:{regex:"none",alertText:"* Please select ",alertText2:" options"},equals:{regex:"none",alertText:"* Fields do not match"},creditCard:{regex:"none",alertText:"* Invalid credit card number"},phone:{regex:/^([\+][0-9]{1,3}([ \.\-])?)?([\(][0-9]{1,6}[\)])?([0-9 \.\-]{1,32})(([A-Za-z \:]{1,11})?[0-9]{1,4}?)$/,alertText:"* Invalid phone number"},email:{regex:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,alertText:"* Invalid email address"},fullname:{regex:/^([a-zA-Z]+[\'\,\.\-]?[a-zA-Z ]*)+[ ]([a-zA-Z]+[\'\,\.\-]?[a-zA-Z ]+)+$/,alertText:"* Must be first and last name"},zip:{regex:/^\d{5}$|^\d{5}-\d{4}$/,alertText:"* Invalid zip format"},integer:{regex:/^[\-\+]?\d+$/,alertText:"* Not a valid integer"},number:{regex:/^[\-\+]?((([0-9]{1,3})([,][0-9]{3})*)|([0-9]+))?([\.]([0-9]+))?$/,alertText:"* Invalid floating decimal number"},date:{func:function(t){var e=new RegExp(/^(\d{4})[\/\-\.](0?[1-9]|1[012])[\/\-\.](0?[1-9]|[12][0-9]|3[01])$/).exec(t.val());if(null==e)return!1;var i=e[1],s=1*e[2],a=1*e[3],o=new Date(i,s-1,a);return o.getFullYear()==i&&o.getMonth()==s-1&&o.getDate()==a},alertText:"* Invalid date, must be in YYYY-MM-DD format"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* Invalid IP address"},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* Invalid URL"},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* Numbers only"},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* Letters only"},onlyLetterAccentSp:{regex:/^[a-z\u00C0-\u017F\ ]+$/i,alertText:"* Letters only (accents allowed)"},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* No special characters allowed"},ajaxUserCall:{url:"ajaxValidateFieldUser",extraData:"name=eric",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxUserCallPhp:{url:"phpajax/ajaxValidateFieldUser.php",extraData:"name=eric",alertTextOk:"* This username is available",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxNameCall:{url:"ajaxValidateFieldName",alertText:"* This name is already taken",alertTextOk:"* This name is available",alertTextLoad:"* Validating, please wait"},ajaxNameCallPhp:{url:"phpajax/ajaxValidateFieldName.php",alertText:"* This name is already taken",alertTextLoad:"* Validating, please wait"},validate2fields:{alertText:"* Please input HELLO"},dateFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,alertText:"* Invalid Date"},dateTimeFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,alertText:"* Invalid Date or Date Format",alertText2:"Expected Format: ",alertText3:"mm/dd/yyyy hh:mm:ss AM|PM or ",alertText4:"yyyy-mm-dd hh:mm:ss AM|PM"}}}},t.validationEngineLanguage.newLang()}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(F){var s,t=navigator.userAgent,C=/iphone/i.test(t),a=/chrome/i.test(t),T=/android/i.test(t);F.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},F.fn.extend({caret:function(t,e){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof t?(e="number"==typeof e?e:t,this.each(function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&((i=this.createTextRange()).collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select())})):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),t=0-i.duplicate().moveStart("character",-1e5),e=t+i.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(e,g){var i,v,x,b,y,w,k;if(!e&&0<this.length){var t=F(this[0]).data(F.mask.dataName);return t?t():void 0}return g=F.extend({autoclear:F.mask.autoclear,placeholder:F.mask.placeholder,completed:null},g),i=F.mask.definitions,v=[],x=w=e.length,b=null,F.each(e.split(""),function(t,e){"?"==e?(w--,x=t):i[e]?(v.push(new RegExp(i[e])),null===b&&(b=v.length-1),t<x&&(y=v.length-1)):v.push(null)}),this.trigger("unmask").each(function(){function r(){if(g.completed){for(var t=b;t<=y;t++)if(v[t]&&m[t]===n(t))return;g.completed.call(p)}}function n(t){return g.placeholder.charAt(t<g.placeholder.length?t:0)}function l(t){for(;++t<w&&!v[t];);return t}function h(t,e){var i,s;if(!(t<0)){for(i=t,s=l(e);i<w;i++)if(v[i]){if(!(s<w&&v[i].test(m[s])))break;m[i]=m[s],m[s]=n(s),s=l(s)}d(),p.caret(Math.max(b,t))}}function o(){u(),p.val()!=_&&p.change()}function c(t,e){var i;for(i=t;i<e&&i<w;i++)v[i]&&(m[i]=n(i))}function d(){p.val(m.join(""))}function u(t){var e,i,s,a=p.val(),o=-1;for(s=e=0;e<w;e++)if(v[e]){for(m[e]=n(e);s++<a.length;)if(i=a.charAt(s-1),v[e].test(i)){m[e]=i,o=e;break}if(s>a.length){c(e+1,w);break}}else m[e]===a.charAt(s)&&s++,e<x&&(o=e);return t?d():o+1<x?g.autoclear||m.join("")===f?(p.val()&&p.val(""),c(0,w)):d():(d(),p.val(p.val().substring(0,o+1))),x?e:b}var p=F(this),m=F.map(e.split(""),function(t,e){return"?"!=t?i[t]?n(e):t:void 0}),f=m.join(""),_=p.val();p.data(F.mask.dataName,function(){return F.map(m,function(t,e){return v[e]&&t!=n(e)?t:null}).join("")}),p.one("unmask",function(){p.off(".mask").removeData(F.mask.dataName)}).on("focus.mask",function(){var t;p.prop("readonly")||(clearTimeout(s),_=p.val(),t=u(),s=setTimeout(function(){p.get(0)===document.activeElement&&(d(),t==e.replace("?","").length?p.caret(0,t):p.caret(t))},10))}).on("blur.mask",o).on("keydown.mask",function(t){if(!p.prop("readonly")){var e,i,s,a=t.which||t.keyCode;k=p.val(),8===a||46===a||C&&127===a?(i=(e=p.caret()).begin,(s=e.end)-i==0&&(i=46!==a?function(t){for(;0<=--t&&!v[t];);return t}(i):s=l(i-1),s=46===a?l(s):s),c(i,s),h(i,s-1),t.preventDefault()):13===a?o.call(this,t):27===a&&(p.val(_),p.caret(0,u()),t.preventDefault())}}).on("keypress.mask",function(t){if(!p.prop("readonly")){var e,i,s,a=t.which||t.keyCode,o=p.caret();t.ctrlKey||t.altKey||t.metaKey||a<32||!a||13===a||(o.end-o.begin!=0&&(c(o.begin,o.end),h(o.begin,o.end-1)),(e=l(o.begin-1))<w&&(i=String.fromCharCode(a),v[e].test(i))&&(function(t){var e,i,s,a;for(i=n(e=t);e<w;e++)if(v[e]){if(s=l(e),a=m[e],m[e]=i,!(s<w&&v[s].test(a)))break;i=a}}(e),m[e]=i,d(),s=l(e),T?setTimeout(function(){F.proxy(F.fn.caret,p,s)()},0):p.caret(s),o.begin<=y&&r()),t.preventDefault())}}).on("input.mask paste.mask",function(){p.prop("readonly")||setTimeout(function(){var t=u(!0);p.caret(t),r()},0)}),a&&T&&p.off("input.mask").on("input.mask",function(){var t=p.val(),e=p.caret();if(k&&k.length&&k.length>t.length){for(u(!0);0<e.begin&&!v[e.begin-1];)e.begin--;if(0===e.begin)for(;e.begin<b&&!v[e.begin];)e.begin++;p.caret(e.begin,e.begin)}else{for(u(!0);e.begin<w&&!v[e.begin];)e.begin++;p.caret(e.begin,e.begin)}r()}),u()})}})}),"undefined"==typeof jQuery)throw new Error("MDTimePicker: This plugin requires jQuery");!function(d){var r="mdtimepicker",o=[9,112,113,114,115,116,117,118,119,120,121,122,123],v=function(t,e){this.hour=t,this.minute=e,this.format=function(t,i){var s=this,a=1<(t.match(/h/g)||[]).length;return d.trim(t.replace(/(hh|h|mm|ss|tt|t)/g,function(t){switch(t.toLowerCase()){case"h":var e=s.getHour(!0);return i&&e<10?"0"+e:e;case"hh":return s.hour<10?"0"+s.hour:s.hour;case"mm":return s.minute<10?"0"+s.minute:s.minute;case"ss":return"00";case"t":return a?"":s.getT().toLowerCase();case"tt":return a?"":s.getT()}}))},this.setHour=function(t){this.hour=t},this.getHour=function(t){return t?0===this.hour||12===this.hour?12:this.hour%12:this.hour},this.invert=function(){"AM"===this.getT()?this.setHour(this.getHour()+12):this.setHour(this.getHour()-12)},this.setMinutes=function(t){this.minute=t},this.getMinutes=function(t){return this.minute},this.getT=function(){return this.hour<12?"AM":"PM"}},n=function(t,e){var i=this;this.visible=!1,this.activeView="hours",this.hTimeout=null,this.mTimeout=null,this.input=d(t),this.config=e,this.time=new v(0,0),this.selected=new v(0,0),this.timepicker={overlay:d('<div class="mdtimepicker hidden"></div>'),wrapper:d('<div class="mdtp__wrapper"></div>'),timeHolder:{wrapper:d('<section class="mdtp__time_holder"></section>'),hour:d('<span class="mdtp__time_h">12</span>'),dots:d('<span class="mdtp__timedots">:</span>'),minute:d('<span class="mdtp__time_m">00</span>'),am_pm:d('<span class="mdtp__ampm">AM</span>')},clockHolder:{wrapper:d('<section class="mdtp__clock_holder"></section>'),am:d('<span class="mdtp__am">AM</span>'),pm:d('<span class="mdtp__pm">PM</span>'),clock:{wrapper:d('<div class="mdtp__clock"></div>'),dot:d('<span class="mdtp__clock_dot"></span>'),hours:d('<div class="mdtp__hour_holder"></div>'),minutes:d('<div class="mdtp__minute_holder"></div>')},buttonsHolder:{wrapper:d('<div class="mdtp__buttons">'),btnOk:d('<span class="mdtp__button ok">Ok</span>'),btnCancel:d('<span class="mdtp__button cancel">Cancel</span>')}}};var s=i.timepicker;if(i.setup(s).appendTo("body"),s.clockHolder.am.click(function(){"AM"!==i.selected.getT()&&i.setT("am")}),s.clockHolder.pm.click(function(){"PM"!==i.selected.getT()&&i.setT("pm")}),s.timeHolder.hour.click(function(){"hours"!==i.activeView&&i.switchView("hours")}),s.timeHolder.minute.click(function(){"minutes"!==i.activeView&&i.switchView("minutes")}),s.clockHolder.buttonsHolder.btnOk.click(function(){i.setValue(i.selected);var t=i.getFormattedTime();i.input.trigger(d.Event("timechanged",{time:t.time,value:t.value})).trigger("onchange"),i.hide()}),s.clockHolder.buttonsHolder.btnCancel.click(function(){i.hide()}),i.input.on("keydown",function(t){return 13===t.keyCode&&i.show(),!(o.indexOf(t.which)<0&&i.config.readOnly)}).on("click",function(){i.show()}).prop("readonly",i.config.readOnly),""!==i.input.val()){var a=i.parseTime(i.input.val(),i.config.format);i.setValue(a)}else{a=i.getSystemTime();i.time=new v(a.hour,a.minute)}i.resetSelected(),i.switchView(i.activeView)};n.prototype={constructor:n,setup:function(t){if(void 0===t)throw new Error("Expecting a value.");var s=this,e=t.overlay,i=t.wrapper,a=t.timeHolder,o=t.clockHolder;a.wrapper.append(a.hour).append(a.dots).append(a.minute).append(a.am_pm).appendTo(i);for(var r=0;r<12;r++){var n=r+1,l=d('<div class="mdtp__digit rotate-'+(120+30*r)%360+'" data-hour="'+n+'"><span>'+n+"</span></div>");l.find("span").click(function(){var t=parseInt(d(this).parent().data("hour")),e=s.selected.getT(),i=(t+("PM"===e||"AM"===e&&12===t?12:0))%24;s.setHour(i),s.switchView("minutes")}),o.clock.hours.append(l)}for(r=0;r<60;r++){var h=r<10?"0"+r:r,c=d('<div class="mdtp__digit rotate-'+(90+6*r)%360+'" data-minute="'+r+'"></div>');r%5==0?c.addClass("marker").html("<span>"+h+"</span>"):c.html("<span></span>"),c.find("span").click(function(){s.setMinute(d(this).parent().data("minute"))}),o.clock.minutes.append(c)}switch(o.clock.wrapper.append(o.am).append(o.pm).append(o.clock.dot).append(o.clock.hours).append(o.clock.minutes).appendTo(o.wrapper),o.buttonsHolder.wrapper.append(o.buttonsHolder.btnCancel).append(o.buttonsHolder.btnOk).appendTo(o.wrapper),o.wrapper.appendTo(i),s.config.theme){case"red":case"blue":case"green":case"purple":case"indigo":case"teal":i.attr("data-theme",s.config.theme);break;default:i.attr("data-theme",d.fn.mdtimepicker.defaults.theme)}return i.appendTo(e),e},setHour:function(t){if(void 0===t)throw new Error("Expecting a value.");var a=this;this.selected.setHour(t),this.timepicker.timeHolder.hour.text(this.selected.getHour(!0)),this.timepicker.clockHolder.clock.hours.children("div").each(function(t,e){var i=d(e),s=i.data("hour");i[s===a.selected.getHour(!0)?"addClass":"removeClass"]("active")})},setMinute:function(a){if(void 0===a)throw new Error("Expecting a value.");this.selected.setMinutes(a),this.timepicker.timeHolder.minute.text(a<10?"0"+a:a),this.timepicker.clockHolder.clock.minutes.children("div").each(function(t,e){var i=d(e),s=i.data("minute");i[s===a?"addClass":"removeClass"]("active")})},setT:function(t){if(void 0===t)throw new Error("Expecting a value.");this.selected.getT()!==t.toUpperCase()&&this.selected.invert();var e=this.selected.getT();this.timepicker.timeHolder.am_pm.text(e),this.timepicker.clockHolder.am["AM"===e?"addClass":"removeClass"]("active"),this.timepicker.clockHolder.pm["PM"===e?"addClass":"removeClass"]("active")},setValue:function(t){if(void 0===t)throw new Error("Expecting a value.");var e="string"==typeof t?this.parseTime(t,this.config.format):t;this.time=new v(e.hour,e.minute);var i=this.getFormattedTime();this.input.val(i.value).attr("data-time",i.time).attr("value",i.value)},resetSelected:function(){this.setHour(this.time.hour),this.setMinute(this.time.minute),this.setT(this.time.getT())},getFormattedTime:function(){return{time:this.time.format(this.config.timeFormat,!1),value:this.time.format(this.config.format,this.config.hourPadding)}},getSystemTime:function(){var t=new Date;return new v(t.getHours(),t.getMinutes())},parseTime:function(t,e){var i=void 0===e?this.config.format:e,s=1<(i.match(/h/g)||[]).length,a=((i.match(/m/g)||[]).length,(i.match(/t/g)||[]).length),o=t.length,r=i.indexOf("h"),n=i.lastIndexOf("h"),l="",h="";if(this.config.hourPadding||s)l=t.substr(r,2);else{var c=i.substring(r-1,r),d=i.substring(n+1,n+2);l=n===i.length-1?t.substring(t.indexOf(c,r-1)+1,o):0===r?t.substring(0,t.indexOf(d,r)):t.substring(t.indexOf(c,r-1)+1,t.indexOf(d,r+1))}var u=(i=i.replace(/(hh|h)/g,l)).indexOf("m"),p=i.lastIndexOf("m"),m=i.indexOf("t"),f=i.substring(u-1,u);i.substring(p+1,p+2);h=p===i.length-1?t.substring(t.indexOf(f,u-1)+1,o):0===u?t.substring(0,2):t.substr(u,2);var _="pm"===(s?11<parseInt(l)?1<a?"PM":"pm":1<a?"AM":"am":t.substr(m,2)).toLowerCase(),g=new v(parseInt(l),parseInt(h));return(_&&parseInt(l)<12||!_&&12===parseInt(l))&&g.invert(),g},switchView:function(t){var e=this,i=this.timepicker;"hours"!==t&&"minutes"!==t||(e.activeView=t,i.timeHolder.hour["hours"===t?"addClass":"removeClass"]("active"),i.timeHolder.minute["hours"===t?"removeClass":"addClass"]("active"),i.clockHolder.clock.hours.addClass("animate"),"hours"===t&&i.clockHolder.clock.hours.removeClass("hidden"),clearTimeout(e.hTimeout),e.hTimeout=setTimeout(function(){"hours"!==t&&i.clockHolder.clock.hours.addClass("hidden"),i.clockHolder.clock.hours.removeClass("animate")},"hours"===t?20:350),i.clockHolder.clock.minutes.addClass("animate"),"minutes"===t&&i.clockHolder.clock.minutes.removeClass("hidden"),clearTimeout(e.mTimeout),e.mTimeout=setTimeout(function(){"minutes"!==t&&i.clockHolder.clock.minutes.addClass("hidden"),i.clockHolder.clock.minutes.removeClass("animate")},"minutes"===t?20:350))},show:function(){var t=this;if(""===t.input.val()){var e=t.getSystemTime();this.time=new v(e.hour,e.minute)}t.resetSelected(),d("body").attr("mdtimepicker-display","on"),t.timepicker.wrapper.addClass("animate"),t.timepicker.overlay.removeClass("hidden").addClass("animate"),setTimeout(function(){t.timepicker.overlay.removeClass("animate"),t.timepicker.wrapper.removeClass("animate"),t.visible=!0,t.input.blur()},10)},hide:function(){var t=this;t.timepicker.overlay.addClass("animate"),t.timepicker.wrapper.addClass("animate"),setTimeout(function(){t.switchView("hours"),t.timepicker.overlay.addClass("hidden").removeClass("animate"),t.timepicker.wrapper.removeClass("animate"),d("body").removeAttr("mdtimepicker-display"),t.visible=!1,t.input.focus()},300)},destroy:function(){this.input.removeData(r).unbind("keydown").unbind("click").removeProp("readonly"),this.timepicker.overlay.remove()}},d.fn.mdtimepicker=function(o){return d(this).each(function(t,e){var i=d(this),s=d(this).data(r),a=d.extend({},d.fn.mdtimepicker.defaults,i.data(),"object"==typeof o&&o);s||i.data(r,s=new n(this,a)),"string"==typeof o&&s[o](),d(document).on("keydown",function(t){27===t.keyCode&&s.visible&&s.hide()})})},d.fn.mdtimepicker.defaults={timeFormat:"hh:mm:ss.000",format:"h:mm tt",theme:"green",readOnly:!0,hourPadding:!1}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,document,window,navigator)}):"object"==typeof exports?e(require("jquery"),document,window,navigator):e(jQuery,document,window,navigator)}(function(l,h,c,t,d){var e,i,s=0,a=(e=t.userAgent,i=/msie\s\d+/i,0<e.search(i)&&i.exec(e).toString().split(" ")[1]<9&&(l("html").addClass("lt-ie9"),!0));Function.prototype.bind||(Function.prototype.bind=function(s){var a=this,o=[].slice;if("function"!=typeof a)throw new TypeError;var r=o.call(arguments,1),n=function(){if(this instanceof n){var t=function(){};t.prototype=a.prototype;var e=new t,i=a.apply(e,r.concat(o.call(arguments)));return Object(i)===i?i:e}return a.apply(s,r.concat(o.call(arguments)))};return n}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i;if(null==this)throw new TypeError('"this" is null or not defined');var s=Object(this),a=s.length>>>0;if(0===a)return-1;var o=+e||0;if(Math.abs(o)===1/0&&(o=0),a<=o)return-1;for(i=Math.max(0<=o?o:a-Math.abs(o),0);i<a;){if(i in s&&s[i]===t)return i;i++}return-1});var o=function(t,e,i){this.VERSION="2.2.0",this.input=t,this.plugin_count=i,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.has_tab_index=!0,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,e=e||{},this.$cache={win:l(c),body:l(h.body),input:l(t),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var s,a,o,r=this.$cache.input,n=r.prop("value");for(o in s={type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!0,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:"  ",input_values_separator:";",disable:!1,block:!1,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null},"INPUT"!==r[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",r[0]),(a={type:r.data("type"),min:r.data("min"),max:r.data("max"),from:r.data("from"),to:r.data("to"),step:r.data("step"),min_interval:r.data("minInterval"),max_interval:r.data("maxInterval"),drag_interval:r.data("dragInterval"),values:r.data("values"),from_fixed:r.data("fromFixed"),from_min:r.data("fromMin"),from_max:r.data("fromMax"),from_shadow:r.data("fromShadow"),to_fixed:r.data("toFixed"),to_min:r.data("toMin"),to_max:r.data("toMax"),to_shadow:r.data("toShadow"),prettify_enabled:r.data("prettifyEnabled"),prettify_separator:r.data("prettifySeparator"),force_edges:r.data("forceEdges"),keyboard:r.data("keyboard"),grid:r.data("grid"),grid_margin:r.data("gridMargin"),grid_num:r.data("gridNum"),grid_snap:r.data("gridSnap"),hide_min_max:r.data("hideMinMax"),hide_from_to:r.data("hideFromTo"),prefix:r.data("prefix"),postfix:r.data("postfix"),max_postfix:r.data("maxPostfix"),decorate_both:r.data("decorateBoth"),values_separator:r.data("valuesSeparator"),input_values_separator:r.data("inputValuesSeparator"),disable:r.data("disable"),block:r.data("block"),extra_classes:r.data("extraClasses")}).values=a.values&&a.values.split(","),a)a.hasOwnProperty(o)&&(a[o]!==d&&""!==a[o]||delete a[o]);n!==d&&""!==n&&((n=n.split(a.input_values_separator||e.input_values_separator||";"))[0]&&n[0]==+n[0]&&(n[0]=+n[0]),n[1]&&n[1]==+n[1]&&(n[1]=+n[1]),e&&e.values&&e.values.length?(s.from=n[0]&&e.values.indexOf(n[0]),s.to=n[1]&&e.values.indexOf(n[1])):(s.from=n[0]&&+n[0],s.to=n[1]&&+n[1])),l.extend(s,e),l.extend(s,a),this.options=s,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()};o.prototype={init:function(t){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),t?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var t='<span class="irs js-irs-'+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(t),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span><span class="irs-bar"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar-edge"></span><span class="irs-shadow shadow-single"></span><span class="irs-slider single"></span>'),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>'),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.input[0].disabled=!1,this.removeDisableMask(),this.bindEvents()),this.options.disable||(this.options.block?this.appendDisableMask():this.removeDisableMask()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var t=this.options.min,e=this.options.max,i=this.options.from,s=this.options.to;t<i&&s===e?this.$cache.s_from.addClass("type_last"):s<e&&this.$cache.s_to.addClass("type_last")},changeLevel:function(t){switch(t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake),this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask"),this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),a&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this)),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),a&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerFocus:function(t){var e,i;this.target||(e=(i="single"===this.options.type?this.$cache.single:this.$cache.from).offset().left,e+=i.width()/2-1,this.pointerClick("single",{preventDefault:function(){},pageX:e}))},pointerMove:function(t){if(this.dragging){var e=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;this.coords.x_pointer=e-this.coords.x_gap,this.calc()}},pointerUp:function(t){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,a&&l("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(l.contains(this.$cache.cont[0],t.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(t,e){e.preventDefault();var i=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&("both"===t&&this.setTempMinInterval(),t||(t=this.target||"from"),this.current_plugin=this.plugin_count,this.target=t,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=i-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(t),a&&l("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(t,e){e.preventDefault();var i=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&(this.current_plugin=this.plugin_count,this.target=t,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(i-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(t,e){if(!(this.current_plugin!==this.plugin_count||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){switch(e.which){case 83:case 65:case 40:case 37:e.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:e.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(t){var e=this.coords.p_pointer,i=(this.options.max-this.options.min)/100;i=this.options.step/i,t?e+=i:e-=i,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*e),this.is_key=!0,this.calc()},setMinMax:function(){if(this.options){if(this.options.hide_min_max)return this.$cache.min[0].style.display="none",void(this.$cache.max[0].style.display="none");if(this.options.values.length)this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]));else{var t=this._prettify(this.options.min),e=this._prettify(this.options.max);this.result.min_pretty=t,this.result.max_pretty=e,this.$cache.min.html(this.decorate(t,this.options.min)),this.$cache.max.html(this.decorate(e,this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setTempMinInterval:function(){var t=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=t},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(t){if(this.options&&(this.calc_count++,(10===this.calc_count||t)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var e=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,e=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,e=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(e)),this.target){case"base":var i=(this.options.max-this.options.min)/100,s=(this.result.from-this.options.min)/i,a=(this.result.to-this.options.min)/i;this.coords.p_single_real=this.toFixed(s),this.coords.p_from_real=this.toFixed(s),this.coords.p_to_real=this.toFixed(a),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(e),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(e),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(e),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;e=this.toFixed(e+.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(e)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(e)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var o=this.convertToRealPercent(e),r=this.result.from_percent,n=this.result.to_percent-r,l=n/2,h=o-l,c=o+l;h<0&&(c=(h=0)+n),100<c&&(h=(c=100)-n),this.coords.p_from_real=this.calcWithStep(h),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(c),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.result.from_pretty=this._prettify(this.result.from),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.from_pretty=this._prettify(this.result.from),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.result.to_pretty=this._prettify(this.result.to),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(t){return t/(100-this.coords.p_handle)*100},convertToFakePercent:function(t){return t/100*(100-this.coords.p_handle)},getHandleX:function(){var t=100-this.coords.p_handle,e=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return e<0?e=0:t<e&&(e=t),e},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(t){return"single"===this.options.type?"single":this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2<=t?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%":(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%")),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_key=!1,this.is_click=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){if(this.options){var t,e,i,s,a,o=this.options.values.length,r=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)o?t=this.decorate(r[this.result.from]):(s=this._prettify(this.result.from),t=this.decorate(s,this.result.from)),this.$cache.single.html(t),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible";else{o?(this.options.decorate_both?(t=this.decorate(r[this.result.from]),t+=this.options.values_separator,t+=this.decorate(r[this.result.to])):t=this.decorate(r[this.result.from]+this.options.values_separator+r[this.result.to]),e=this.decorate(r[this.result.from]),i=this.decorate(r[this.result.to])):(s=this._prettify(this.result.from),a=this._prettify(this.result.to),this.options.decorate_both?(t=this.decorate(s,this.result.from),t+=this.options.values_separator,t+=this.decorate(a,this.result.to)):t=this.decorate(s+this.options.values_separator+a,this.result.to),e=this.decorate(s,this.result.from),i=this.decorate(a,this.result.to)),this.$cache.single.html(t),this.$cache.from.html(e),this.$cache.to.html(i),this.calcLabels();var n=Math.min(this.labels.p_single_left,this.labels.p_from_left),l=this.labels.p_single_left+this.labels.p_single_fake,h=this.labels.p_to_left+this.labels.p_to_fake,c=Math.max(l,h);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",c=h):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",c=Math.max(l,h))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),n<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",c>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var t,e,i,s,a=this.options,o=this.$cache,r="number"==typeof a.from_min&&!isNaN(a.from_min),n="number"==typeof a.from_max&&!isNaN(a.from_max),l="number"==typeof a.to_min&&!isNaN(a.to_min),h="number"==typeof a.to_max&&!isNaN(a.to_max);"single"===a.type?a.from_shadow&&(r||n)?(t=this.convertToPercent(r?a.from_min:a.min),e=this.convertToPercent(n?a.from_max:a.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,o.shad_single[0].style.display="block",o.shad_single[0].style.left=t+"%",o.shad_single[0].style.width=e+"%"):o.shad_single[0].style.display="none":(a.from_shadow&&(r||n)?(t=this.convertToPercent(r?a.from_min:a.min),e=this.convertToPercent(n?a.from_max:a.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,o.shad_from[0].style.display="block",o.shad_from[0].style.left=t+"%",o.shad_from[0].style.width=e+"%"):o.shad_from[0].style.display="none",a.to_shadow&&(l||h)?(i=this.convertToPercent(l?a.to_min:a.min),s=this.convertToPercent(h?a.to_max:a.max)-i,i=this.toFixed(i-this.coords.p_handle/100*i),s=this.toFixed(s-this.coords.p_handle/100*s),i+=this.coords.p_handle/2,o.shad_to[0].style.display="block",o.shad_to[0].style.left=i+"%",o.shad_to[0].style.width=s+"%"):o.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&(this.options.scope?this.options.onStart.call(this.options.scope,this.result):this.options.onStart(this.result))},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&(this.options.scope?this.options.onChange.call(this.options.scope,this.result):this.options.onChange(this.result))},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.options.scope?this.options.onFinish.call(this.options.scope,this.result):this.options.onFinish(this.result))},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&(this.options.scope?this.options.onUpdate.call(this.options.scope,this.result):this.options.onUpdate(this.result))},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input"),this.has_tab_index?this.$cache.input.prop("tabindex",-1):this.$cache.input.removeProp("tabindex"),this.has_tab_index=!this.has_tab_index},convertToPercent:function(t,e){var i,s=this.options.max-this.options.min,a=s/100;return s?(i=(e?t:t-this.options.min)/a,this.toFixed(i)):(this.no_diapason=!0,0)},convertToValue:function(t){var e,i,s=this.options.min,a=this.options.max,o=s.toString().split(".")[1],r=a.toString().split(".")[1],n=0,l=0;if(0===t)return this.options.min;if(100===t)return this.options.max;o&&(n=e=o.length),r&&(n=i=r.length),e&&i&&(n=i<=e?e:i),s<0&&(s=+(s+(l=Math.abs(s))).toFixed(n),a=+(a+l).toFixed(n));var h,c=(a-s)/100*t+s,d=this.options.step.toString().split(".")[1];return d?c=+c.toFixed(d.length):(c/=this.options.step,c=+(c*=this.options.step).toFixed(0)),l&&(c-=l),(h=d?+c.toFixed(d.length):this.toFixed(c))<this.options.min?h=this.options.min:h>this.options.max&&(h=this.options.max),h},calcWithStep:function(t){var e=Math.round(t/this.coords.p_step)*this.coords.p_step;return 100<e&&(e=100),100===t&&(e=100),this.toFixed(e)},checkMinInterval:function(t,e,i){var s,a,o=this.options;return o.min_interval?(s=this.convertToValue(t),a=this.convertToValue(e),"from"===i?a-s<o.min_interval&&(s=a-o.min_interval):s-a<o.min_interval&&(s=a+o.min_interval),this.convertToPercent(s)):t},checkMaxInterval:function(t,e,i){var s,a,o=this.options;return o.max_interval?(s=this.convertToValue(t),a=this.convertToValue(e),"from"===i?a-s>o.max_interval&&(s=a-o.max_interval):s-a>o.max_interval&&(s=a+o.max_interval),this.convertToPercent(s)):t},checkDiapason:function(t,e,i){var s=this.convertToValue(t),a=this.options;return"number"!=typeof e&&(e=a.min),"number"!=typeof i&&(i=a.max),s<e&&(s=e),i<s&&(s=i),this.convertToPercent(s)},toFixed:function(t){return+(t=t.toFixed(20))},_prettify:function(t){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(t):this.prettify(t):t},prettify:function(t){return t.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(t,e){return this.options.force_edges&&(t<0?t=0:100-e<t&&(t=100-e)),this.toFixed(t)},validate:function(){var t,e,i=this.options,s=this.result,a=i.values,o=a.length;if("string"==typeof i.min&&(i.min=+i.min),"string"==typeof i.max&&(i.max=+i.max),"string"==typeof i.from&&(i.from=+i.from),"string"==typeof i.to&&(i.to=+i.to),"string"==typeof i.step&&(i.step=+i.step),"string"==typeof i.from_min&&(i.from_min=+i.from_min),"string"==typeof i.from_max&&(i.from_max=+i.from_max),"string"==typeof i.to_min&&(i.to_min=+i.to_min),"string"==typeof i.to_max&&(i.to_max=+i.to_max),"string"==typeof i.grid_num&&(i.grid_num=+i.grid_num),i.max<i.min&&(i.max=i.min),o)for(i.p_values=[],i.min=0,i.max=o-1,i.step=1,i.grid_num=i.max,i.grid_snap=!0,e=0;e<o;e++)t=+a[e],isNaN(t)?t=a[e]:(a[e]=t,t=this._prettify(t)),i.p_values.push(t);("number"!=typeof i.from||isNaN(i.from))&&(i.from=i.min),("number"!=typeof i.to||isNaN(i.to))&&(i.to=i.max),"single"===i.type?(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max)):(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max),i.to<i.min&&(i.to=i.min),i.to>i.max&&(i.to=i.max),this.update_check.from&&(this.update_check.from!==i.from&&i.from>i.to&&(i.from=i.to),this.update_check.to!==i.to&&i.to<i.from&&(i.to=i.from)),i.from>i.to&&(i.from=i.to),i.to<i.from&&(i.to=i.from)),("number"!=typeof i.step||isNaN(i.step)||!i.step||i.step<0)&&(i.step=1),"number"==typeof i.from_min&&i.from<i.from_min&&(i.from=i.from_min),"number"==typeof i.from_max&&i.from>i.from_max&&(i.from=i.from_max),"number"==typeof i.to_min&&i.to<i.to_min&&(i.to=i.to_min),"number"==typeof i.to_max&&i.from>i.to_max&&(i.to=i.to_max),s&&(s.min!==i.min&&(s.min=i.min),s.max!==i.max&&(s.max=i.max),(s.from<s.min||s.from>s.max)&&(s.from=i.from),(s.to<s.min||s.to>s.max)&&(s.to=i.to)),("number"!=typeof i.min_interval||isNaN(i.min_interval)||!i.min_interval||i.min_interval<0)&&(i.min_interval=0),("number"!=typeof i.max_interval||isNaN(i.max_interval)||!i.max_interval||i.max_interval<0)&&(i.max_interval=0),i.min_interval&&i.min_interval>i.max-i.min&&(i.min_interval=i.max-i.min),i.max_interval&&i.max_interval>i.max-i.min&&(i.max_interval=i.max-i.min)},decorate:function(t,e){var i="",s=this.options;return s.prefix&&(i+=s.prefix),i+=t,s.max_postfix&&(s.values.length&&t===s.p_values[s.max]?(i+=s.max_postfix,s.postfix&&(i+=" ")):e===s.max&&(i+=s.max_postfix,s.postfix&&(i+=" "))),s.postfix&&(i+=s.postfix),i},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.result.from_pretty=this._prettify(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.result.to_pretty=this._prettify(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var t,e,i,s,a,o=this.options,r=o.max-o.min,n=o.grid_num,l=0,h=0,c=4,d="";for(this.calcGridMargin(),o.grid_snap?50<r?(n=50/o.step,l=this.toFixed(o.step/.5)):(n=r/o.step,l=this.toFixed(o.step/(r/100))):l=this.toFixed(100/n),4<n&&(c=3),7<n&&(c=2),14<n&&(c=1),28<n&&(c=0),t=0;t<n+1;t++){for(i=c,100<(h=this.toFixed(l*t))&&(h=100),s=((this.coords.big[t]=h)-l*(t-1))/(i+1),e=1;e<=i&&0!==h;e++)d+='<span class="irs-grid-pol small" style="left: '+this.toFixed(h-s*e)+'%"></span>';d+='<span class="irs-grid-pol" style="left: '+h+'%"></span>',a=this.convertToValue(h),d+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+h+'%">'+(a=o.values.length?o.p_values[a]:this._prettify(a))+"</span>"}this.coords.big_num=Math.ceil(n+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(d),this.cacheGridLabels()}},cacheGridLabels:function(){var t,e,i=this.coords.big_num;for(e=0;e<i;e++)t=this.$cache.grid.find(".js-grid-text-"+e),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){var t,e,i=[],s=[],a=this.coords.big_num;for(t=0;t<a;t++)this.coords.big_w[t]=this.$cache.grid_labels[t].outerWidth(!1),this.coords.big_p[t]=this.toFixed(this.coords.big_w[t]/this.coords.w_rs*100),this.coords.big_x[t]=this.toFixed(this.coords.big_p[t]/2),i[t]=this.toFixed(this.coords.big[t]-this.coords.big_x[t]),s[t]=this.toFixed(i[t]+this.coords.big_p[t]);for(this.options.force_edges&&(i[0]<-this.coords.grid_gap&&(i[0]=-this.coords.grid_gap,s[0]=this.toFixed(i[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),s[a-1]>100+this.coords.grid_gap&&(s[a-1]=100+this.coords.grid_gap,i[a-1]=this.toFixed(s[a-1]-this.coords.big_p[a-1]),this.coords.big_x[a-1]=this.toFixed(this.coords.big_p[a-1]-this.coords.grid_gap))),this.calcGridCollision(2,i,s),this.calcGridCollision(4,i,s),t=0;t<a;t++)e=this.$cache.grid_labels[t][0],this.coords.big_x[t]!==Number.POSITIVE_INFINITY&&(e.style.marginLeft=-this.coords.big_x[t]+"%")},calcGridCollision:function(t,e,i){var s,a,o,r=this.coords.big_num;for(s=0;s<r&&!(r<=(a=s+t/2));s+=t)o=this.$cache.grid_labels[a][0],i[s]<=e[a]?o.style.visibility="visible":o.style.visibility="hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(t){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=l.extend(this.options,t),this.validate(),this.updateResult(t),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),l.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},l.fn.ionRangeSlider=function(t){return this.each(function(){l.data(this,"ionRangeSlider")||l.data(this,"ionRangeSlider",new o(this,t,s++))})},function(){for(var o=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!c.requestAnimationFrame;++e)c.requestAnimationFrame=c[t[e]+"RequestAnimationFrame"],c.cancelAnimationFrame=c[t[e]+"CancelAnimationFrame"]||c[t[e]+"CancelRequestAnimationFrame"];c.requestAnimationFrame||(c.requestAnimationFrame=function(t,e){var i=(new Date).getTime(),s=Math.max(0,16-(i-o)),a=c.setTimeout(function(){t(i+s)},s);return o=i+s,a}),c.cancelAnimationFrame||(c.cancelAnimationFrame=function(t){clearTimeout(t)})}()}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(y){y=y&&y.hasOwnProperty("default")?y.default:y;var s={autoShow:!1,autoHide:!1,autoPick:!1,inline:!1,container:null,trigger:null,language:"",format:"mm/dd/yyyy",date:null,startDate:null,endDate:null,startView:0,weekStart:0,yearFirst:!1,yearSuffix:"",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],itemTag:"li",mutedClass:"muted",pickedClass:"picked",disabledClass:"disabled",highlightedClass:"highlighted",template:'<div class="datepicker-container"><div class="datepicker-panel" data-view="years picker"><ul><li data-view="years prev"><span><svg class="icon-svg icon-owl-prev" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/var/static/cl/img/svg/sprite.svg#owl-prev"></use></svg></span></li><li data-view="years current"></li><li data-view="years next"><span><svg class="icon-svg icon-owl-next" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/var/static/cl/img/svg/sprite.svg#owl-next"></use></svg></span></li></ul><ul data-view="years"></ul></div><div class="datepicker-panel" data-view="months picker"><ul><li data-view="year prev"><span><svg class="icon-svg icon-owl-prev" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/var/static/cl/img/svg/sprite.svg#owl-prev"></use></svg></span></li><li data-view="year current"></li><li data-view="year next"><span><svg class="icon-svg icon-owl-next" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/var/static/cl/img/svg/sprite.svg#owl-next"></use></svg></span></li></ul><ul data-view="months"></ul></div><div class="datepicker-panel" data-view="days picker"><ul><li class="month prev" data-view="month prev"><span><svg class="icon-svg icon-owl-prev" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/var/static/cl/img/svg/sprite.svg#owl-prev"></use></svg></span></li><li data-view="month current"></li><li class="month next" data-view="month next"><span><svg class="icon-svg icon-owl-next" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/var/static/cl/img/svg/sprite.svg#owl-next"></use></svg></span></li></ul><ul data-view="week"></ul><ul data-view="days"></ul></div></div>',offset:10,zIndex:1e3,filter:null,show:null,hide:null,pick:null},a="datepicker",o="click."+a,r="focus."+a,n="hide."+a,l="keyup."+a,h="pick."+a,t="resize."+a,c="show."+a,d=a+"-hide",u={},p=0,m=1,f=2,i=Object.prototype.toString;function _(t){return"string"==typeof t}var g=Number.isNaN||window.isNaN;function v(t){return"number"==typeof t&&!g(t)}function x(t){return void 0===t}function b(t){return"date"===(e=t,i.call(e).slice(8,-1).toLowerCase());var e}function e(s,a){for(var t=arguments.length,o=Array(2<t?t-2:0),e=2;e<t;e++)o[e-2]=arguments[e];return function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return s.apply(a,o.concat(e))}}function w(t){return'[data-view="'+t+'"]'}function L(t,e){return[31,(i=t,i%4==0&&i%100!=0||i%400==0?29:28),31,30,31,30,31,31,30,31,30,31][e];var i}function k(t,e,i){return Math.min(i,L(t,e))}var F=/(y|m|d)+/g;var C=window.document,T=y(window),$=y(C),D=/\d+/g,P={show:function(){this.built||this.build(),this.shown||this.trigger(c).isDefaultPrevented()||(this.shown=!0,this.$picker.removeClass(d).on(o,y.proxy(this.click,this)),this.showView(this.options.startView),this.inline||(T.on(t,this.onResize=e(this.place,this)),$.on(o,this.onGlobalClick=e(this.globalClick,this)),$.on(l,this.onGlobalKeyup=e(this.globalKeyup,this)),this.place()))},hide:function(){this.shown&&(this.trigger(n).isDefaultPrevented()||(this.shown=!1,this.$picker.addClass(d).off(o,this.click),this.inline||(T.off(t,this.onResize),$.off(o,this.onGlobalClick),$.off(l,this.onGlobalKeyup))))},toggle:function(){this.shown?this.hide():this.show()},update:function(){var t=this.getValue();t!==this.oldValue&&(this.setDate(t,!0),this.oldValue=t)},pick:function(t){var e=this.$element,i=this.date;this.trigger(h,{view:t||"",date:i}).isDefaultPrevented()||(i=this.formatDate(this.date),this.setValue(i),this.isInput&&(e.trigger("input"),e.trigger("change")))},reset:function(){this.setDate(this.initialDate,!0),this.setValue(this.initialValue),this.shown&&this.showView(this.options.startView)},getMonthName:function(t,e){var i=this.options,s=i.monthsShort,a=i.months;return y.isNumeric(t)?t=Number(t):x(e)&&(e=t),!0===e&&(a=s),a[v(t)?t:this.date.getMonth()]},getDayName:function(t,e,i){var s=this.options,a=s.days;return y.isNumeric(t)?t=Number(t):(x(i)&&(i=e),x(e)&&(e=t)),i?a=s.daysMin:e&&(a=s.daysShort),a[v(t)?t:this.date.getDay()]},getDate:function(t){var e=this.date;return t?this.formatDate(e):new Date(e)},setDate:function(t,e){var i=this.options.filter;if(b(t)||_(t)){if(t=this.parseDate(t),y.isFunction(i)&&!1===i.call(this.$element,t))return;this.date=t,this.viewDate=new Date(t),e||this.pick(),this.built&&this.render()}},setStartDate:function(t){(b(t)||_(t))&&(this.startDate=this.parseDate(t),this.built&&this.render())},setEndDate:function(t){(b(t)||_(t))&&(this.endDate=this.parseDate(t),this.built&&this.render())},parseDate:function(t){var s=this.format,e=[];if(b(t))return new Date(t.getFullYear(),t.getMonth(),t.getDate());_(t)&&(e=t.match(D)||[]),t=new Date;var i=s.parts.length,a=t.getFullYear(),o=t.getDate(),r=t.getMonth();return e.length===i&&y.each(e,function(t,e){var i=parseInt(e,10)||1;switch(s.parts[t]){case"dd":case"d":o=i;break;case"mm":case"m":r=i-1;break;case"yy":a=2e3+i;break;case"yyyy":a=i}}),new Date(a,r,o)},formatDate:function(t){var e=this.format,i="";if(b(t)){var s=t.getFullYear(),a={d:t.getDate(),m:t.getMonth()+1,yy:s.toString().substring(2),yyyy:s};a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m,i=e.source,y.each(e.parts,function(t,e){i=i.replace(e,a[e])})}return i},destroy:function(){this.unbind(),this.unbuild(),this.$element.removeData(a)}},E={click:function(t){var e=y(t.target),i=this.options,s=this.viewDate,a=this.format;if(t.stopPropagation(),t.preventDefault(),!e.hasClass("disabled")){var o=e.data("view"),r=s.getFullYear(),n=s.getMonth(),l=s.getDate();switch(o){case"years prev":case"years next":r="years prev"===o?r-10:r+10,this.viewDate=new Date(r,n,k(r,n,l)),this.renderYears();break;case"year prev":case"year next":r="year prev"===o?r-1:r+1,this.viewDate=new Date(r,n,k(r,n,l)),this.renderMonths();break;case"year current":a.hasYear&&this.showView(f);break;case"year picked":a.hasMonth?this.showView(m):(e.addClass(i.pickedClass).siblings().removeClass(i.pickedClass),this.hideView()),this.pick("year");break;case"year":r=parseInt(e.text(),10),this.date=new Date(r,n,k(r,n,l)),a.hasMonth?(this.viewDate=new Date(this.date),this.showView(m)):(e.addClass(i.pickedClass).siblings().removeClass(i.pickedClass),this.hideView()),this.pick("year");break;case"month prev":case"month next":(n="month prev"===o?n-1:n+1)<0?(r-=1,n+=12):11<n&&(r+=1,n-=12),this.viewDate=new Date(r,n,k(r,n,l)),this.renderDays();break;case"month current":a.hasMonth&&this.showView(m);break;case"month picked":a.hasDay?this.showView(p):(e.addClass(i.pickedClass).siblings().removeClass(i.pickedClass),this.hideView()),this.pick("month");break;case"month":n=y.inArray(e.text(),i.monthsShort),this.date=new Date(r,n,k(r,n,l)),a.hasDay?(this.viewDate=new Date(r,n,k(r,n,l)),this.showView(p)):(e.addClass(i.pickedClass).siblings().removeClass(i.pickedClass),this.hideView()),this.pick("month");break;case"day prev":case"day next":case"day":"day prev"===o?n-=1:"day next"===o&&(n+=1),l=parseInt(e.text(),10),this.date=new Date(r,n,l),this.viewDate=new Date(r,n,l),this.renderDays(),"day"===o&&this.hideView(),this.pick("day");break;case"day picked":this.hideView(),this.pick("day")}}},globalClick:function(t){for(var e=t.target,i=this.element,s=this.$trigger[0],a=!0;e!==document;){if(e===s||e===i){a=!1;break}e=e.parentNode}a&&this.hide()},keyup:function(){this.update()},globalKeyup:function(t){var e=t.target,i=t.key,s=t.keyCode;this.isInput&&e!==this.element&&this.shown&&("Tab"===i||9===s)&&this.hide()}},M={render:function(){this.renderYears(),this.renderMonths(),this.renderDays()},renderWeek:function(){var i=this,s=[],t=this.options,e=t.weekStart,a=t.daysMin;e=parseInt(e,10)%7,a=a.slice(e).concat(a.slice(0,e)),y.each(a,function(t,e){s.push(i.createItem({text:e}))}),this.$week.html(s.join(""))},renderYears:function(){var t=this.options,e=this.startDate,i=this.endDate,s=t.disabledClass,a=t.filter,o=t.yearSuffix,r=this.viewDate.getFullYear(),n=(new Date).getFullYear(),l=this.date.getFullYear(),h=[],c=!1,d=!1,u=void 0;for(u=-5;u<=6;u+=1){var p=new Date(r+u,1,1),m=!1;e&&(m=p.getFullYear()<e.getFullYear(),-5===u&&(c=m)),!m&&i&&(m=p.getFullYear()>i.getFullYear(),6===u&&(d=m)),!m&&a&&(m=!1===a.call(this.$element,p));var f=r+u===l,_=f?"year picked":"year";h.push(this.createItem({picked:f,disabled:m,muted:-5===u||6===u,text:r+u,view:m?"year disabled":_,highlighted:p.getFullYear()===n}))}this.$yearsPrev.toggleClass(s,c),this.$yearsNext.toggleClass(s,d),this.$yearsCurrent.toggleClass(s,!0).html(r+-5+o+" - "+(r+6)+o),this.$years.html(h.join(""))},renderMonths:function(){var t=this.options,e=this.startDate,i=this.endDate,s=this.viewDate,a=t.disabledClass||"",o=t.monthsShort,r=y.isFunction(t.filter)&&t.filter,n=s.getFullYear(),l=new Date,h=l.getFullYear(),c=l.getMonth(),d=this.date.getFullYear(),u=this.date.getMonth(),p=[],m=!1,f=!1,_=void 0;for(_=0;_<=11;_+=1){var g=new Date(n,_,1),v=!1;e&&(v=(m=g.getFullYear()===e.getFullYear())&&g.getMonth()<e.getMonth()),!v&&i&&(v=(f=g.getFullYear()===i.getFullYear())&&g.getMonth()>i.getMonth()),!v&&r&&(v=!1===r.call(this.$element,g));var x=n===d&&_===u,b=x?"month picked":"month";p.push(this.createItem({disabled:v,picked:x,highlighted:n===h&&g.getMonth()===c,index:_,text:o[_],view:v?"month disabled":b}))}this.$yearPrev.toggleClass(a,m),this.$yearNext.toggleClass(a,f),this.$yearCurrent.toggleClass(a,m&&f).html(n+t.yearSuffix||""),this.$months.html(p.join(""))},renderDays:function(){var t=this.$element,e=this.options,i=this.startDate,s=this.endDate,a=this.viewDate,o=this.date,r=e.disabledClass,n=e.filter,l=e.monthsShort,h=e.weekStart,c=e.yearSuffix,d=a.getFullYear(),u=a.getMonth(),p=new Date,m=p.getFullYear(),f=p.getMonth(),_=p.getDate(),g=o.getFullYear(),v=o.getMonth(),x=o.getDate(),b=void 0,y=void 0,w=void 0,k=[],F=d,C=u,T=!1;0===u?(F-=1,C=11):C-=1,b=L(F,C);var $=new Date(d,u,1);for((w=$.getDay()-parseInt(h,10)%7)<=0&&(w+=7),i&&(T=$.getTime()<=i.getTime()),y=b-(w-1);y<=b;y+=1){var D=new Date(F,C,y),P=!1;i&&(P=D.getTime()<i.getTime()),!P&&n&&(P=!1===n.call(t,D)),k.push(this.createItem({disabled:P,highlighted:F===m&&C===f&&D.getDate()===_,muted:!0,picked:F===g&&C===v&&y===x,text:y,view:"day prev"}))}var E=[],M=d,S=u,j=!1;11===u?(M+=1,S=0):S+=1,b=L(d,u),w=42-(k.length+b);var A=new Date(d,u,b);for(s&&(j=A.getTime()>=s.getTime()),y=1;y<=w;y+=1){var q=new Date(M,S,y),O=M===g&&S===v&&y===x,I=!1;s&&(I=q.getTime()>s.getTime()),!I&&n&&(I=!1===n.call(t,q)),E.push(this.createItem({disabled:I,picked:O,highlighted:M===m&&S===f&&q.getDate()===_,muted:!0,text:y,view:"day next"}))}var V=[];for(y=1;y<=b;y+=1){var R=new Date(d,u,y),N=!1;i&&(N=R.getTime()<i.getTime()),!N&&s&&(N=R.getTime()>s.getTime()),!N&&n&&(N=!1===n.call(t,R));var H=d===g&&u===v&&y===x,z=H?"day picked":"day";V.push(this.createItem({disabled:N,picked:H,highlighted:d===m&&u===f&&R.getDate()===_,text:y,view:N?"day disabled":z}))}this.$monthPrev.toggleClass(r,T),this.$monthNext.toggleClass(r,j),this.$monthCurrent.toggleClass(r,T&&j).html(e.yearFirst?d+c+" "+l[u]:l[u]+" "+d+c),this.$days.html(k.join("")+V.join("")+E.join(""))}},S=function(){function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}}();var j=window.document,A=y(j),q=a+"-top-left",O=a+"-bottom-left",I=[q,a+"-top-right",O,a+"-bottom-right"].join(" "),V=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.$element=y(t),this.element=t,this.options=y.extend({},s,u[e.language],e),this.built=!1,this.shown=!1,this.isInput=!1,this.inline=!1,this.initialValue="",this.initialDate=null,this.startDate=null,this.endDate=null,this.init()}return S(i,[{key:"init",value:function(){var t=this.$element,e=this.options,i=e.startDate,s=e.endDate,a=e.date;this.$trigger=y(e.trigger),this.isInput=t.is("input")||t.is("textarea"),this.inline=e.inline&&(e.container||!this.isInput),this.format=function(i){var t=String(i).toLowerCase(),e=t.match(F);if(!e||0===e.length)throw new Error("Invalid date format.");return i={source:t,parts:e},y.each(e,function(t,e){switch(e){case"dd":case"d":i.hasDay=!0;break;case"mm":case"m":i.hasMonth=!0;break;case"yyyy":case"yy":i.hasYear=!0}}),i}(e.format);var o=this.getValue();this.initialValue=o,this.oldValue=o,a=this.parseDate(a||o),i&&(i=this.parseDate(i),a.getTime()<i.getTime()&&(a=new Date(i)),this.startDate=i),s&&(s=this.parseDate(s),i&&s.getTime()<i.getTime()&&(s=new Date(i)),a.getTime()>s.getTime()&&(a=new Date(s)),this.endDate=s),this.date=a,this.viewDate=new Date(a),this.initialDate=new Date(this.date),this.bind(),(e.autoShow||this.inline)&&this.show(),e.autoPick&&this.pick()}},{key:"build",value:function(){if(!this.built){this.built=!0;var t=this.$element,e=this.options,i=y(e.template);this.$picker=i,this.$week=i.find(w("week")),this.$yearsPicker=i.find(w("years picker")),this.$yearsPrev=i.find(w("years prev")),this.$yearsNext=i.find(w("years next")),this.$yearsCurrent=i.find(w("years current")),this.$years=i.find(w("years")),this.$monthsPicker=i.find(w("months picker")),this.$yearPrev=i.find(w("year prev")),this.$yearNext=i.find(w("year next")),this.$yearCurrent=i.find(w("year current")),this.$months=i.find(w("months")),this.$daysPicker=i.find(w("days picker")),this.$monthPrev=i.find(w("month prev")),this.$monthNext=i.find(w("month next")),this.$monthCurrent=i.find(w("month current")),this.$days=i.find(w("days")),this.inline?y(e.container||t).append(i.addClass(a+"-inline")):(y(j.body).append(i.addClass(a+"-dropdown")),i.addClass(d)),this.renderWeek()}}},{key:"unbuild",value:function(){this.built&&(this.built=!1,this.$picker.remove())}},{key:"bind",value:function(){var t=this.options,e=this.$element;y.isFunction(t.show)&&e.on(c,t.show),y.isFunction(t.hide)&&e.on(n,t.hide),y.isFunction(t.pick)&&e.on(h,t.pick),this.isInput&&e.on(l,y.proxy(this.keyup,this)),this.inline||(t.trigger?this.$trigger.on(o,y.proxy(this.toggle,this)):this.isInput?e.on(r,y.proxy(this.show,this)):e.on(o,y.proxy(this.show,this)))}},{key:"unbind",value:function(){var t=this.$element,e=this.options;y.isFunction(e.show)&&t.off(c,e.show),y.isFunction(e.hide)&&t.off(n,e.hide),y.isFunction(e.pick)&&t.off(h,e.pick),this.isInput&&t.off(l,this.keyup),this.inline||(e.trigger?this.$trigger.off(o,this.toggle):this.isInput?t.off(r,this.show):t.off(o,this.show))}},{key:"showView",value:function(t){var e=this.$yearsPicker,i=this.$monthsPicker,s=this.$daysPicker,a=this.format;if(a.hasYear||a.hasMonth||a.hasDay)switch(Number(t)){case f:i.addClass(d),s.addClass(d),a.hasYear?(this.renderYears(),e.removeClass(d),this.place()):this.showView(p);break;case m:e.addClass(d),s.addClass(d),a.hasMonth?(this.renderMonths(),i.removeClass(d),this.place()):this.showView(f);break;default:e.addClass(d),i.addClass(d),a.hasDay?(this.renderDays(),s.removeClass(d),this.place()):this.showView(m)}}},{key:"hideView",value:function(){!this.inline&&this.options.autoHide&&this.hide()}},{key:"place",value:function(){if(!this.inline){var t=this.$element,e=this.options,i=this.$picker,s=A.outerWidth(),a=A.outerHeight(),o=t.outerWidth(),r=t.outerHeight(),n=i.width(),l=i.height(),h=t.offset(),c=h.left,d=h.top,u=parseFloat(e.offset),p=q;g(u)&&(u=10),l<d&&a<d+r+l?(d-=l+u,p=O):d+=r+u,s<c+n&&(c+=o-n,p=p.replace("left","right")),i.removeClass(I).addClass(p).css({top:d,left:c,zIndex:parseInt(e.zIndex,10)})}}},{key:"trigger",value:function(t,e){var i=y.Event(t,e);return this.$element.trigger(i),i}},{key:"createItem",value:function(t){var e=this.options,i=e.itemTag,s={text:"",view:"",muted:!1,picked:!1,disabled:!1,highlighted:!1},a=[];return y.extend(s,t),s.muted&&a.push(e.mutedClass),s.highlighted&&a.push(e.highlightedClass),s.picked&&a.push(e.pickedClass),s.disabled&&a.push(e.disabledClass),"<"+i+' class="'+a.join(" ")+'" data-view="'+s.view+'">'+s.text+"</"+i+">"}},{key:"getValue",value:function(){var t=this.$element;return this.isInput?t.val():t.text()}},{key:"setValue",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=this.$element;this.isInput?e.val(t):e.text(t)}}],[{key:"setDefaults",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};y.extend(s,u[t.language],t)}}]),i}();y.extend(V.prototype,M,E,P);var R=y.fn.datepicker;y.fn.datepicker=function(a){for(var t=arguments.length,o=Array(1<t?t-1:0),e=1;e<t;e++)o[e-1]=arguments[e];var r=void 0;return this.each(function(){var t=y(this),e=t.data("datepicker");if(!e){if(/destroy/.test(a))return;var i=y.extend({},t.data(),y.isPlainObject(a)&&a);e=new V(this,i),t.data("datepicker",e)}if("string"==typeof a){var s=e[a];y.isFunction(s)&&(r=s.apply(e,o))}}),void 0!==r?r:this},y.fn.datepicker.Constructor=V,y.fn.datepicker.languages=u,y.fn.datepicker.setDefaults=V.setDefaults,y.fn.datepicker.noConflict=function(){return y.fn.datepicker=R,this}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(t){t.fn.datepicker.languages["ru-RU"]={format:"dd.mm.YYYY",days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],weekStart:1,startView:0,yearFirst:!1,yearSuffix:""}});
!function(){"use strict";$(window).on("load",function(){var a=$(".navbar__hamburger-btn").data("toggle-nav"),n=$(".navbar__hamburger-btn").data("body"),s=$(".navbar__hamburger-btn").data("collapse-nav");$(".navbar__hamburger-btn").on("click",function(){$(n).toggleClass("is--open-navbar"),$(a).toggleClass("is--open"),$(s).toggleClass("is--open"),$(this).toggleClass("is--active")});var t=$(".navbar__hamburger-search-btn").data("toggle-nav"),e=$(".navbar__hamburger-search-btn").data("body"),r=$(".navbar__hamburger-search-btn").data("collapse-nav");$(".navbar__hamburger-search-btn").on("click",function(){$(e).toggleClass("is--open-navbar"),$(t).toggleClass("is--open"),$(r).toggleClass("is--open"),$(this).toggleClass("is--active")})})}();
"use strict";!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(v){var a=function(){function t(){var u=this,d=function(t){return v.isNumeric(t)&&(t=Math.floor(t)),v('option[value="'+t+'"]',u.$elem)},l=function(t){var e=u.$elem.data("barrating");return void 0!==t?e[t]:e},g=function(t,e){null!==e&&"object"==typeof e?u.$elem.data("barrating",e):u.$elem.data("barrating")[t]=e},e=function(){var t,e,n=(t=u.options.initialRating)?d(t):v("option:selected",u.$elem),a=!(e=u.$elem.find('option[value="'+u.options.emptyValue+'"]')).length&&u.options.allowEmpty?(e=v("<option />",{value:u.options.emptyValue})).prependTo(u.$elem):e,i=n.val(),r=n.data("html")?n.data("html"):n.text(),o=null!==u.options.allowEmpty?u.options.allowEmpty:!!a.length,l=a.length?a.val():null,s=a.length?a.text():null;g(null,{userOptions:u.options,ratingValue:i,ratingText:r,originalRatingValue:i,originalRatingText:r,allowEmpty:o,emptyRatingValue:l,emptyRatingText:s,readOnly:u.options.readonly,ratingMade:!1})},o=function(){return l("ratingText")},s=function(){return l("ratingValue")},c=function(){return l("userOptions").reverse?"nextAll":"prevAll"},p=function(t){d(t).prop("selected",!0),l("userOptions").triggerChange&&u.$elem.change()},f=function(t){(t=t||o())==l("emptyRatingText")&&(t=""),u.options.showSelectedRating&&u.$elem.parent().find(".br-current-rating").text(t)},h=function(){u.$widget.find("a").removeClass(function(t,e){return(e.match(/(^|\s)br-\S+/g)||[]).join(" ")})},m=function(){var t,e,n,a=u.$widget.find('a[data-rating-value="'+s()+'"]'),i=l("userOptions").initialRating,r=v.isNumeric(s())?s():0,o=(t=i,Math.round(Math.floor(10*t)/10%1*100));if(h(),a.addClass("br-selected br-current")[c()]().addClass("br-selected"),!l("ratingMade")&&v.isNumeric(i)){if(i<=r||!o)return;e=u.$widget.find("a"),(n=a.length?a[l("userOptions").reverse?"prev":"next"]():e[l("userOptions").reverse?"last":"first"]()).addClass("br-fractional"),n.addClass("br-fractional-"+o)}},n=function(t){t.on("click.barrating",function(t){var e,n,a,i=v(this),r=l("userOptions");return t.preventDefault(),e=i.attr("data-rating-value"),n=i.attr("data-rating-text"),a=i,l("allowEmpty")&&l("userOptions").deselectable&&s()==a.attr("data-rating-value")&&(e=l("emptyRatingValue"),n=l("emptyRatingText")),g("ratingValue",e),g("ratingText",n),g("ratingMade",!0),p(e),f(n),m(),r.onSelect.call(u,s(),o(),t),!1})},a=function(t){n(t),u.options.hoverState&&(t.on("mouseenter.barrating",function(){var t=v(this);h(),t.addClass("br-active")[c()]().addClass("br-active"),f(t.attr("data-rating-text"))}),u.$widget.on("mouseleave.barrating blur.barrating",function(){f(),m()}))},i=function(t){t.off(".barrating")},r=function(t){var e=u.$widget.find("a");l("userOptions").fastClicks&&e.on("touchstart.barrating",function(t){t.preventDefault(),t.stopPropagation(),v(this).click()}),t?(i(e),e.on("click.barrating",function(t){t.preventDefault()})):a(e)};this.show=function(){var t,i;l()||(t=["br-wrapper"],""!==u.options.theme&&t.push("br-theme-"+u.options.theme),u.$elem.wrap(v("<div />",{class:t.join(" ")})),e(),u.$widget=(i=v("<div />",{class:"br-widget"}),u.$elem.find("option").each(function(){var t,e,n,a;(t=v(this).val())!==l("emptyRatingValue")&&(e=v(this).text(),(n=v(this).data("html"))&&(e=n),a=v("<a />",{href:"#","data-rating-value":t,"data-rating-text":e,html:u.options.showValues?e:""}),i.append(a))}),u.options.showSelectedRating&&i.append(v("<div />",{text:"",class:"br-current-rating"})),u.options.reverse&&i.addClass("br-reverse"),u.options.readonly&&i.addClass("br-readonly"),i),u.$widget.insertAfter(u.$elem),m(),f(),r(u.options.readonly),u.$elem.hide())},this.readonly=function(t){"boolean"==typeof t&&l("readOnly")!=t&&(r(t),g("readOnly",t),u.$widget.toggleClass("br-readonly"))},this.set=function(t){var e=l("userOptions");0!==u.$elem.find('option[value="'+t+'"]').length&&(g("ratingValue",t),g("ratingText",u.$elem.find('option[value="'+t+'"]').text()),g("ratingMade",!0),p(s()),f(o()),m(),e.silent||e.onSelect.call(this,s(),o()))},this.clear=function(){var t=l("userOptions");g("ratingValue",l("originalRatingValue")),g("ratingText",l("originalRatingText")),g("ratingMade",!1),v("option",u.$elem).prop("selected",function(){return this.defaultSelected}),l("userOptions").triggerChange&&u.$elem.change(),f(o()),m(),t.onClear.call(this,s(),o())},this.destroy=function(){var t=s(),e=o(),n=l("userOptions");i(u.$widget.find("a")),u.$widget.remove(),u.$elem.removeData("barrating"),u.$elem.unwrap(),u.$elem.show(),n.onDestroy.call(this,t,e)}}return t.prototype.init=function(t,e){return this.$elem=v(e),this.options=v.extend({},v.fn.barrating.defaults,t),this.options},t}();v.fn.barrating=function(e,n){return this.each(function(){var t=new a;if(v(this).is("select")||v.error("Sorry, this plugin only works with select fields."),t.hasOwnProperty(e)){if(t.init(n,this),"show"===e)return t.show(n);if(t.$elem.data("barrating"))return t.$widget=v(this).next(".br-widget"),t[e](n)}else{if("object"==typeof e||!e)return n=e,t.init(n,this),t.show();v.error("Method "+e+" does not exist on jQuery.barrating")}})},v.fn.barrating.defaults={theme:"",initialRating:null,allowEmpty:null,emptyValue:"",showValues:!1,showSelectedRating:!0,deselectable:!0,reverse:!1,readonly:!1,fastClicks:!0,hoverState:!0,silent:!1,triggerChange:!0,onSelect:function(t,e,n){},onClear:function(t,e){},onDestroy:function(t,e){}},v.fn.barrating.BarRating=a});
window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var r,n=document.createElement("style"),e=document.getElementsByTagName("script")[0];n.type="text/css",n.id="matchmediajs-test",e.parentNode.insertBefore(n,e),r="getComputedStyle"in window&&window.getComputedStyle(n,null)||n.currentStyle,t={matchMedium:function(e){var t="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return n.styleSheet?n.styleSheet.cssText=t:n.textContent=t,"1px"===r.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(r,a){"use strict";function n(e){for(var t,r,n,i,s,a,o=0,c=(t=(e=e||{}).elements||d.getAllElements()).length;o<c;o++)if(n=(r=t[o]).nodeName.toUpperCase(),a=s=i=void 0,r[d.ns]||(r[d.ns]={}),e.reevaluate||!r[d.ns].evaluated){if("PICTURE"===n){if(d.removeVideoShim(r),!1===(i=d.getMatch(r)))continue;a=r.getElementsByTagName("img")[0]}else i=void 0,a=r;a&&(a[d.ns]||(a[d.ns]={}),a.srcset&&("PICTURE"===n||a.getAttribute("sizes"))&&d.dodgeSrcset(a),i?(s=d.processSourceSet(i),d.applyBestCandidate(s,a)):(s=d.processSourceSet(a),(void 0===a.srcset||a.getAttribute("sizes")&&a[d.ns].srcset)&&d.applyBestCandidate(s,a)),r[d.ns].evaluated=!0)}}if(!r.HTMLPictureElement){a.createElement("picture");var d={ns:"picturefill"};d.srcsetSupported=void 0!==(new r.Image).srcset,d.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},d.endsWith=function(e,t){return e.endsWith?e.endsWith(t):-1!==e.indexOf(t,e.length-t.length)},d.matchesMedia=function(e){return r.matchMedia&&r.matchMedia(e).matches},d.getDpr=function(){return r.devicePixelRatio||1},d.getWidthFromLength=function(e){return e=(e=e&&0<parseFloat(e)?e:"100vw").replace("vw","%"),d.lengthEl||(d.lengthEl=a.createElement("div"),a.documentElement.insertBefore(d.lengthEl,a.documentElement.firstChild)),d.lengthEl.style.cssText="position: absolute; left: 0; width: "+e+";",d.lengthEl.offsetWidth},d.types={},d.types["image/jpeg"]=!0,d.types["image/gif"]=!0,d.types["image/png"]=!0,d.types["image/svg+xml"]=a.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),d.types["image/webp"]=function(){var e=new r.Image,t="image/webp";e.onerror=function(){d.types[t]=!1,n()},e.onload=function(){d.types[t]=1===e.width,n()},e.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="},d.verifyTypeSupport=function(e){var t=e.getAttribute("type");return null===t||""===t||("function"==typeof d.types[t]?(d.types[t](),"pending"):d.types[t])},d.parseSize=function(e){var t=/(\([^)]+\))?\s*(.+)/g.exec(e);return{media:t&&t[1],length:t&&t[2]}},d.findWidthFromSourceSize=function(e){for(var t,r=d.trim(e).split(/\s*,\s*/),n=0,i=r.length;n<i;n++){var s=r[n],a=d.parseSize(s),o=a.length,c=a.media;if(o&&(!c||d.matchesMedia(c))){t=o;break}}return d.getWidthFromLength(t)},d.getCandidatesFromSourceSet=function(e,t){for(var r=d.trim(e).split(/,\s+/),n=t?d.findWidthFromSourceSize(t):"100%",i=[],s=0,a=r.length;s<a;s++){var o,c=r[s].split(/\s+/),u=c[1];!u||"w"!==u.slice(-1)&&"x"!==u.slice(-1)||(u=u.slice(0,-1)),o=t?parseFloat(parseInt(u,10)/n):u?parseFloat(u,10):1;var l={url:c[0],resolution:o};i.push(l)}return i},d.dodgeSrcset=function(e){e.srcset&&(e[d.ns].srcset=e.srcset,e.removeAttribute("srcset"))},d.processSourceSet=function(e){var t=e.getAttribute("srcset"),r=e.getAttribute("sizes"),n=[];return"IMG"===e.nodeName.toUpperCase()&&e[d.ns]&&e[d.ns].srcset&&(t=e[d.ns].srcset),t&&(n=d.getCandidatesFromSourceSet(t,r)),n},d.applyBestCandidate=function(e,t){var r,n,i;e.sort(d.ascendingSort),i=e[(n=e.length)-1];for(var s=0;s<n;s++)if((r=e[s]).resolution>=d.getDpr()){i=r;break}d.endsWith(t.src,i.url)||(t.src=i.url,t.currentSrc=t.src)},d.ascendingSort=function(e,t){return e.resolution-t.resolution},d.removeVideoShim=function(e){var t=e.getElementsByTagName("video");if(t.length){for(var r=t[0],n=r.getElementsByTagName("source");n.length;)e.insertBefore(n[0],r);r.parentNode.removeChild(r)}},d.getAllElements=function(){for(var e=a.getElementsByTagName("picture"),t=[],r=a.getElementsByTagName("img"),n=0,i=e.length+r.length;n<i;n++)if(n<e.length)t[n]=e[n];else{var s=r[n-e.length];"PICTURE"!==s.parentNode.nodeName.toUpperCase()&&(d.srcsetSupported&&s.getAttribute("sizes")||null!==s.getAttribute("srcset"))&&t.push(s)}return t},d.getMatch=function(e){for(var t,r=e.childNodes,n=0,i=r.length;n<i;n++){var s=r[n];if(1===s.nodeType){if("IMG"===s.nodeName.toUpperCase())return t;if("SOURCE"===s.nodeName.toUpperCase()){var a=s.getAttribute("media");if(s.getAttribute("srcset")&&(!a||d.matchesMedia(a))){var o=d.verifyTypeSupport(s);if(!0===o){t=s;break}if("pending"===o)return!1}}}}return t},function(){n();var e,t=setInterval(function(){return r.picturefill(),/^loaded|^i|^c/.test(a.readyState)?void clearInterval(t):void 0},250);r.addEventListener&&r.addEventListener("resize",function(){r.clearTimeout(e),e=r.setTimeout(function(){n({reevaluate:!0})},60)},!1)}(),n._=d,"object"==typeof module&&"object"==typeof module.exports?module.exports=n:"object"==typeof define&&define.amd?define(function(){return n}):"object"==typeof r&&(r.picturefill=n)}}(this,this.document);
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(z){var P,h,H,a,n,l,i,g,U,S,m,c,s,d,u,f,p,v,x,_,w,b,k,C,y,B,T,M,F,r,O,I,D,E,q,W,R,A,L,j,Y,X,N,V,Q,G,J,K,Z,$,ee,te,oe,ae,ne,ie,re,e,t,o;e="function"==typeof define&&define.amd,t="undefined"!=typeof module&&module.exports,o="https:"==document.location.protocol?"https:":"http:",e||(t?require("jquery-mousewheel")(z):z.event.special.mousewheel||z("head").append(decodeURI("%3Cscript src="+o+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),h="mCustomScrollbar",H="mCS",a=".mCustomScrollbar",n={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},l=0,i={},g=window.attachEvent&&!window.addEventListener?1:0,U=!1,S=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],m={init:function(r){var r=z.extend(!0,{},n,r),e=c.call(this);if(r.live){var t=r.liveSelector||this.selector||a,o=z(t);if("off"===r.live)return void d(t);i[t]=setTimeout(function(){o.mCustomScrollbar(r),"once"===r.live&&o.length&&d(t)},500)}else d(t);return r.setWidth=r.set_width?r.set_width:r.setWidth,r.setHeight=r.set_height?r.set_height:r.setHeight,r.axis=r.horizontalScroll?"x":u(r.axis),r.scrollInertia=0<r.scrollInertia&&r.scrollInertia<17?17:r.scrollInertia,"object"!=typeof r.mouseWheel&&1==r.mouseWheel&&(r.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),r.mouseWheel.scrollAmount=r.mouseWheelPixels?r.mouseWheelPixels:r.mouseWheel.scrollAmount,r.mouseWheel.normalizeDelta=r.advanced.normalizeMouseWheelDelta?r.advanced.normalizeMouseWheelDelta:r.mouseWheel.normalizeDelta,r.scrollButtons.scrollType=f(r.scrollButtons.scrollType),s(r),z(e).each(function(){var e=z(this);if(!e.data(H)){e.data(H,{idx:++l,opt:r,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:e.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var t=e.data(H),o=t.opt,a=e.data("mcs-axis"),n=e.data("mcs-scrollbar-position"),i=e.data("mcs-theme");a&&(o.axis=a),n&&(o.scrollbarPosition=n),i&&(o.theme=i,s(o)),p.call(this),t&&o.callbacks.onCreate&&"function"==typeof o.callbacks.onCreate&&o.callbacks.onCreate.call(this),z("#mCSB_"+t.idx+"_container img:not(."+S[2]+")").addClass(S[2]),m.update.call(null,e)}})},update:function(e,l){var t=e||c.call(this);return z(t).each(function(){var e=z(this);if(e.data(H)){var t=e.data(H),o=t.opt,a=z("#mCSB_"+t.idx+"_container"),n=z("#mCSB_"+t.idx),i=[z("#mCSB_"+t.idx+"_dragger_vertical"),z("#mCSB_"+t.idx+"_dragger_horizontal")];if(!a.length)return;t.tweenRunning&&J(e),l&&t&&o.callbacks.onBeforeUpdate&&"function"==typeof o.callbacks.onBeforeUpdate&&o.callbacks.onBeforeUpdate.call(this),e.hasClass(S[3])&&e.removeClass(S[3]),e.hasClass(S[4])&&e.removeClass(S[4]),n.css("max-height","none"),n.height()!==e.height()&&n.css("max-height",e.height()),x.call(this),"y"===o.axis||o.advanced.autoExpandHorizontalScroll||a.css("width",v(a)),t.overflowed=C.call(this),M.call(this),o.autoDraggerLength&&w.call(this),b.call(this),B.call(this);var r=[Math.abs(a[0].offsetTop),Math.abs(a[0].offsetLeft)];"x"!==o.axis&&(t.overflowed[0]?i[0].height()>i[0].parent().height()?y.call(this):(K(e,r[0].toString(),{dir:"y",dur:0,overwrite:"none"}),t.contentReset.y=null):(y.call(this),"y"===o.axis?T.call(this):"yx"===o.axis&&t.overflowed[1]&&K(e,r[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==o.axis&&(t.overflowed[1]?i[1].width()>i[1].parent().width()?y.call(this):(K(e,r[1].toString(),{dir:"x",dur:0,overwrite:"none"}),t.contentReset.x=null):(y.call(this),"x"===o.axis?T.call(this):"yx"===o.axis&&t.overflowed[0]&&K(e,r[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),l&&t&&(2===l&&o.callbacks.onImageLoad&&"function"==typeof o.callbacks.onImageLoad?o.callbacks.onImageLoad.call(this):3===l&&o.callbacks.onSelectorChange&&"function"==typeof o.callbacks.onSelectorChange?o.callbacks.onSelectorChange.call(this):o.callbacks.onUpdate&&"function"==typeof o.callbacks.onUpdate&&o.callbacks.onUpdate.call(this)),G.call(this)}})},scrollTo:function(l,s){if(void 0!==l&&null!=l){var e=c.call(this);return z(e).each(function(){var e=z(this);if(e.data(H)){var t=e.data(H),o=t.opt,a={trigger:"external",scrollInertia:o.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=z.extend(!0,{},a,s),i=V.call(this,l),r=0<n.scrollInertia&&n.scrollInertia<17?17:n.scrollInertia;i[0]=Q.call(this,i[0],"y"),i[1]=Q.call(this,i[1],"x"),n.moveDragger&&(i[0]*=t.scrollRatio.y,i[1]*=t.scrollRatio.x),n.dur=re()?0:r,setTimeout(function(){null!==i[0]&&void 0!==i[0]&&"x"!==o.axis&&t.overflowed[0]&&(n.dir="y",n.overwrite="all",K(e,i[0].toString(),n)),null!==i[1]&&void 0!==i[1]&&"y"!==o.axis&&t.overflowed[1]&&(n.dir="x",n.overwrite="none",K(e,i[1].toString(),n))},n.timeout)}})}},stop:function(){var e=c.call(this);return z(e).each(function(){var e=z(this);e.data(H)&&J(e)})},disable:function(t){var e=c.call(this);return z(e).each(function(){var e=z(this);e.data(H)&&(e.data(H),G.call(this,"remove"),T.call(this),t&&y.call(this),M.call(this,!0),e.addClass(S[3]))})},destroy:function(){var r=c.call(this);return z(r).each(function(){var e=z(this);if(e.data(H)){var t=e.data(H),o=t.opt,a=z("#mCSB_"+t.idx),n=z("#mCSB_"+t.idx+"_container"),i=z(".mCSB_"+t.idx+"_scrollbar");o.live&&d(o.liveSelector||z(r).selector),G.call(this,"remove"),T.call(this),y.call(this),e.removeData(H),te(this,"mcs"),i.remove(),n.find("img."+S[2]).removeClass(S[2]),a.replaceWith(n.contents()),e.removeClass(h+" _"+H+"_"+t.idx+" "+S[6]+" "+S[7]+" "+S[5]+" "+S[3]).addClass(S[4])}})}},c=function(){return"object"!=typeof z(this)||z(this).length<1?a:this},s=function(e){e.autoDraggerLength=!(-1<z.inArray(e.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"]))&&e.autoDraggerLength,e.autoExpandScrollbar=!(-1<z.inArray(e.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"]))&&e.autoExpandScrollbar,e.scrollButtons.enable=!(-1<z.inArray(e.theme,["minimal","minimal-dark"]))&&e.scrollButtons.enable,e.autoHideScrollbar=-1<z.inArray(e.theme,["minimal","minimal-dark"])||e.autoHideScrollbar,e.scrollbarPosition=-1<z.inArray(e.theme,["minimal","minimal-dark"])?"outside":e.scrollbarPosition},d=function(e){i[e]&&(clearTimeout(i[e]),te(i,e))},u=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},f=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},p=function(){var e=z(this),t=e.data(H),o=t.opt,a=o.autoExpandScrollbar?" "+S[1]+"_expand":"",n=["<div id='mCSB_"+t.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+t.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_vertical"+a+"'><div class='"+S[12]+"'><div id='mCSB_"+t.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+t.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+t.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_horizontal"+a+"'><div class='"+S[12]+"'><div id='mCSB_"+t.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],i="yx"===o.axis?"mCSB_vertical_horizontal":"x"===o.axis?"mCSB_horizontal":"mCSB_vertical",r="yx"===o.axis?n[0]+n[1]:"x"===o.axis?n[1]:n[0],l="yx"===o.axis?"<div id='mCSB_"+t.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",s=o.autoHideScrollbar?" "+S[6]:"",c="x"!==o.axis&&"rtl"===t.langDir?" "+S[7]:"";o.setWidth&&e.css("width",o.setWidth),o.setHeight&&e.css("height",o.setHeight),o.setLeft="y"!==o.axis&&"rtl"===t.langDir?"989999px":o.setLeft,e.addClass(h+" _"+H+"_"+t.idx+s+c).wrapInner("<div id='mCSB_"+t.idx+"' class='mCustomScrollBox mCS-"+o.theme+" "+i+"'><div id='mCSB_"+t.idx+"_container' class='mCSB_container' style='position:relative; top:"+o.setTop+"; left:"+o.setLeft+";' dir='"+t.langDir+"' /></div>");var d=z("#mCSB_"+t.idx),u=z("#mCSB_"+t.idx+"_container");"y"===o.axis||o.advanced.autoExpandHorizontalScroll||u.css("width",v(u)),"outside"===o.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),d.addClass("mCSB_outside").after(r)):(d.addClass("mCSB_inside").append(r),u.wrap(l)),_.call(this);var f=[z("#mCSB_"+t.idx+"_dragger_vertical"),z("#mCSB_"+t.idx+"_dragger_horizontal")];f[0].css("min-height",f[0].height()),f[1].css("min-width",f[1].width())},v=function(e){var t=[e[0].scrollWidth,Math.max.apply(Math,e.children().map(function(){return z(this).outerWidth(!0)}).get())],o=e.parent().width();return o<t[0]?t[0]:o<t[1]?t[1]:"100%"},x=function(){var e=z(this),t=e.data(H),o=t.opt,a=z("#mCSB_"+t.idx+"_container");if(o.advanced.autoExpandHorizontalScroll&&"y"!==o.axis){a.css({width:"auto","min-width":0,"overflow-x":"scroll"});var n=Math.ceil(a[0].scrollWidth);3===o.advanced.autoExpandHorizontalScroll||2!==o.advanced.autoExpandHorizontalScroll&&n>a.parent().width()?a.css({width:n,"min-width":"100%","overflow-x":"inherit"}):a.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(a[0].getBoundingClientRect().right+.4)-Math.floor(a[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},_=function(){var e=z(this),t=e.data(H),o=t.opt,a=z(".mCSB_"+t.idx+"_scrollbar:first"),n=ne(o.scrollButtons.tabindex)?"tabindex='"+o.scrollButtons.tabindex+"'":"",i=["<a href='#' class='"+S[13]+"' "+n+" />","<a href='#' class='"+S[14]+"' "+n+" />","<a href='#' class='"+S[15]+"' "+n+" />","<a href='#' class='"+S[16]+"' "+n+" />"],r=["x"===o.axis?i[2]:i[0],"x"===o.axis?i[3]:i[1],i[2],i[3]];o.scrollButtons.enable&&a.prepend(r[0]).append(r[1]).next(".mCSB_scrollTools").prepend(r[2]).append(r[3])},w=function(){var e=z(this),t=e.data(H),o=z("#mCSB_"+t.idx),a=z("#mCSB_"+t.idx+"_container"),n=[z("#mCSB_"+t.idx+"_dragger_vertical"),z("#mCSB_"+t.idx+"_dragger_horizontal")],i=[o.height()/a.outerHeight(!1),o.width()/a.outerWidth(!1)],r=[parseInt(n[0].css("min-height")),Math.round(i[0]*n[0].parent().height()),parseInt(n[1].css("min-width")),Math.round(i[1]*n[1].parent().width())],l=g&&r[1]<r[0]?r[0]:r[1],s=g&&r[3]<r[2]?r[2]:r[3];n[0].css({height:l,"max-height":n[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":r[0]+"px"}),n[1].css({width:s,"max-width":n[1].parent().width()-10})},b=function(){var e=z(this),t=e.data(H),o=z("#mCSB_"+t.idx),a=z("#mCSB_"+t.idx+"_container"),n=[z("#mCSB_"+t.idx+"_dragger_vertical"),z("#mCSB_"+t.idx+"_dragger_horizontal")],i=[a.outerHeight(!1)-o.height(),a.outerWidth(!1)-o.width()],r=[i[0]/(n[0].parent().height()-n[0].height()),i[1]/(n[1].parent().width()-n[1].width())];t.scrollRatio={y:r[0],x:r[1]}},k=function(e,t,o){var a=o?S[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(S[0]+" "+a),n.toggleClass(S[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(S[0]),n.removeClass(S[1])):(e.addClass(S[0]),n.addClass(S[1])))},C=function(){var e=z(this),t=e.data(H),o=z("#mCSB_"+t.idx),a=z("#mCSB_"+t.idx+"_container"),n=null==t.overflowed?a.height():a.outerHeight(!1),i=null==t.overflowed?a.width():a.outerWidth(!1),r=a[0].scrollHeight,l=a[0].scrollWidth;return n<r&&(n=r),i<l&&(i=l),[n>o.height(),i>o.width()]},y=function(){var e=z(this),t=e.data(H),o=t.opt,a=z("#mCSB_"+t.idx),n=z("#mCSB_"+t.idx+"_container"),i=[z("#mCSB_"+t.idx+"_dragger_vertical"),z("#mCSB_"+t.idx+"_dragger_horizontal")];if(J(e),("x"!==o.axis&&!t.overflowed[0]||"y"===o.axis&&t.overflowed[0])&&(i[0].add(n).css("top",0),K(e,"_resetY")),"y"!==o.axis&&!t.overflowed[1]||"x"===o.axis&&t.overflowed[1]){var r=dx=0;"rtl"===t.langDir&&(r=a.width()-n.outerWidth(!1),dx=Math.abs(r/t.scrollRatio.x)),n.css("left",r),i[1].css("left",dx),K(e,"_resetX")}},B=function(){var t=z(this),e=t.data(H),o=e.opt;if(!e.bindEvents){var a;if(r.call(this),o.contentTouchScroll&&O.call(this),I.call(this),o.mouseWheel.enable)!function e(){a=setTimeout(function(){z.event.special.mousewheel?(clearTimeout(a),D.call(t[0])):e()},100)}();A.call(this),j.call(this),o.advanced.autoScrollOnFocus&&L.call(this),o.scrollButtons.enable&&Y.call(this),o.keyboard.enable&&X.call(this),e.bindEvents=!0}},T=function(){var e=z(this),t=e.data(H),o=t.opt,a=H+"_"+t.idx,n=".mCSB_"+t.idx+"_scrollbar",i=z("#mCSB_"+t.idx+",#mCSB_"+t.idx+"_container,#mCSB_"+t.idx+"_container_wrapper,"+n+" ."+S[12]+",#mCSB_"+t.idx+"_dragger_vertical,#mCSB_"+t.idx+"_dragger_horizontal,"+n+">a"),r=z("#mCSB_"+t.idx+"_container");o.advanced.releaseDraggableSelectors&&i.add(z(o.advanced.releaseDraggableSelectors)),o.advanced.extraDraggableSelectors&&i.add(z(o.advanced.extraDraggableSelectors)),t.bindEvents&&(z(document).add(z(!q()||top.document)).unbind("."+a),i.each(function(){z(this).unbind("."+a)}),clearTimeout(e[0]._focusTimeout),te(e[0],"_focusTimeout"),clearTimeout(t.sequential.step),te(t.sequential,"step"),clearTimeout(r[0].onCompleteTimeout),te(r[0],"onCompleteTimeout"),t.bindEvents=!1)},M=function(e){var t=z(this),o=t.data(H),a=o.opt,n=z("#mCSB_"+o.idx+"_container_wrapper"),i=n.length?n:z("#mCSB_"+o.idx+"_container"),r=[z("#mCSB_"+o.idx+"_scrollbar_vertical"),z("#mCSB_"+o.idx+"_scrollbar_horizontal")],l=[r[0].find(".mCSB_dragger"),r[1].find(".mCSB_dragger")];"x"!==a.axis&&(o.overflowed[0]&&!e?(r[0].add(l[0]).add(r[0].children("a")).css("display","block"),i.removeClass(S[8]+" "+S[10])):(a.alwaysShowScrollbar?(2!==a.alwaysShowScrollbar&&l[0].css("display","none"),i.removeClass(S[10])):(r[0].css("display","none"),i.addClass(S[10])),i.addClass(S[8]))),"y"!==a.axis&&(o.overflowed[1]&&!e?(r[1].add(l[1]).add(r[1].children("a")).css("display","block"),i.removeClass(S[9]+" "+S[11])):(a.alwaysShowScrollbar?(2!==a.alwaysShowScrollbar&&l[1].css("display","none"),i.removeClass(S[11])):(r[1].css("display","none"),i.addClass(S[11])),i.addClass(S[9]))),o.overflowed[0]||o.overflowed[1]?t.removeClass(S[5]):t.addClass(S[5])},F=function(e){var t=e.type,o=e.target.ownerDocument!==document&&null!==frameElement?[z(frameElement).offset().top,z(frameElement).offset().left]:null,a=q()&&e.target.ownerDocument!==top.document&&null!==frameElement?[z(e.view.frameElement).offset().top,z(e.view.frameElement).offset().left]:[0,0];switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return o?[e.originalEvent.pageY-o[0]+a[0],e.originalEvent.pageX-o[1]+a[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],i=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[n.screenY,n.screenX,1<i]:[n.pageY,n.pageX,1<i];default:return o?[e.pageY-o[0]+a[0],e.pageX-o[1]+a[1],!1]:[e.pageY,e.pageX,!1]}},r=function(){var r,l,s,c=z(this),d=c.data(H),u=d.opt,e=H+"_"+d.idx,f=["mCSB_"+d.idx+"_dragger_vertical","mCSB_"+d.idx+"_dragger_horizontal"],h=z("#mCSB_"+d.idx+"_container"),t=z("#"+f[0]+",#"+f[1]),o=u.advanced.releaseDraggableSelectors?t.add(z(u.advanced.releaseDraggableSelectors)):t,a=u.advanced.extraDraggableSelectors?z(!q()||top.document).add(z(u.advanced.extraDraggableSelectors)):z(!q()||top.document);function n(e,t,o,a){if(h[0].idleTimer=u.scrollInertia<233?250:0,r.attr("id")===f[1])var n="x",i=(r[0].offsetLeft-t+a)*d.scrollRatio.x;else var n="y",i=(r[0].offsetTop-e+o)*d.scrollRatio.y;K(c,i.toString(),{dir:n,drag:!0})}t.bind("contextmenu."+e,function(e){e.preventDefault()}).bind("mousedown."+e+" touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,function(e){if(e.stopImmediatePropagation(),e.preventDefault(),oe(e)){U=!0,g&&(document.onselectstart=function(){return!1}),W.call(h,!1),J(c);var t=(r=z(this)).offset(),o=F(e)[0]-t.top,a=F(e)[1]-t.left,n=r.height()+t.top,i=r.width()+t.left;o<n&&0<o&&a<i&&0<a&&(l=o,s=a),k(r,"active",u.autoExpandScrollbar)}}).bind("touchmove."+e,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=r.offset(),o=F(e)[0]-t.top,a=F(e)[1]-t.left;n(l,s,o,a)}),z(document).add(a).bind("mousemove."+e+" pointermove."+e+" MSPointerMove."+e,function(e){if(r){var t=r.offset(),o=F(e)[0]-t.top,a=F(e)[1]-t.left;if(l===o&&s===a)return;n(l,s,o,a)}}).add(o).bind("mouseup."+e+" touchend."+e+" pointerup."+e+" MSPointerUp."+e,function(e){r&&(k(r,"active",u.autoExpandScrollbar),r=null),U=!1,g&&(document.onselectstart=null),W.call(h,!0)})},O=function(){var d,c,u,f,h,m,p,g,v,x,_,w,S,b,C=z(this),y=C.data(H),B=y.opt,e=H+"_"+y.idx,T=z("#mCSB_"+y.idx),k=z("#mCSB_"+y.idx+"_container"),M=[z("#mCSB_"+y.idx+"_dragger_vertical"),z("#mCSB_"+y.idx+"_dragger_horizontal")],O=[],I=[],D=0,E="yx"===B.axis?"none":"all",W=[],t=k.find("iframe"),o=["touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,"touchmove."+e+" pointermove."+e+" MSPointerMove."+e,"touchend."+e+" pointerup."+e+" MSPointerUp."+e],R=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;function a(e){if(!ae(e)||U||F(e)[2])P=0;else{b=S=0,d=P=1,C.removeClass("mCS_touch_action");var t=k.offset();c=F(e)[0]-t.top,u=F(e)[1]-t.left,W=[F(e)[0],F(e)[1]]}}function n(e){if(ae(e)&&!U&&!F(e)[2]&&(B.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!b||S)&&d)){p=$();var t=T.offset(),o=F(e)[0]-t.top,a=F(e)[1]-t.left,n="mcsLinearOut";if(O.push(o),I.push(a),W[2]=Math.abs(F(e)[0]-W[0]),W[3]=Math.abs(F(e)[1]-W[1]),y.overflowed[0])var i=M[0].parent().height()-M[0].height(),r=0<c-o&&o-c>-i*y.scrollRatio.y&&(2*W[3]<W[2]||"yx"===B.axis);if(y.overflowed[1])var l=M[1].parent().width()-M[1].width(),s=0<u-a&&a-u>-l*y.scrollRatio.x&&(2*W[2]<W[3]||"yx"===B.axis);r||s?(R||e.preventDefault(),S=1):(b=1,C.addClass("mCS_touch_action")),R&&e.preventDefault(),_="yx"===B.axis?[c-o,u-a]:"x"===B.axis?[null,u-a]:[c-o,null],k[0].idleTimer=250,y.overflowed[0]&&L(_[0],D,n,"y","all",!0),y.overflowed[1]&&L(_[1],D,n,"x",E,!0)}}function i(e){if(!ae(e)||U||F(e)[2])P=0;else{P=1,e.stopImmediatePropagation(),J(C),m=$();var t=T.offset();f=F(e)[0]-t.top,h=F(e)[1]-t.left,O=[],I=[]}}function r(e){if(ae(e)&&!U&&!F(e)[2]){d=0,e.stopImmediatePropagation(),b=S=0,g=$();var t=T.offset(),o=F(e)[0]-t.top,a=F(e)[1]-t.left;if(!(30<g-p)){var n="mcsEaseOut",i=(x=1e3/(g-m))<2.5,r=i?[O[O.length-2],I[I.length-2]]:[0,0];v=i?[o-r[0],a-r[1]]:[o-f,a-h];var l=[Math.abs(v[0]),Math.abs(v[1])];x=i?[Math.abs(v[0]/4),Math.abs(v[1]/4)]:[x,x];var s=[Math.abs(k[0].offsetTop)-v[0]*A(l[0]/x[0],x[0]),Math.abs(k[0].offsetLeft)-v[1]*A(l[1]/x[1],x[1])];_="yx"===B.axis?[s[0],s[1]]:"x"===B.axis?[null,s[1]]:[s[0],null],w=[4*l[0]+B.scrollInertia,4*l[1]+B.scrollInertia];var c=parseInt(B.contentTouchScroll)||0;_[0]=c<l[0]?_[0]:0,_[1]=c<l[1]?_[1]:0,y.overflowed[0]&&L(_[0],w[0],n,"y",E,!1),y.overflowed[1]&&L(_[1],w[1],n,"x",E,!1)}}}function A(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return 90<e?4<t?o[0]:o[3]:60<e?3<t?o[3]:o[2]:30<e?8<t?o[1]:6<t?o[0]:4<t?t:o[2]:8<t?t:o[3]}function L(e,t,o,a,n,i){e&&K(C,e.toString(),{dur:t,scrollEasing:o,dir:a,overwrite:n,drag:i})}k.bind(o[0],function(e){a(e)}).bind(o[1],function(e){n(e)}),T.bind(o[0],function(e){i(e)}).bind(o[2],function(e){r(e)}),t.length&&t.each(function(){z(this).bind("load",function(){q(this)&&z(this.contentDocument||this.contentWindow.document).bind(o[0],function(e){a(e),i(e)}).bind(o[1],function(e){n(e)}).bind(o[2],function(e){r(e)})})})},I=function(){var n,a=z(this),i=a.data(H),r=i.opt,l=i.sequential,e=H+"_"+i.idx,s=z("#mCSB_"+i.idx+"_container"),c=s.parent();function d(e,t,o){l.type=o&&n?"stepped":"stepless",l.scrollAmount=10,N(a,e,t,"mcsLinearOut",o?60:null)}s.bind("mousedown."+e,function(e){P||n||(n=1,U=!0)}).add(document).bind("mousemove."+e,function(e){if(!P&&n&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)){var t=s.offset(),o=F(e)[0]-t.top+s[0].offsetTop,a=F(e)[1]-t.left+s[0].offsetLeft;0<o&&o<c.height()&&0<a&&a<c.width()?l.step&&d("off",null,"stepped"):("x"!==r.axis&&i.overflowed[0]&&(o<0?d("on",38):o>c.height()&&d("on",40)),"y"!==r.axis&&i.overflowed[1]&&(a<0?d("on",37):a>c.width()&&d("on",39)))}}).bind("mouseup."+e+" dragend."+e,function(e){P||(n&&(n=0,d("off",null)),U=!1)})},D=function(){if(z(this).data(H)){var u=z(this),f=u.data(H),h=f.opt,e=H+"_"+f.idx,m=z("#mCSB_"+f.idx),p=[z("#mCSB_"+f.idx+"_dragger_vertical"),z("#mCSB_"+f.idx+"_dragger_horizontal")],t=z("#mCSB_"+f.idx+"_container").find("iframe");t.length&&t.each(function(){z(this).bind("load",function(){q(this)&&z(this.contentDocument||this.contentWindow.document).bind("mousewheel."+e,function(e,t){o(e,t)})})}),m.bind("mousewheel."+e,function(e,t){o(e,t)})}function o(e,t){if(J(u),!R(u,e.target)){var o="auto"!==h.mouseWheel.deltaFactor?parseInt(h.mouseWheel.deltaFactor):g&&e.deltaFactor<100?100:e.deltaFactor||100,a=h.scrollInertia;if("x"===h.axis||"x"===h.mouseWheel.axis)var n="x",i=[Math.round(o*f.scrollRatio.x),parseInt(h.mouseWheel.scrollAmount)],r="auto"!==h.mouseWheel.scrollAmount?i[1]:i[0]>=m.width()?.9*m.width():i[0],l=Math.abs(z("#mCSB_"+f.idx+"_container")[0].offsetLeft),s=p[1][0].offsetLeft,c=p[1].parent().width()-p[1].width(),d="y"===h.mouseWheel.axis?e.deltaY||t:e.deltaX;else var n="y",i=[Math.round(o*f.scrollRatio.y),parseInt(h.mouseWheel.scrollAmount)],r="auto"!==h.mouseWheel.scrollAmount?i[1]:i[0]>=m.height()?.9*m.height():i[0],l=Math.abs(z("#mCSB_"+f.idx+"_container")[0].offsetTop),s=p[0][0].offsetTop,c=p[0].parent().height()-p[0].height(),d=e.deltaY||t;"y"===n&&!f.overflowed[0]||"x"===n&&!f.overflowed[1]||((h.mouseWheel.invert||e.webkitDirectionInvertedFromDevice)&&(d=-d),h.mouseWheel.normalizeDelta&&(d=d<0?-1:1),(0<d&&0!==s||d<0&&s!==c||h.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),e.deltaFactor<5&&!h.mouseWheel.normalizeDelta&&(r=e.deltaFactor,a=17),K(u,(l-d*r).toString(),{dir:n,dur:a}))}}},E=new Object,q=function(e){var t=!1,o=!1,a=null;if(void 0===e?o="#empty":void 0!==z(e).attr("id")&&(o=z(e).attr("id")),!1!==o&&void 0!==E[o])return E[o];if(e){try{var n=e.contentDocument||e.contentWindow.document;a=n.body.innerHTML}catch(e){}t=null!==a}else{try{var n=top.document;a=n.body.innerHTML}catch(e){}t=null!==a}return!1!==o&&(E[o]=t),t},W=function(e){var t=this.find("iframe");if(t.length){var o=e?"auto":"none";t.css("pointer-events",o)}},R=function(e,t){var o=t.nodeName.toLowerCase(),a=e.data(H).opt.mouseWheel.disableOver;return-1<z.inArray(o,a)&&!(-1<z.inArray(o,["select","textarea"])&&!z(t).is(":focus"))},A=function(){var r,l=z(this),s=l.data(H),e=H+"_"+s.idx,c=z("#mCSB_"+s.idx+"_container"),d=c.parent(),t=z(".mCSB_"+s.idx+"_scrollbar ."+S[12]);t.bind("mousedown."+e+" touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,function(e){U=!0,z(e.target).hasClass("mCSB_dragger")||(r=1)}).bind("touchend."+e+" pointerup."+e+" MSPointerUp."+e,function(e){U=!1}).bind("click."+e,function(e){if(r&&(r=0,z(e.target).hasClass(S[12])||z(e.target).hasClass("mCSB_draggerRail"))){J(l);var t=z(this),o=t.find(".mCSB_dragger");if(0<t.parent(".mCSB_scrollTools_horizontal").length){if(!s.overflowed[1])return;var a="x",n=e.pageX>o.offset().left?-1:1,i=Math.abs(c[0].offsetLeft)-n*(.9*d.width())}else{if(!s.overflowed[0])return;var a="y",n=e.pageY>o.offset().top?-1:1,i=Math.abs(c[0].offsetTop)-n*(.9*d.height())}K(l,i.toString(),{dir:a,scrollEasing:"mcsEaseInOut"})}})},L=function(){var i=z(this),e=i.data(H),r=e.opt,t=H+"_"+e.idx,l=z("#mCSB_"+e.idx+"_container"),s=l.parent();l.bind("focusin."+t,function(e){var n=z(document.activeElement),t=l.find(".mCustomScrollBox").length;n.is(r.advanced.autoScrollOnFocus)&&(J(i),clearTimeout(i[0]._focusTimeout),i[0]._focusTimer=t?17*t:0,i[0]._focusTimeout=setTimeout(function(){var e=[ie(n)[0],ie(n)[1]],t=[l[0].offsetTop,l[0].offsetLeft],o=[0<=t[0]+e[0]&&t[0]+e[0]<s.height()-n.outerHeight(!1),0<=t[1]+e[1]&&t[0]+e[1]<s.width()-n.outerWidth(!1)],a="yx"!==r.axis||o[0]||o[1]?"all":"none";"x"===r.axis||o[0]||K(i,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:a,dur:0}),"y"===r.axis||o[1]||K(i,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:a,dur:0})},i[0]._focusTimer))})},j=function(){var e=z(this),t=e.data(H),o=H+"_"+t.idx,a=z("#mCSB_"+t.idx+"_container").parent();a.bind("scroll."+o,function(e){0===a.scrollTop()&&0===a.scrollLeft()||z(".mCSB_"+t.idx+"_scrollbar").css("visibility","hidden")})},Y=function(){var a=z(this),n=a.data(H),i=n.opt,r=n.sequential,e=H+"_"+n.idx,t=".mCSB_"+n.idx+"_scrollbar",o=z(t+">a");o.bind("contextmenu."+e,function(e){e.preventDefault()}).bind("mousedown."+e+" touchstart."+e+" pointerdown."+e+" MSPointerDown."+e+" mouseup."+e+" touchend."+e+" pointerup."+e+" MSPointerUp."+e+" mouseout."+e+" pointerout."+e+" MSPointerOut."+e+" click."+e,function(e){if(e.preventDefault(),oe(e)){var t=z(this).attr("class");switch(r.type=i.scrollButtons.scrollType,e.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===r.type)return;U=!0,n.tweenRunning=!1,o("on",t);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===r.type)return;U=!1,r.dir&&o("off",t);break;case"click":if("stepped"!==r.type||n.tweenRunning)return;o("on",t)}}function o(e,t){r.scrollAmount=i.scrollButtons.scrollAmount,N(a,e,t)}})},X=function(){var l=z(this),s=l.data(H),c=s.opt,d=s.sequential,e=H+"_"+s.idx,t=z("#mCSB_"+s.idx),u=z("#mCSB_"+s.idx+"_container"),f=u.parent(),h="input,textarea,select,datalist,keygen,[contenteditable='true']",o=u.find("iframe"),a=["blur."+e+" keydown."+e+" keyup."+e];function n(e){switch(e.type){case"blur":s.tweenRunning&&d.dir&&r("off",null);break;case"keydown":case"keyup":var t=e.keyCode?e.keyCode:e.which,o="on";if("x"!==c.axis&&(38===t||40===t)||"y"!==c.axis&&(37===t||39===t)){if((38===t||40===t)&&!s.overflowed[0]||(37===t||39===t)&&!s.overflowed[1])return;"keyup"===e.type&&(o="off"),z(document.activeElement).is(h)||(e.preventDefault(),e.stopImmediatePropagation(),r(o,t))}else if(33===t||34===t){if((s.overflowed[0]||s.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type){J(l);var a=34===t?-1:1;if("x"===c.axis||"yx"===c.axis&&s.overflowed[1]&&!s.overflowed[0])var n="x",i=Math.abs(u[0].offsetLeft)-a*(.9*f.width());else var n="y",i=Math.abs(u[0].offsetTop)-a*(.9*f.height());K(l,i.toString(),{dir:n,scrollEasing:"mcsEaseInOut"})}}else if((35===t||36===t)&&!z(document.activeElement).is(h)&&((s.overflowed[0]||s.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type)){if("x"===c.axis||"yx"===c.axis&&s.overflowed[1]&&!s.overflowed[0])var n="x",i=35===t?Math.abs(f.width()-u.outerWidth(!1)):0;else var n="y",i=35===t?Math.abs(f.height()-u.outerHeight(!1)):0;K(l,i.toString(),{dir:n,scrollEasing:"mcsEaseInOut"})}}function r(e,t){d.type=c.keyboard.scrollType,d.scrollAmount=c.keyboard.scrollAmount,"stepped"===d.type&&s.tweenRunning||N(l,e,t)}}o.length&&o.each(function(){z(this).bind("load",function(){q(this)&&z(this.contentDocument||this.contentWindow.document).bind(a[0],function(e){n(e)})})}),t.attr("tabindex","0").bind(a[0],function(e){n(e)})},N=function(u,e,t,f,h){var m=u.data(H),p=m.opt,g=m.sequential,v=z("#mCSB_"+m.idx+"_container"),o="stepped"===g.type,x=p.scrollInertia<26?26:p.scrollInertia,_=p.scrollInertia<1?17:p.scrollInertia;switch(e){case"on":if(g.dir=[t===S[16]||t===S[15]||39===t||37===t?"x":"y",t===S[13]||t===S[15]||38===t||37===t?-1:1],J(u),ne(t)&&"stepped"===g.type)return;w(o);break;case"off":clearTimeout(g.step),te(g,"step"),J(u),(o||m.tweenRunning&&g.dir)&&w(!0)}function w(e){p.snapAmount&&(g.scrollAmount=p.snapAmount instanceof Array?"x"===g.dir[0]?p.snapAmount[1]:p.snapAmount[0]:p.snapAmount);var t="stepped"!==g.type,o=h||(e?t?x/1.5:_:1e3/60),a=e?t?7.5:40:2.5,n=[Math.abs(v[0].offsetTop),Math.abs(v[0].offsetLeft)],i=[10<m.scrollRatio.y?10:m.scrollRatio.y,10<m.scrollRatio.x?10:m.scrollRatio.x],r="x"===g.dir[0]?n[1]+g.dir[1]*(i[1]*a):n[0]+g.dir[1]*(i[0]*a),l="x"===g.dir[0]?n[1]+g.dir[1]*parseInt(g.scrollAmount):n[0]+g.dir[1]*parseInt(g.scrollAmount),s="auto"!==g.scrollAmount?l:r,c=f||(e?t?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),d=!!e;e&&o<17&&(s="x"===g.dir[0]?n[1]:n[0]),K(u,s.toString(),{dir:g.dir[0],scrollEasing:c,dur:o,onComplete:d}),e?g.dir=!1:(clearTimeout(g.step),g.step=setTimeout(function(){w()},o))}},V=function(e){var t=z(this).data(H).opt,o=[];return"function"==typeof e&&(e=e()),e instanceof Array?o=1<e.length?[e[0],e[1]]:"x"===t.axis?[null,e[0]]:[e[0],null]:(o[0]=e.y?e.y:e.x||"x"===t.axis?null:e,o[1]=e.x?e.x:e.y||"y"===t.axis?null:e),"function"==typeof o[0]&&(o[0]=o[0]()),"function"==typeof o[1]&&(o[1]=o[1]()),o},Q=function(e,t){if(null!=e&&void 0!==e){var o=z(this),a=o.data(H),n=a.opt,i=z("#mCSB_"+a.idx+"_container"),r=i.parent(),l=typeof e;t||(t="x"===n.axis?"x":"y");var s="x"===t?i.outerWidth(!1)-r.width():i.outerHeight(!1)-r.height(),c="x"===t?i[0].offsetLeft:i[0].offsetTop,d="x"===t?"left":"top";switch(l){case"function":return e();case"object":var u=e.jquery?e:z(e);if(!u.length)return;return"x"===t?ie(u)[1]:ie(u)[0];case"string":case"number":if(ne(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(s*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(c-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var f=c+parseInt(e.split("+=")[1]);return 0<=f?0:Math.abs(f)}if(-1!==e.indexOf("px")&&ne(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(r.height()-i.outerHeight(!1));if("right"===e)return Math.abs(r.width()-i.outerWidth(!1));if("first"===e||"last"===e){var u=i.find(":"+e);return"x"===t?ie(u)[1]:ie(u)[0]}return z(e).length?"x"===t?ie(z(e))[1]:ie(z(e))[0]:(i.css(d,e),void m.update.call(null,o[0]))}}},G=function(e){var t=z(this),o=t.data(H),a=o.opt,n=z("#mCSB_"+o.idx+"_container");if(e)return clearTimeout(n[0].autoUpdate),void te(n[0],"autoUpdate");function i(e){clearTimeout(n[0].autoUpdate),m.update.call(null,t[0],e)}!function e(){clearTimeout(n[0].autoUpdate),0!==t.parents("html").length?n[0].autoUpdate=setTimeout(function(){return a.advanced.updateOnSelectorChange&&(o.poll.change.n=function(){!0===a.advanced.updateOnSelectorChange&&(a.advanced.updateOnSelectorChange="*");var e=0,t=n.find(a.advanced.updateOnSelectorChange);return a.advanced.updateOnSelectorChange&&0<t.length&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}(),o.poll.change.n!==o.poll.change.o)?(o.poll.change.o=o.poll.change.n,void i(3)):a.advanced.updateOnContentResize&&(o.poll.size.n=t[0].scrollHeight+t[0].scrollWidth+n[0].offsetHeight+t[0].offsetHeight+t[0].offsetWidth,o.poll.size.n!==o.poll.size.o)?(o.poll.size.o=o.poll.size.n,void i(1)):!a.advanced.updateOnImageLoad||"auto"===a.advanced.updateOnImageLoad&&"y"===a.axis||(o.poll.img.n=n.find("img").length,o.poll.img.n===o.poll.img.o)?void((a.advanced.updateOnSelectorChange||a.advanced.updateOnContentResize||a.advanced.updateOnImageLoad)&&e()):(o.poll.img.o=o.poll.img.n,void n.find("img").each(function(){!function(e){if(z(e).hasClass(S[2]))return i();var t,o,a=new Image;a.onload=(t=a,o=function(){this.onload=null,z(e).addClass(S[2]),i(2)},function(){return o.apply(t,arguments)}),a.src=e.src}(this)}))},a.advanced.autoUpdateTimeout):t=null}()},J=function(e){var t=e.data(H),o=z("#mCSB_"+t.idx+"_container,#mCSB_"+t.idx+"_container_wrapper,#mCSB_"+t.idx+"_dragger_vertical,#mCSB_"+t.idx+"_dragger_horizontal");o.each(function(){ee.call(this)})},K=function(n,e,i){var t=n.data(H),o=t.opt,a={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:o.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=z.extend(a,i),r=[i.dur,i.drag?0:i.dur],l=z("#mCSB_"+t.idx),s=z("#mCSB_"+t.idx+"_container"),c=s.parent(),d=o.callbacks.onTotalScrollOffset?V.call(n,o.callbacks.onTotalScrollOffset):[0,0],u=o.callbacks.onTotalScrollBackOffset?V.call(n,o.callbacks.onTotalScrollBackOffset):[0,0];if(t.trigger=i.trigger,0===c.scrollTop()&&0===c.scrollLeft()||(z(".mCSB_"+t.idx+"_scrollbar").css("visibility","visible"),c.scrollTop(0).scrollLeft(0)),"_resetY"!==e||t.contentReset.y||(B("onOverflowYNone")&&o.callbacks.onOverflowYNone.call(n[0]),t.contentReset.y=1),"_resetX"!==e||t.contentReset.x||(B("onOverflowXNone")&&o.callbacks.onOverflowXNone.call(n[0]),t.contentReset.x=1),"_resetY"!==e&&"_resetX"!==e){if(!t.contentReset.y&&n[0].mcs||!t.overflowed[0]||(B("onOverflowY")&&o.callbacks.onOverflowY.call(n[0]),t.contentReset.x=null),!t.contentReset.x&&n[0].mcs||!t.overflowed[1]||(B("onOverflowX")&&o.callbacks.onOverflowX.call(n[0]),t.contentReset.x=null),o.snapAmount){var f=o.snapAmount instanceof Array?"x"===i.dir?o.snapAmount[1]:o.snapAmount[0]:o.snapAmount;h=e,m=f,p=o.snapOffset,e=Math.round(h/m)*m-p}var h,m,p;switch(i.dir){case"x":var g=z("#mCSB_"+t.idx+"_dragger_horizontal"),v="left",x=s[0].offsetLeft,_=[l.width()-s.outerWidth(!1),g.parent().width()-g.width()],w=[e,0===e?0:e/t.scrollRatio.x],S=d[1],b=u[1],C=0<S?S/t.scrollRatio.x:0,y=0<b?b/t.scrollRatio.x:0;break;case"y":var g=z("#mCSB_"+t.idx+"_dragger_vertical"),v="top",x=s[0].offsetTop,_=[l.height()-s.outerHeight(!1),g.parent().height()-g.height()],w=[e,0===e?0:e/t.scrollRatio.y],S=d[0],b=u[0],C=0<S?S/t.scrollRatio.y:0,y=0<b?b/t.scrollRatio.y:0}w[1]<0||0===w[0]&&0===w[1]?w=[0,0]:w[1]>=_[1]?w=[_[0],_[1]]:w[0]=-w[0],n[0].mcs||(T(),B("onInit")&&o.callbacks.onInit.call(n[0])),clearTimeout(s[0].onCompleteTimeout),Z(g[0],v,Math.round(w[1]),r[1],i.scrollEasing),!t.tweenRunning&&(0===x&&0<=w[0]||x===_[0]&&w[0]<=_[0])||Z(s[0],v,Math.round(w[0]),r[0],i.scrollEasing,i.overwrite,{onStart:function(){i.callbacks&&i.onStart&&!t.tweenRunning&&(B("onScrollStart")&&(T(),o.callbacks.onScrollStart.call(n[0])),t.tweenRunning=!0,k(g),t.cbOffsets=[o.callbacks.alwaysTriggerOffsets||x>=_[0]+S,o.callbacks.alwaysTriggerOffsets||x<=-b])},onUpdate:function(){i.callbacks&&i.onUpdate&&B("whileScrolling")&&(T(),o.callbacks.whileScrolling.call(n[0]))},onComplete:function(){if(i.callbacks&&i.onComplete){"yx"===o.axis&&clearTimeout(s[0].onCompleteTimeout);var e=s[0].idleTimer||0;s[0].onCompleteTimeout=setTimeout(function(){B("onScroll")&&(T(),o.callbacks.onScroll.call(n[0])),B("onTotalScroll")&&w[1]>=_[1]-C&&t.cbOffsets[0]&&(T(),o.callbacks.onTotalScroll.call(n[0])),B("onTotalScrollBack")&&w[1]<=y&&t.cbOffsets[1]&&(T(),o.callbacks.onTotalScrollBack.call(n[0])),t.tweenRunning=!1,s[0].idleTimer=0,k(g,"hide")},e)}}})}function B(e){return t&&o.callbacks[e]&&"function"==typeof o.callbacks[e]}function T(){var e=[s[0].offsetTop,s[0].offsetLeft],t=[g[0].offsetTop,g[0].offsetLeft],o=[s.outerHeight(!1),s.outerWidth(!1)],a=[l.height(),l.width()];n[0].mcs={content:s,top:e[0],left:e[1],draggerTop:t[0],draggerLeft:t[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(o[0])-a[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(o[1])-a[1])),direction:i.dir}}},Z=function(e,t,o,a,n,i,r){e._mTween||(e._mTween={top:{},left:{}});var l,s,r=r||{},c=r.onStart||function(){},d=r.onUpdate||function(){},u=r.onComplete||function(){},f=$(),h=0,m=e.offsetTop,p=e.style,g=e._mTween[t];"left"===t&&(m=e.offsetLeft);var v=o-m;function x(){g.stop||(h||c.call(),h=$()-f,_(),h>=g.time&&(g.time=h>g.time?h+l-(h-g.time):h+l-1,g.time<h+1&&(g.time=h+1)),g.time<a?g.id=s(x):u.call())}function _(){0<a?(g.currVal=function(e,t,o,a,n){switch(n){case"linear":case"mcsLinear":return o*e/a+t;case"mcsLinearOut":return e/=a,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return(e/=a/2)<1?o/2*e*e+t:-o/2*(--e*(e-2)-1)+t;case"easeInOutStrong":return(e/=a/2)<1?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(2-Math.pow(2,-10*e))+t);case"easeInOut":case"mcsEaseInOut":return(e/=a/2)<1?o/2*e*e*e+t:o/2*((e-=2)*e*e+2)+t;case"easeOutSmooth":return e/=a,-o*(--e*e*e*e-1)+t;case"easeOutStrong":return o*(1-Math.pow(2,-10*e/a))+t;case"easeOut":case"mcsEaseOut":default:var i=(e/=a)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}(g.time,m,v,a,n),p[t]=Math.round(g.currVal)+"px"):p[t]=o+"px",d.call()}g.stop=0,"none"!==i&&null!=g.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(g.id):clearTimeout(g.id),g.id=null),l=1e3/60,g.time=h+l,s=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return _(),setTimeout(e,.01)},g.id=s(x)},$=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},ee=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],o=0;o<t.length;o++){var a=t[o];e._mTween[a].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[a].id):clearTimeout(e._mTween[a].id),e._mTween[a].id=null,e._mTween[a].stop=1)}},te=function(t,o){try{delete t[o]}catch(e){t[o]=null}},oe=function(e){return!(e.which&&1!==e.which)},ae=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},ne=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ie=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},re=function(){var e=function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}();return!!e&&document[e]},z.fn[h]=function(e){return m[e]?m[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void z.error("Method "+e+" does not exist"):m.init.apply(this,arguments)},z[h]=function(e){return m[e]?m[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void z.error("Method "+e+" does not exist"):m.init.apply(this,arguments)},z[h].defaults=n,window[h]=!0,z(window).bind("load",function(){z(a)[h](),z.extend(z.expr[":"],{mcsInView:z.expr[":"].mcsInView||function(e){var t,o,a=z(e),n=a.parents(".mCSB_container");if(n.length)return t=n.parent(),0<=(o=[n[0].offsetTop,n[0].offsetLeft])[0]+ie(a)[0]&&o[0]+ie(a)[0]<t.height()-a.outerHeight(!1)&&0<=o[1]+ie(a)[1]&&o[1]+ie(a)[1]<t.width()-a.outerWidth(!1)},mcsInSight:z.expr[":"].mcsInSight||function(e,t,o){var a,n,i,r,l=z(e),s=l.parents(".mCSB_container"),c="exact"===o[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(s.length)return a=[l.outerHeight(!1),l.outerWidth(!1)],i=[s[0].offsetTop+ie(l)[0],s[0].offsetLeft+ie(l)[1]],n=[s.parent()[0].offsetHeight,s.parent()[0].offsetWidth],i[0]-n[0]*(r=[a[0]<n[0]?c[0]:c[1],a[1]<n[1]?c[0]:c[1]])[0][0]<0&&0<=i[0]+a[0]-n[0]*r[0][1]&&i[1]-n[1]*r[1][0]<0&&0<=i[1]+a[1]-n[1]*r[1][1]},mcsOverflow:z.expr[":"].mcsOverflow||function(e){var t=z(e).data(H);if(t)return t.overflowed[0]||t.overflowed[1]}})})});
